var $o=t=>{throw TypeError(t)};var ri=(t,e,s)=>e.has(t)||$o("Cannot "+s);var k=(t,e,s)=>(ri(t,e,"read from private field"),s?s.call(t):e.get(t)),he=(t,e,s)=>e.has(t)?$o("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),ae=(t,e,s,n)=>(ri(t,e,"write to private field"),n?n.call(t,s):e.set(t,s),s),Be=(t,e,s)=>(ri(t,e,"access private method"),s);var Bn=(t,e,s,n)=>({set _(a){ae(t,e,a,s)},get _(){return k(t,e,n)}});import{j as r,S as Yi,a as rc,C as Lf,b as nc,P as Vf,c as ac,I as ic,d as oc,e as lc,f as Us,R as cc,g as dc,L as uc,h as pc,i as zf,T as $f,k as cs,l as ye,u as vs,m as Wt,M as Uf,n as fc,o as mc,U as Bf,p as qf,q as Ue,r as Ra,s as vr,t as we,X as hc,v as Hf,F as xc,W as gc,w as Zt,x as Wf,y as Zf,z as ys,A as Pa,B as vc,D as yc,E as Vr,G as Da,H as Gf,J as vi,K as ir,N as Ji,O as yi,Q as At,V as Xi,Y as un,Z as bi,_ as eo,$ as to,a0 as bc,a1 as so,a2 as ro,a3 as no,a4 as ao,a5 as wc,a6 as jc,a7 as Kf,a8 as Qf,a9 as Yf,aa as Jf,ab as Xf,ac as em,ad as tm,ae as sm,af as rm,ag as nm,ah as am,ai as _c,aj as im,ak as Sc,al as om,am as lm,an as cm,ao as Nc,ap as aa,aq as wi,ar as io,as as kc,at as dm,au as On,av as um,aw as is,ax as Cc,ay as pm,az as Ec,aA as fm,aB as mm,aC as ji,aD as hm,aE as xm,aF as yr}from"./ui-CViI3Sqm.js";import{a as oo,r as u,u as _t,N as Uo,O as Ac,R as Se,L as Ks,d as gm,e as vm,f as ia,g as ym,B as bm,h as wm,i as ft}from"./vendor-CBAWhRl3.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var _i={},Bo=oo;_i.createRoot=Bo.createRoot,_i.hydrateRoot=Bo.hydrateRoot;var Fn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Oa=typeof window>"u"||"Deno"in globalThis;function Vt(){}function jm(t,e){return typeof t=="function"?t(e):t}function _m(t){return typeof t=="number"&&t>=0&&t!==1/0}function Sm(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qo(t,e){return typeof t=="function"?t(e):t}function Nm(t,e){return typeof t=="function"?t(e):t}function Ho(t,e){const{type:s="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==lo(o,e.options))return!1}else if(!hn(e.queryKey,o))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function Wo(t,e){const{exact:s,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(s){if(or(e.options.mutationKey)!==or(i))return!1}else if(!hn(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function lo(t,e){return((e==null?void 0:e.queryKeyHashFn)||or)(t)}function or(t){return JSON.stringify(t,(e,s)=>Si(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function hn(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!hn(t[s],e[s])):!1}function Tc(t,e){if(t===e)return t;const s=Zo(t)&&Zo(e);if(s||Si(t)&&Si(e)){const n=s?t:Object.keys(t),a=n.length,i=s?e:Object.keys(e),o=i.length,l=s?[]:{};let c=0;for(let d=0;d<o;d++){const p=s?d:i[d];(!s&&n.includes(p)||s)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,c++):(l[p]=Tc(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&c++)}return a===o&&c===a?t:l}return e}function km(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function Zo(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Si(t){if(!Go(t))return!1;const e=t.constructor;if(e===void 0)return!0;const s=e.prototype;return!(!Go(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Go(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cm(t){return new Promise(e=>{setTimeout(e,t)})}function Em(t,e,s){return typeof s.structuralSharing=="function"?s.structuralSharing(t,e):s.structuralSharing!==!1?Tc(t,e):e}function Am(t,e,s=0){const n=[...t,e];return s&&n.length>s?n.slice(1):n}function Tm(t,e,s=0){const n=[e,...t];return s&&n.length>s?n.slice(0,-1):n}var co=Symbol();function Rc(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===co?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Xs,Es,Tr,Gl,Rm=(Gl=class extends Fn{constructor(){super();he(this,Xs);he(this,Es);he(this,Tr);ae(this,Tr,e=>{if(!Oa&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){k(this,Es)||this.setEventListener(k(this,Tr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Es))==null||e.call(this),ae(this,Es,void 0))}setEventListener(e){var s;ae(this,Tr,e),(s=k(this,Es))==null||s.call(this),ae(this,Es,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){k(this,Xs)!==e&&(ae(this,Xs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){var e;return typeof k(this,Xs)=="boolean"?k(this,Xs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Xs=new WeakMap,Es=new WeakMap,Tr=new WeakMap,Gl),Pc=new Rm,Rr,As,Pr,Kl,Pm=(Kl=class extends Fn{constructor(){super();he(this,Rr,!0);he(this,As);he(this,Pr);ae(this,Pr,e=>{if(!Oa&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}})}onSubscribe(){k(this,As)||this.setEventListener(k(this,Pr))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,As))==null||e.call(this),ae(this,As,void 0))}setEventListener(e){var s;ae(this,Pr,e),(s=k(this,As))==null||s.call(this),ae(this,As,e(this.setOnline.bind(this)))}setOnline(e){k(this,Rr)!==e&&(ae(this,Rr,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return k(this,Rr)}},Rr=new WeakMap,As=new WeakMap,Pr=new WeakMap,Kl),oa=new Pm;function Dm(){let t,e;const s=new Promise((a,i)=>{t=a,e=i});s.status="pending",s.catch(()=>{});function n(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},s.reject=a=>{n({status:"rejected",reason:a}),e(a)},s}function Om(t){return Math.min(1e3*2**t,3e4)}function Dc(t){return(t??"online")==="online"?oa.isOnline():!0}var Oc=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ni(t){return t instanceof Oc}function Fc(t){let e=!1,s=0,n=!1,a;const i=Dm(),o=m=>{var x;n||(h(new Oc(m)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>Pc.isFocused()&&(t.networkMode==="always"||oa.isOnline())&&t.canRun(),p=()=>Dc(t.networkMode)&&t.canRun(),f=m=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,m),a==null||a(),i.resolve(m))},h=m=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,m),a==null||a(),i.reject(m))},b=()=>new Promise(m=>{var x;a=w=>{(n||d())&&m(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var m;a=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const x=s===0?t.initialPromise:void 0;try{m=x??t.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var P;if(n)return;const y=t.retry??(Oa?0:3),j=t.retryDelay??Om,R=typeof j=="function"?j(s,w):j,S=y===!0||typeof y=="number"&&s<y||typeof y=="function"&&y(s,w);if(e||!S){h(w);return}s++,(P=t.onFail)==null||P.call(t,s,w),Cm(R).then(()=>d()?void 0:b()).then(()=>{e?h(w):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?g():b().then(g),i)}}function Fm(){let t=[],e=0,s=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{e?t.push(l):a(()=>{s(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{s(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{s=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var st=Fm(),er,Ql,Ic=(Ql=class{constructor(){he(this,er)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_m(this.gcTime)&&ae(this,er,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Oa?1/0:5*60*1e3))}clearGcTimeout(){k(this,er)&&(clearTimeout(k(this,er)),ae(this,er,void 0))}},er=new WeakMap,Ql),Dr,Or,Tt,tr,ot,Pn,sr,zt,fs,Yl,Im=(Yl=class extends Ic{constructor(e){super();he(this,zt);he(this,Dr);he(this,Or);he(this,Tt);he(this,tr);he(this,ot);he(this,Pn);he(this,sr);ae(this,sr,!1),ae(this,Pn,e.defaultOptions),this.setOptions(e.options),this.observers=[],ae(this,tr,e.client),ae(this,Tt,k(this,tr).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ae(this,Dr,Lm(this.options)),this.state=e.state??k(this,Dr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,ot))==null?void 0:e.promise}setOptions(e){this.options={...k(this,Pn),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Tt).remove(this)}setData(e,s){const n=Em(this.state.data,e,this.options);return Be(this,zt,fs).call(this,{data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){Be(this,zt,fs).call(this,{type:"setState",state:e,setStateOptions:s})}cancel(e){var n,a;const s=(n=k(this,ot))==null?void 0:n.promise;return(a=k(this,ot))==null||a.cancel(e),s?s.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Dr))}isActive(){return this.observers.some(e=>Nm(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===co||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Sm(this.state.dataUpdatedAt,e)}onFocus(){var s;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(s=k(this,ot))==null||s.continue()}onOnline(){var s;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(s=k(this,ot))==null||s.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Tt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(k(this,ot)&&(k(this,sr)?k(this,ot).cancel({revert:!0}):k(this,ot).cancelRetry()),this.scheduleGc()),k(this,Tt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,zt,fs).call(this,{type:"invalidate"})}fetch(e,s){var c,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(k(this,ot))return k(this,ot).continueRetry(),k(this,ot).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ae(this,sr,!0),n.signal)})},i=()=>{const f=Rc(this.options,s),h={client:k(this,tr),queryKey:this.queryKey,meta:this.meta};return a(h),ae(this,sr,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:k(this,tr),state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),ae(this,Or,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Be(this,zt,fs).call(this,{type:"fetch",meta:(p=o.fetchOptions)==null?void 0:p.meta});const l=f=>{var h,b,g,m;ni(f)&&f.silent||Be(this,zt,fs).call(this,{type:"error",error:f}),ni(f)||((b=(h=k(this,Tt).config).onError)==null||b.call(h,f,this),(m=(g=k(this,Tt).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return ae(this,ot,Fc({initialPromise:s==null?void 0:s.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,b,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(b=(h=k(this,Tt).config).onSuccess)==null||b.call(h,f,this),(m=(g=k(this,Tt).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Be(this,zt,fs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Be(this,zt,fs).call(this,{type:"pause"})},onContinue:()=>{Be(this,zt,fs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),k(this,ot).start()}},Dr=new WeakMap,Or=new WeakMap,Tt=new WeakMap,tr=new WeakMap,ot=new WeakMap,Pn=new WeakMap,sr=new WeakMap,zt=new WeakSet,fs=function(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Mm(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=e.error;return ni(a)&&a.revert&&k(this,Or)?{...k(this,Or),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),st.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),k(this,Tt).notify({query:this,type:"updated",action:e})})},Yl);function Mm(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Dc(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Lm(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,s=e!==void 0,n=s?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var es,Jl,Vm=(Jl=class extends Fn{constructor(e={}){super();he(this,es);this.config=e,ae(this,es,new Map)}build(e,s,n){const a=s.queryKey,i=s.queryHash??lo(a,s);let o=this.get(i);return o||(o=new Im({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){k(this,es).has(e.queryHash)||(k(this,es).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=k(this,es).get(e.queryHash);s&&(e.destroy(),s===e&&k(this,es).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){st.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,es).get(e)}getAll(){return[...k(this,es).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Ho(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>Ho(e,n)):s}notify(e){st.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){st.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){st.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},es=new WeakMap,Jl),ts,mt,rr,ss,ks,Xl,zm=(Xl=class extends Ic{constructor(e){super();he(this,ss);he(this,ts);he(this,mt);he(this,rr);this.mutationId=e.mutationId,ae(this,mt,e.mutationCache),ae(this,ts,[]),this.state=e.state||Mc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,ts).includes(e)||(k(this,ts).push(e),this.clearGcTimeout(),k(this,mt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ae(this,ts,k(this,ts).filter(s=>s!==e)),this.scheduleGc(),k(this,mt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,ts).length||(this.state.status==="pending"?this.scheduleGc():k(this,mt).remove(this))}continue(){var e;return((e=k(this,rr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,i,o,l,c,d,p,f,h,b,g,m,x,w,y,j,R,S,P,D;ae(this,rr,Fc({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(V,H)=>{Be(this,ss,ks).call(this,{type:"failed",failureCount:V,error:H})},onPause:()=>{Be(this,ss,ks).call(this,{type:"pause"})},onContinue:()=>{Be(this,ss,ks).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,mt).canRun(this)}));const s=this.state.status==="pending",n=!k(this,rr).canStart();try{if(!s){Be(this,ss,ks).call(this,{type:"pending",variables:e,isPaused:n}),await((i=(a=k(this,mt).config).onMutate)==null?void 0:i.call(a,e,this));const H=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));H!==this.state.context&&Be(this,ss,ks).call(this,{type:"pending",context:H,variables:e,isPaused:n})}const V=await k(this,rr).start();return await((d=(c=k(this,mt).config).onSuccess)==null?void 0:d.call(c,V,e,this.state.context,this)),await((f=(p=this.options).onSuccess)==null?void 0:f.call(p,V,e,this.state.context)),await((b=(h=k(this,mt).config).onSettled)==null?void 0:b.call(h,V,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,V,null,e,this.state.context)),Be(this,ss,ks).call(this,{type:"success",data:V}),V}catch(V){try{throw await((w=(x=k(this,mt).config).onError)==null?void 0:w.call(x,V,e,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,V,e,this.state.context)),await((S=(R=k(this,mt).config).onSettled)==null?void 0:S.call(R,void 0,V,this.state.variables,this.state.context,this)),await((D=(P=this.options).onSettled)==null?void 0:D.call(P,void 0,V,e,this.state.context)),V}finally{Be(this,ss,ks).call(this,{type:"error",error:V})}}finally{k(this,mt).runNext(this)}}},ts=new WeakMap,mt=new WeakMap,rr=new WeakMap,ss=new WeakSet,ks=function(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),st.batch(()=>{k(this,ts).forEach(n=>{n.onMutationUpdate(e)}),k(this,mt).notify({mutation:this,type:"updated",action:e})})},Xl);function Mc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xs,$t,Dn,ec,$m=(ec=class extends Fn{constructor(e={}){super();he(this,xs);he(this,$t);he(this,Dn);this.config=e,ae(this,xs,new Set),ae(this,$t,new Map),ae(this,Dn,0)}build(e,s,n){const a=new zm({mutationCache:this,mutationId:++Bn(this,Dn)._,options:e.defaultMutationOptions(s),state:n});return this.add(a),a}add(e){k(this,xs).add(e);const s=qn(e);if(typeof s=="string"){const n=k(this,$t).get(s);n?n.push(e):k(this,$t).set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,xs).delete(e)){const s=qn(e);if(typeof s=="string"){const n=k(this,$t).get(s);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&k(this,$t).delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=qn(e);if(typeof s=="string"){const n=k(this,$t).get(s),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const s=qn(e);if(typeof s=="string"){const a=(n=k(this,$t).get(s))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){st.batch(()=>{k(this,xs).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,xs).clear(),k(this,$t).clear()})}getAll(){return Array.from(k(this,xs))}find(e){const s={exact:!0,...e};return this.getAll().find(n=>Wo(s,n))}findAll(e={}){return this.getAll().filter(s=>Wo(e,s))}notify(e){st.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return st.batch(()=>Promise.all(e.map(s=>s.continue().catch(Vt))))}},xs=new WeakMap,$t=new WeakMap,Dn=new WeakMap,ec);function qn(t){var e;return(e=t.options.scope)==null?void 0:e.id}function Ko(t){return{onFetch:(e,s)=>{var p,f,h,b,g;const n=e.options,a=(h=(f=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((b=e.state.data)==null?void 0:b.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let m=!1;const x=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},w=Rc(e.options,e.fetchOptions),y=async(j,R,S)=>{if(m)return Promise.reject();if(R==null&&j.pages.length)return Promise.resolve(j);const P={client:e.client,queryKey:e.queryKey,pageParam:R,direction:S?"backward":"forward",meta:e.options.meta};x(P);const D=await w(P),{maxPages:V}=e.options,H=S?Tm:Am;return{pages:H(j.pages,D,V),pageParams:H(j.pageParams,R,V)}};if(a&&i.length){const j=a==="backward",R=j?Um:Qo,S={pages:i,pageParams:o},P=R(n,S);l=await y(S,P,j)}else{const j=t??i.length;do{const R=c===0?o[0]??n.initialPageParam:Qo(n,l);if(c>0&&R==null)break;l=await y(l,R),c++}while(c<j)}return l};e.options.persister?e.fetchFn=()=>{var m,x;return(x=(m=e.options).persister)==null?void 0:x.call(m,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},s)}:e.fetchFn=d}}}function Qo(t,{pages:e,pageParams:s}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,s[n],s):void 0}function Um(t,{pages:e,pageParams:s}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,s[0],s):void 0}var $e,Ts,Rs,Fr,Ir,Ps,Mr,Lr,tc,Bm=(tc=class{constructor(t={}){he(this,$e);he(this,Ts);he(this,Rs);he(this,Fr);he(this,Ir);he(this,Ps);he(this,Mr);he(this,Lr);ae(this,$e,t.queryCache||new Vm),ae(this,Ts,t.mutationCache||new $m),ae(this,Rs,t.defaultOptions||{}),ae(this,Fr,new Map),ae(this,Ir,new Map),ae(this,Ps,0)}mount(){Bn(this,Ps)._++,k(this,Ps)===1&&(ae(this,Mr,Pc.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,$e).onFocus())})),ae(this,Lr,oa.subscribe(async t=>{t&&(await this.resumePausedMutations(),k(this,$e).onOnline())})))}unmount(){var t,e;Bn(this,Ps)._--,k(this,Ps)===0&&((t=k(this,Mr))==null||t.call(this),ae(this,Mr,void 0),(e=k(this,Lr))==null||e.call(this),ae(this,Lr,void 0))}isFetching(t){return k(this,$e).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,Ts).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=k(this,$e).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),s=k(this,$e).build(this,e),n=s.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&s.isStaleByTime(qo(e.staleTime,s))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return k(this,$e).findAll(t).map(({queryKey:e,state:s})=>{const n=s.data;return[e,n]})}setQueryData(t,e,s){const n=this.defaultQueryOptions({queryKey:t}),a=k(this,$e).get(n.queryHash),i=a==null?void 0:a.state.data,o=jm(e,i);if(o!==void 0)return k(this,$e).build(this,n).setData(o,{...s,manual:!0})}setQueriesData(t,e,s){return st.batch(()=>k(this,$e).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=k(this,$e).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=k(this,$e);st.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=k(this,$e);return st.batch(()=>(s.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const s={revert:!0,...e},n=st.batch(()=>k(this,$e).findAll(t).map(a=>a.cancel(s)));return Promise.all(n).then(Vt).catch(Vt)}invalidateQueries(t,e={}){return st.batch(()=>(k(this,$e).findAll(t).forEach(s=>{s.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const s={...e,cancelRefetch:e.cancelRefetch??!0},n=st.batch(()=>k(this,$e).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(Vt)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Vt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=k(this,$e).build(this,e);return s.isStaleByTime(qo(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vt).catch(Vt)}fetchInfiniteQuery(t){return t.behavior=Ko(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vt).catch(Vt)}ensureInfiniteQueryData(t){return t.behavior=Ko(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return oa.isOnline()?k(this,Ts).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,$e)}getMutationCache(){return k(this,Ts)}getDefaultOptions(){return k(this,Rs)}setDefaultOptions(t){ae(this,Rs,t)}setQueryDefaults(t,e){k(this,Fr).set(or(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,Fr).values()],s={};return e.forEach(n=>{hn(t,n.queryKey)&&Object.assign(s,n.defaultOptions)}),s}setMutationDefaults(t,e){k(this,Ir).set(or(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,Ir).values()],s={};return e.forEach(n=>{hn(t,n.mutationKey)&&Object.assign(s,n.defaultOptions)}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...k(this,Rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lo(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===co&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,Rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,$e).clear(),k(this,Ts).clear()}},$e=new WeakMap,Ts=new WeakMap,Rs=new WeakMap,Fr=new WeakMap,Ir=new WeakMap,Ps=new WeakMap,Mr=new WeakMap,Lr=new WeakMap,tc),Ds,Os,bt,gs,ws,Kn,Ni,sc,qm=(sc=class extends Fn{constructor(s,n){super();he(this,ws);he(this,Ds);he(this,Os);he(this,bt);he(this,gs);ae(this,Ds,s),this.setOptions(n),this.bindMethods(),Be(this,ws,Kn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){var a;const n=this.options;this.options=k(this,Ds).defaultMutationOptions(s),km(this.options,n)||k(this,Ds).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,bt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&or(n.mutationKey)!==or(this.options.mutationKey)?this.reset():((a=k(this,bt))==null?void 0:a.state.status)==="pending"&&k(this,bt).setOptions(this.options)}onUnsubscribe(){var s;this.hasListeners()||(s=k(this,bt))==null||s.removeObserver(this)}onMutationUpdate(s){Be(this,ws,Kn).call(this),Be(this,ws,Ni).call(this,s)}getCurrentResult(){return k(this,Os)}reset(){var s;(s=k(this,bt))==null||s.removeObserver(this),ae(this,bt,void 0),Be(this,ws,Kn).call(this),Be(this,ws,Ni).call(this)}mutate(s,n){var a;return ae(this,gs,n),(a=k(this,bt))==null||a.removeObserver(this),ae(this,bt,k(this,Ds).getMutationCache().build(k(this,Ds),this.options)),k(this,bt).addObserver(this),k(this,bt).execute(s)}},Ds=new WeakMap,Os=new WeakMap,bt=new WeakMap,gs=new WeakMap,ws=new WeakSet,Kn=function(){var n;const s=((n=k(this,bt))==null?void 0:n.state)??Mc();ae(this,Os,{...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset})},Ni=function(s){st.batch(()=>{var n,a,i,o,l,c,d,p;if(k(this,gs)&&this.hasListeners()){const f=k(this,Os).variables,h=k(this,Os).context;(s==null?void 0:s.type)==="success"?((a=(n=k(this,gs)).onSuccess)==null||a.call(n,s.data,f,h),(o=(i=k(this,gs)).onSettled)==null||o.call(i,s.data,null,f,h)):(s==null?void 0:s.type)==="error"&&((c=(l=k(this,gs)).onError)==null||c.call(l,s.error,f,h),(p=(d=k(this,gs)).onSettled)==null||p.call(d,void 0,s.error,f,h))}this.listeners.forEach(f=>{f(k(this,Os))})})},sc),Lc=u.createContext(void 0),Hm=t=>{const e=u.useContext(Lc);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Wm=({client:t,children:e})=>(u.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),r.jsx(Lc.Provider,{value:t,children:e}));function Zm(t,e){return typeof t=="function"?t(...e):!!t}function Gm(){}function Hn(t,e){const s=Hm(),[n]=u.useState(()=>new qm(s,t));u.useEffect(()=>{n.setOptions(t)},[n,t]);const a=u.useSyncExternalStore(u.useCallback(o=>n.subscribe(st.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=u.useCallback((o,l)=>{n.mutate(o,l).catch(Gm)},[n]);if(a.error&&Zm(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function Vc(t,e){return function(){return t.apply(e,arguments)}}const{toString:Km}=Object.prototype,{getPrototypeOf:uo}=Object,Fa=(t=>e=>{const s=Km.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=t=>(t=t.toLowerCase(),e=>Fa(e)===t),Ia=t=>e=>typeof e===t,{isArray:Zr}=Array,xn=Ia("undefined");function Qm(t){return t!==null&&!xn(t)&&t.constructor!==null&&!xn(t.constructor)&&Ct(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zc=Kt("ArrayBuffer");function Ym(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zc(t.buffer),e}const Jm=Ia("string"),Ct=Ia("function"),$c=Ia("number"),Ma=t=>t!==null&&typeof t=="object",Xm=t=>t===!0||t===!1,Qn=t=>{if(Fa(t)!=="object")return!1;const e=uo(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},eh=Kt("Date"),th=Kt("File"),sh=Kt("Blob"),rh=Kt("FileList"),nh=t=>Ma(t)&&Ct(t.pipe),ah=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ct(t.append)&&((e=Fa(t))==="formdata"||e==="object"&&Ct(t.toString)&&t.toString()==="[object FormData]"))},ih=Kt("URLSearchParams"),[oh,lh,ch,dh]=["ReadableStream","Request","Response","Headers"].map(Kt),uh=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function In(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),Zr(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(n=0;n<o;n++)l=i[n],e.call(null,t[l],l,t)}}function Uc(t,e){e=e.toLowerCase();const s=Object.keys(t);let n=s.length,a;for(;n-- >0;)if(a=s[n],e===a.toLowerCase())return a;return null}const Ys=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Bc=t=>!xn(t)&&t!==Ys;function ki(){const{caseless:t}=Bc(this)&&this||{},e={},s=(n,a)=>{const i=t&&Uc(e,a)||a;Qn(e[i])&&Qn(n)?e[i]=ki(e[i],n):Qn(n)?e[i]=ki({},n):Zr(n)?e[i]=n.slice():e[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&In(arguments[n],s);return e}const ph=(t,e,s,{allOwnKeys:n}={})=>(In(e,(a,i)=>{s&&Ct(a)?t[i]=Vc(a,s):t[i]=a},{allOwnKeys:n}),t),fh=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mh=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},hh=(t,e,s,n)=>{let a,i,o;const l={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=s!==!1&&uo(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},xh=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},gh=t=>{if(!t)return null;if(Zr(t))return t;let e=t.length;if(!$c(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},vh=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uo(Uint8Array)),yh=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},bh=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},wh=Kt("HTMLFormElement"),jh=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,a){return n.toUpperCase()+a}),Yo=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),_h=Kt("RegExp"),qc=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};In(s,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},Sh=t=>{qc(t,(e,s)=>{if(Ct(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(Ct(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Nh=(t,e)=>{const s={},n=a=>{a.forEach(i=>{s[i]=!0})};return Zr(t)?n(t):n(String(t).split(e)),s},kh=()=>{},Ch=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Eh(t){return!!(t&&Ct(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Ah=t=>{const e=new Array(10),s=(n,a)=>{if(Ma(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[a]=n;const i=Zr(n)?[]:{};return In(n,(o,l)=>{const c=s(o,a+1);!xn(c)&&(i[l]=c)}),e[a]=void 0,i}}return n};return s(t,0)},Th=Kt("AsyncFunction"),Rh=t=>t&&(Ma(t)||Ct(t))&&Ct(t.then)&&Ct(t.catch),Hc=((t,e)=>t?setImmediate:e?((s,n)=>(Ys.addEventListener("message",({source:a,data:i})=>{a===Ys&&i===s&&n.length&&n.shift()()},!1),a=>{n.push(a),Ys.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ct(Ys.postMessage)),Ph=typeof queueMicrotask<"u"?queueMicrotask.bind(Ys):typeof process<"u"&&process.nextTick||Hc,E={isArray:Zr,isArrayBuffer:zc,isBuffer:Qm,isFormData:ah,isArrayBufferView:Ym,isString:Jm,isNumber:$c,isBoolean:Xm,isObject:Ma,isPlainObject:Qn,isReadableStream:oh,isRequest:lh,isResponse:ch,isHeaders:dh,isUndefined:xn,isDate:eh,isFile:th,isBlob:sh,isRegExp:_h,isFunction:Ct,isStream:nh,isURLSearchParams:ih,isTypedArray:vh,isFileList:rh,forEach:In,merge:ki,extend:ph,trim:uh,stripBOM:fh,inherits:mh,toFlatObject:hh,kindOf:Fa,kindOfTest:Kt,endsWith:xh,toArray:gh,forEachEntry:yh,matchAll:bh,isHTMLForm:wh,hasOwnProperty:Yo,hasOwnProp:Yo,reduceDescriptors:qc,freezeMethods:Sh,toObjectSet:Nh,toCamelCase:jh,noop:kh,toFiniteNumber:Ch,findKey:Uc,global:Ys,isContextDefined:Bc,isSpecCompliantForm:Eh,toJSONObject:Ah,isAsyncFn:Th,isThenable:Rh,setImmediate:Hc,asap:Ph};function le(t,e,s,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}E.inherits(le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Wc=le.prototype,Zc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Zc[t]={value:t}});Object.defineProperties(le,Zc);Object.defineProperty(Wc,"isAxiosError",{value:!0});le.from=(t,e,s,n,a,i)=>{const o=Object.create(Wc);return E.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),le.call(o,t.message,e,s,n,a),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Dh=null;function Ci(t){return E.isPlainObject(t)||E.isArray(t)}function Gc(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function Jo(t,e,s){return t?t.concat(e).map(function(a,i){return a=Gc(a),!s&&i?"["+a+"]":a}).join(s?".":""):e}function Oh(t){return E.isArray(t)&&!t.some(Ci)}const Fh=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function La(t,e,s){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=E.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!E.isUndefined(x[m])});const n=s.metaTokens,a=s.visitor||p,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(a))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(E.isDate(g))return g.toISOString();if(!c&&E.isBlob(g))throw new le("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(g)||E.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function p(g,m,x){let w=g;if(g&&!x&&typeof g=="object"){if(E.endsWith(m,"{}"))m=n?m:m.slice(0,-2),g=JSON.stringify(g);else if(E.isArray(g)&&Oh(g)||(E.isFileList(g)||E.endsWith(m,"[]"))&&(w=E.toArray(g)))return m=Gc(m),w.forEach(function(j,R){!(E.isUndefined(j)||j===null)&&e.append(o===!0?Jo([m],R,i):o===null?m:m+"[]",d(j))}),!1}return Ci(g)?!0:(e.append(Jo(x,m,i),d(g)),!1)}const f=[],h=Object.assign(Fh,{defaultVisitor:p,convertValue:d,isVisitable:Ci});function b(g,m){if(!E.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));f.push(g),E.forEach(g,function(w,y){(!(E.isUndefined(w)||w===null)&&a.call(e,w,E.isString(y)?y.trim():y,m,h))===!0&&b(w,m?m.concat(y):[y])}),f.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return b(t),e}function Xo(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function po(t,e){this._pairs=[],t&&La(t,this,e)}const Kc=po.prototype;Kc.append=function(e,s){this._pairs.push([e,s])};Kc.toString=function(e){const s=e?function(n){return e.call(this,n,Xo)}:Xo;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function Ih(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qc(t,e,s){if(!e)return t;const n=s&&s.encode||Ih;E.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(e,s):i=E.isURLSearchParams(e)?e.toString():new po(e,s).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class el{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Yc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mh=typeof URLSearchParams<"u"?URLSearchParams:po,Lh=typeof FormData<"u"?FormData:null,Vh=typeof Blob<"u"?Blob:null,zh={isBrowser:!0,classes:{URLSearchParams:Mh,FormData:Lh,Blob:Vh},protocols:["http","https","file","blob","url","data"]},fo=typeof window<"u"&&typeof document<"u",Ei=typeof navigator=="object"&&navigator||void 0,$h=fo&&(!Ei||["ReactNative","NativeScript","NS"].indexOf(Ei.product)<0),Uh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Bh=fo&&window.location.href||"http://localhost",qh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fo,hasStandardBrowserEnv:$h,hasStandardBrowserWebWorkerEnv:Uh,navigator:Ei,origin:Bh},Symbol.toStringTag,{value:"Module"})),lt={...qh,...zh};function Hh(t,e){return La(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(s,n,a,i){return lt.isNode&&E.isBuffer(s)?(this.append(n,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Wh(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zh(t){const e={},s=Object.keys(t);let n;const a=s.length;let i;for(n=0;n<a;n++)i=s[n],e[i]=t[i];return e}function Jc(t){function e(s,n,a,i){let o=s[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=s.length;return o=!o&&E.isArray(a)?a.length:o,c?(E.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!E.isObject(a[o]))&&(a[o]=[]),e(s,n,a[o],i)&&E.isArray(a[o])&&(a[o]=Zh(a[o])),!l)}if(E.isFormData(t)&&E.isFunction(t.entries)){const s={};return E.forEachEntry(t,(n,a)=>{e(Wh(n),a,s,0)}),s}return null}function Gh(t,e,s){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Mn={transitional:Yc,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",a=n.indexOf("application/json")>-1,i=E.isObject(e);if(i&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return a?JSON.stringify(Jc(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hh(e,this.formSerializer).toString();if((l=E.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return La(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),Gh(e)):e}],transformResponse:[function(e){const s=this.transitional||Mn.transitional,n=s&&s.forcedJSONParsing,a=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(n&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?le.from(l,le.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{Mn.headers[t]={}});const Kh=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qh=t=>{const e={};let s,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!s||e[s]&&Kh[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},tl=Symbol("internals");function Xr(t){return t&&String(t).trim().toLowerCase()}function Yn(t){return t===!1||t==null?t:E.isArray(t)?t.map(Yn):String(t)}function Yh(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const Jh=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ai(t,e,s,n,a){if(E.isFunction(n))return n.call(this,e,s);if(a&&(e=s),!!E.isString(e)){if(E.isString(n))return e.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(e)}}function Xh(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function ex(t,e){const s=E.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let jt=class{constructor(e){e&&this.set(e)}set(e,s,n){const a=this;function i(l,c,d){const p=Xr(c);if(!p)throw new Error("header name must be a non-empty string");const f=E.findKey(a,p);(!f||a[f]===void 0||d===!0||d===void 0&&a[f]!==!1)&&(a[f||c]=Yn(l))}const o=(l,c)=>E.forEach(l,(d,p)=>i(d,p,c));if(E.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(E.isString(e)&&(e=e.trim())&&!Jh(e))o(Qh(e),s);else if(E.isHeaders(e))for(const[l,c]of e.entries())i(c,l,n);else e!=null&&i(s,e,n);return this}get(e,s){if(e=Xr(e),e){const n=E.findKey(this,e);if(n){const a=this[n];if(!s)return a;if(s===!0)return Yh(a);if(E.isFunction(s))return s.call(this,a,n);if(E.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Xr(e),e){const n=E.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||ai(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let a=!1;function i(o){if(o=Xr(o),o){const l=E.findKey(n,o);l&&(!s||ai(n,n[l],l,s))&&(delete n[l],a=!0)}}return E.isArray(e)?e.forEach(i):i(e),a}clear(e){const s=Object.keys(this);let n=s.length,a=!1;for(;n--;){const i=s[n];(!e||ai(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const s=this,n={};return E.forEach(this,(a,i)=>{const o=E.findKey(n,i);if(o){s[o]=Yn(a),delete s[i];return}const l=e?Xh(i):String(i).trim();l!==i&&delete s[i],s[l]=Yn(a),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return E.forEach(this,(n,a)=>{n!=null&&n!==!1&&(s[a]=e&&E.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[tl]=this[tl]={accessors:{}}).accessors,a=this.prototype;function i(o){const l=Xr(o);n[l]||(ex(a,o),n[l]=!0)}return E.isArray(e)?e.forEach(i):i(e),this}};jt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(jt.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});E.freezeMethods(jt);function ii(t,e){const s=this||Mn,n=e||s,a=jt.from(n.headers);let i=n.data;return E.forEach(t,function(l){i=l.call(s,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function Xc(t){return!!(t&&t.__CANCEL__)}function Gr(t,e,s){le.call(this,t??"canceled",le.ERR_CANCELED,e,s),this.name="CanceledError"}E.inherits(Gr,le,{__CANCEL__:!0});function ed(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new le("Request failed with status code "+s.status,[le.ERR_BAD_REQUEST,le.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function tx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sx(t,e){t=t||10;const s=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),p=n[i];o||(o=d),s[a]=c,n[a]=d;let f=i,h=0;for(;f!==a;)h+=s[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),d-o<e)return;const b=p&&d-p;return b?Math.round(h*1e3/b):void 0}}function rx(t,e){let s=0,n=1e3/e,a,i;const o=(d,p=Date.now())=>{s=p,a=null,i&&(clearTimeout(i),i=null),t.apply(null,d)};return[(...d)=>{const p=Date.now(),f=p-s;f>=n?o(d,p):(a=d,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const la=(t,e,s=3)=>{let n=0;const a=sx(50,250);return rx(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-n,d=a(c),p=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},s)},sl=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},rl=t=>(...e)=>E.asap(()=>t(...e)),nx=lt.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,lt.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0,ax=lt.hasStandardBrowserEnv?{write(t,e,s,n,a,i){const o=[t+"="+encodeURIComponent(e)];E.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),E.isString(n)&&o.push("path="+n),E.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ix(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ox(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function td(t,e,s){let n=!ix(e);return t&&(n||s==!1)?ox(t,e):e}const nl=t=>t instanceof jt?{...t}:t;function lr(t,e){e=e||{};const s={};function n(d,p,f,h){return E.isPlainObject(d)&&E.isPlainObject(p)?E.merge.call({caseless:h},d,p):E.isPlainObject(p)?E.merge({},p):E.isArray(p)?p.slice():p}function a(d,p,f,h){if(E.isUndefined(p)){if(!E.isUndefined(d))return n(void 0,d,f,h)}else return n(d,p,f,h)}function i(d,p){if(!E.isUndefined(p))return n(void 0,p)}function o(d,p){if(E.isUndefined(p)){if(!E.isUndefined(d))return n(void 0,d)}else return n(void 0,p)}function l(d,p,f){if(f in e)return n(d,p);if(f in t)return n(void 0,d)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,f)=>a(nl(d),nl(p),f,!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(p){const f=c[p]||a,h=f(t[p],e[p],p);E.isUndefined(h)&&f!==l||(s[p]=h)}),s}const sd=t=>{const e=lr({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=jt.from(o),e.url=Qc(td(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(E.isFormData(s)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...p]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(lt.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(e)),n||n!==!1&&nx(e.url))){const d=a&&i&&ax.read(i);d&&o.set(a,d)}return e},lx=typeof XMLHttpRequest<"u",cx=lx&&function(t){return new Promise(function(s,n){const a=sd(t);let i=a.data;const o=jt.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=a,p,f,h,b,g;function m(){b&&b(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function w(){if(!x)return;const j=jt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:j,config:t,request:x};ed(function(D){s(D),m()},function(D){n(D),m()},S),x=null}"onloadend"in x?x.onloadend=w:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(w)},x.onabort=function(){x&&(n(new le("Request aborted",le.ECONNABORTED,t,x)),x=null)},x.onerror=function(){n(new le("Network Error",le.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let R=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||Yc;a.timeoutErrorMessage&&(R=a.timeoutErrorMessage),n(new le(R,S.clarifyTimeoutError?le.ETIMEDOUT:le.ECONNABORTED,t,x)),x=null},i===void 0&&o.setContentType(null),"setRequestHeader"in x&&E.forEach(o.toJSON(),function(R,S){x.setRequestHeader(S,R)}),E.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),l&&l!=="json"&&(x.responseType=a.responseType),d&&([h,g]=la(d,!0),x.addEventListener("progress",h)),c&&x.upload&&([f,b]=la(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",b)),(a.cancelToken||a.signal)&&(p=j=>{x&&(n(!j||j.type?new Gr(null,t,x):j),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const y=tx(a.url);if(y&&lt.protocols.indexOf(y)===-1){n(new le("Unsupported protocol "+y+":",le.ERR_BAD_REQUEST,t));return}x.send(i||null)})},dx=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,a;const i=function(d){if(!a){a=!0,l();const p=d instanceof Error?d:this.reason;n.abort(p instanceof le?p:new Gr(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,i(new le(`timeout ${e} of ms exceeded`,le.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>E.asap(l),c}},ux=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,a;for(;n<s;)a=n+e,yield t.slice(n,a),n=a},px=async function*(t,e){for await(const s of fx(t))yield*ux(s,e)},fx=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},al=(t,e,s,n)=>{const a=px(t,e);let i=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:p}=await a.next();if(d){l(),c.close();return}let f=p.byteLength;if(s){let h=i+=f;s(h)}c.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},Va=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",rd=Va&&typeof ReadableStream=="function",mx=Va&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nd=(t,...e)=>{try{return!!t(...e)}catch{return!1}},hx=rd&&nd(()=>{let t=!1;const e=new Request(lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),il=64*1024,Ai=rd&&nd(()=>E.isReadableStream(new Response("").body)),ca={stream:Ai&&(t=>t.body)};Va&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ca[e]&&(ca[e]=E.isFunction(t[e])?s=>s[e]():(s,n)=>{throw new le(`Response type '${e}' is not supported`,le.ERR_NOT_SUPPORT,n)})})})(new Response);const xx=async t=>{if(t==null)return 0;if(E.isBlob(t))return t.size;if(E.isSpecCompliantForm(t))return(await new Request(lt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(E.isArrayBufferView(t)||E.isArrayBuffer(t))return t.byteLength;if(E.isURLSearchParams(t)&&(t=t+""),E.isString(t))return(await mx(t)).byteLength},gx=async(t,e)=>{const s=E.toFiniteNumber(t.getContentLength());return s??xx(e)},vx=Va&&(async t=>{let{url:e,method:s,data:n,signal:a,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:p,withCredentials:f="same-origin",fetchOptions:h}=sd(t);d=d?(d+"").toLowerCase():"text";let b=dx([a,i&&i.toAbortSignal()],o),g;const m=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let x;try{if(c&&hx&&s!=="get"&&s!=="head"&&(x=await gx(p,n))!==0){let S=new Request(e,{method:"POST",body:n,duplex:"half"}),P;if(E.isFormData(n)&&(P=S.headers.get("content-type"))&&p.setContentType(P),S.body){const[D,V]=sl(x,la(rl(c)));n=al(S.body,il,D,V)}}E.isString(f)||(f=f?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...h,signal:b,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:w?f:void 0});let y=await fetch(g);const j=Ai&&(d==="stream"||d==="response");if(Ai&&(l||j&&m)){const S={};["status","statusText","headers"].forEach(H=>{S[H]=y[H]});const P=E.toFiniteNumber(y.headers.get("content-length")),[D,V]=l&&sl(P,la(rl(l),!0))||[];y=new Response(al(y.body,il,D,()=>{V&&V(),m&&m()}),S)}d=d||"text";let R=await ca[E.findKey(ca,d)||"text"](y,t);return!j&&m&&m(),await new Promise((S,P)=>{ed(S,P,{data:R,headers:jt.from(y.headers),status:y.status,statusText:y.statusText,config:t,request:g})})}catch(w){throw m&&m(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new le("Network Error",le.ERR_NETWORK,t,g),{cause:w.cause||w}):le.from(w,w&&w.code,t,g)}}),Ti={http:Dh,xhr:cx,fetch:vx};E.forEach(Ti,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ol=t=>`- ${t}`,yx=t=>E.isFunction(t)||t===null||t===!1,ad={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let s,n;const a={};for(let i=0;i<e;i++){s=t[i];let o;if(n=s,!yx(s)&&(n=Ti[(o=String(s)).toLowerCase()],n===void 0))throw new le(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+i]=n}if(!n){const i=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(ol).join(`
`):" "+ol(i[0]):"as no adapter specified";throw new le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Ti};function oi(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gr(null,t)}function ll(t){return oi(t),t.headers=jt.from(t.headers),t.data=ii.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ad.getAdapter(t.adapter||Mn.adapter)(t).then(function(n){return oi(t),n.data=ii.call(t,t.transformResponse,n),n.headers=jt.from(n.headers),n},function(n){return Xc(n)||(oi(t),n&&n.response&&(n.response.data=ii.call(t,t.transformResponse,n.response),n.response.headers=jt.from(n.response.headers))),Promise.reject(n)})}const id="1.8.4",za={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{za[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const cl={};za.transitional=function(e,s,n){function a(i,o){return"[Axios v"+id+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,l)=>{if(e===!1)throw new le(a(o," has been removed"+(s?" in "+s:"")),le.ERR_DEPRECATED);return s&&!cl[o]&&(cl[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,l):!0}};za.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function bx(t,e,s){if(typeof t!="object")throw new le("options must be an object",le.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new le("option "+i+" must be "+c,le.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new le("Unknown option "+i,le.ERR_BAD_OPTION)}}const Jn={assertOptions:bx,validators:za},Jt=Jn.validators;let nr=class{constructor(e){this.defaults=e,this.interceptors={request:new el,response:new el}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=lr(this.defaults,s);const{transitional:n,paramsSerializer:a,headers:i}=s;n!==void 0&&Jn.assertOptions(n,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),a!=null&&(E.isFunction(a)?s.paramsSerializer={serialize:a}:Jn.assertOptions(a,{encode:Jt.function,serialize:Jt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Jn.assertOptions(s,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[s.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),s.headers=jt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(s)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const d=[];this.interceptors.response.forEach(function(m){d.push(m.fulfilled,m.rejected)});let p,f=0,h;if(!c){const g=[ll.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,d),h=g.length,p=Promise.resolve(s);f<h;)p=p.then(g[f++],g[f++]);return p}h=l.length;let b=s;for(f=0;f<h;){const g=l[f++],m=l[f++];try{b=g(b)}catch(x){m.call(this,x);break}}try{p=ll.call(this,b)}catch(g){return Promise.reject(g)}for(f=0,h=d.length;f<h;)p=p.then(d[f++],d[f++]);return p}getUri(e){e=lr(this.defaults,e);const s=td(e.baseURL,e.url,e.allowAbsoluteUrls);return Qc(s,e.params,e.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(e){nr.prototype[e]=function(s,n){return this.request(lr(n||{},{method:e,url:s,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(e){function s(n){return function(i,o,l){return this.request(lr(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}nr.prototype[e]=s(),nr.prototype[e+"Form"]=s(!0)});let wx=class od{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(l=>{n.subscribe(l),i=l}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,l){n.reason||(n.reason=new Gr(i,o,l),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new od(function(a){e=a}),cancel:e}}};function jx(t){return function(s){return t.apply(null,s)}}function _x(t){return E.isObject(t)&&t.isAxiosError===!0}const Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ri).forEach(([t,e])=>{Ri[e]=t});function ld(t){const e=new nr(t),s=Vc(nr.prototype.request,e);return E.extend(s,nr.prototype,e,{allOwnKeys:!0}),E.extend(s,e,null,{allOwnKeys:!0}),s.create=function(a){return ld(lr(t,a))},s}const Ge=ld(Mn);Ge.Axios=nr;Ge.CanceledError=Gr;Ge.CancelToken=wx;Ge.isCancel=Xc;Ge.VERSION=id;Ge.toFormData=La;Ge.AxiosError=le;Ge.Cancel=Ge.CanceledError;Ge.all=function(e){return Promise.all(e)};Ge.spread=jx;Ge.isAxiosError=_x;Ge.mergeConfig=lr;Ge.AxiosHeaders=jt;Ge.formToJSON=t=>Jc(E.isHTMLForm(t)?new FormData(t):t);Ge.getAdapter=ad.getAdapter;Ge.HttpStatusCode=Ri;Ge.default=Ge;const{Axios:pj,AxiosError:fj,CanceledError:mj,isCancel:hj,CancelToken:xj,VERSION:gj,all:vj,Cancel:yj,isAxiosError:bj,spread:wj,toFormData:jj,AxiosHeaders:_j,HttpStatusCode:Sj,formToJSON:Nj,getAdapter:kj,mergeConfig:Cj}=Ge,dl={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ACCEPTED_FILE_TYPES:".csv,.xls,.xlsx",VITE_API_BASE_URL:"/",VITE_API_KEY:"",VITE_API_TIMEOUT:"60000",VITE_DASHBOARD_REFRESH:"0",VITE_DEFAULT_THEME:"system",VITE_ENABLE_DARK_MODE:"true",VITE_ENABLE_LOGGING:"true",VITE_ENABLE_USER_MANAGEMENT:"true",VITE_MAX_FILE_SIZE:"100000000",VITE_SIDEBAR_COLLAPSED:"true",VITE_UPLOAD_CHUNK_SIZE:"2000000",VITE_USER_NODE_ENV:"production",VITE_USE_JWT_AUTH:"true"};var Sx={};const it=(t,e="")=>dl?dl[`VITE_${t}`]||e:Sx[`VITE_${t}`]||e,Ce={api:{baseURL:it("API_BASE_URL","http://localhost:8000"),timeout:parseInt(it("API_TIMEOUT","30000"))},auth:{tokenStorageKey:"auth_token",userStorageKey:"user",useJwtAuth:it("USE_JWT_AUTH","true")==="true",apiKey:it("API_KEY","")},upload:{maxFileSize:parseInt(it("MAX_FILE_SIZE","50000000")),acceptedFileTypes:it("ACCEPTED_FILE_TYPES",".csv,.xls,.xlsx"),chunkSize:parseInt(it("UPLOAD_CHUNK_SIZE","2000000"))},ui:{defaultTheme:it("DEFAULT_THEME","system"),sidebarCollapsedByDefault:it("SIDEBAR_COLLAPSED","true")==="true",dashboardRefreshInterval:parseInt(it("DASHBOARD_REFRESH","0"))},features:{enableUserManagement:it("ENABLE_USER_MANAGEMENT","true")==="true",enableDarkMode:it("ENABLE_DARK_MODE","true")==="true",enableLogging:it("ENABLE_LOGGING","true")==="true"},environment:it("NODE_ENV","development"),isProduction:it("NODE_ENV","development")==="production",isDevelopment:it("NODE_ENV","development")==="development"},Ne=Ge.create({baseURL:Ce.api.baseURL,timeout:Ce.api.timeout,headers:{"Content-Type":"application/json"}});Ne.interceptors.request.use(t=>{if(Ce.auth.useJwtAuth){const e=localStorage.getItem(Ce.auth.tokenStorageKey);e&&(t.headers["X-API-Key"]=e)}else Ce.auth.apiKey&&(t.headers["X-API-Key"]=Ce.auth.apiKey);return t});Ne.interceptors.response.use(t=>t,t=>(t.response&&t.response.status===401&&(localStorage.removeItem(Ce.auth.tokenStorageKey),localStorage.removeItem(Ce.auth.userStorageKey),window.location.href="/login"),Ce.isDevelopment&&Ce.features.enableLogging&&console.error("API Error:",t),Promise.reject(t)));const Nx=()=>Ce.auth.useJwtAuth?!!localStorage.getItem(Ce.auth.tokenStorageKey):!!Ce.auth.apiKey,kx=()=>{if(!Ce.auth.useJwtAuth)return null;const t=localStorage.getItem(Ce.auth.userStorageKey);return t?JSON.parse(t):null},Cx=()=>{Ce.auth.useJwtAuth&&(localStorage.removeItem(Ce.auth.tokenStorageKey),localStorage.removeItem(Ce.auth.userStorageKey)),window.location.href="/login"},Ex=t=>{Ce.auth.useJwtAuth&&(localStorage.setItem(Ce.auth.tokenStorageKey,t.token),localStorage.setItem(Ce.auth.userStorageKey,JSON.stringify(t.user)))},ul={login:async(t,e)=>(await Ne.post("/api/auth/login",{username:t,password:e})).data,verifyToken:async()=>{try{return(await Ne.get("/api/auth/verify")).data.valid===!0}catch{return!1}}},Ke={getCommands:async()=>(await Ne.get("/api/commands")).data,getStatus:async()=>(await Ne.get("/api/status")).data,importFile:async t=>{const e=new FormData;return e.append("file_path",t),(await Ne.post("/api/run/import",e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},uploadFile:async t=>{const e=new FormData;return e.append("file",t),(await Ne.post("/api/run/import-upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data},runCommand:async(t,e={})=>(await Ne.post("/api/run/command",{command:t,args:e})).data,validateData:async()=>(await Ne.post("/api/run/validate")).data.result,generateMapping:async()=>(await Ne.post("/api/run/map")).data.result,deleteMapping:async()=>(await Ne.post("/api/run/delete_mapping")).data,updateMapping:async t=>(await Ne.post("/api/run/map",{field_updates:t})).data.result,generateHtml:async()=>(await Ne.post("/api/run/html")).data.result,generatePdf:async()=>(await Ne.post("/api/run/pdf")).data.result,resolveLookups:async()=>(await Ne.post("/api/run/lookup")).data.result,getLookupExceptions:async(t,e)=>{const s=new URLSearchParams;return t&&s.append("status",t),e&&s.append("type",e),(await Ne.get("/api/lookups/exceptions",{params:s})).data},resolveLookupException:async(t,e)=>(await Ne.post(`/api/lookups/exceptions/${t}/resolve`,e)).data,getEntitiesForCreation:async()=>(await Ne.get("/api/lookups/entities-for-creation")).data,createEntity:async t=>(await Ne.post("/api/entities/create",t)).data,syncToTenantDb:async()=>(await Ne.post("/api/run/command",{command:"sync_tenant_db",args:{}})).data,transferToS3:async()=>(await Ne.post("/api/run/command",{command:"transfer_to_s3",args:{}})).data},cr={getLogs:async()=>(await Ne.get("/api/logs")).data.map(e=>{var s;return{hash:e.hash,name:e.name||null,date:e.timestamp||new Date().toISOString(),document_type:((s=e.metadata)==null?void 0:s.document_type)||void 0,file_count:e.file_count||0,last_operation:e.status==="active"?"ACTIVE":void 0}}),getLogInfo:async t=>{var o;const s=(await Ne.get(`/api/logs/${t}`)).data,n=[],a=[],i=[];return s.files&&Array.isArray(s.files)&&s.files.forEach(l=>{const c=l.path.toLowerCase();c.endsWith(".html")?n.push(l.name):c.endsWith(".pdf")?a.push(l.name):(c.endsWith(".log")||c.endsWith(".json"))&&i.push(l.name)}),{hash:s.hash,name:s.name||null,date:s.timestamp||new Date().toISOString(),document_type:((o=s.metadata)==null?void 0:o.document_type)||void 0,html_files:n,pdf_files:a,log_files:i}},renameLog:async(t,e)=>{await Ne.post(`/api/logs/${t}/rename`,{name:e})},activateSession:async t=>(await Ne.post(`/api/sessions/${t}/activate`)).data},Wn={getUsers:async()=>(await Ne.get("/api/users")).data,createUser:async(t,e,s)=>{await Ne.post("/api/users",{username:t,password:e,role:s})},updateUser:async(t,e)=>{await Ne.put(`/api/users/${t}`,e)},deleteUser:async t=>{await Ne.delete(`/api/users/${t}`)}},cd=u.createContext({}),br=()=>u.useContext(cd),Ax=({children:t})=>{const[e,s]=u.useState(Nx()),[n,a]=u.useState(kx()),[i,o]=u.useState(!0),l=!Ce.auth.useJwtAuth&&!!Ce.auth.apiKey;u.useEffect(()=>{(async()=>{if(l){s(!0),o(!1);return}if(e)try{const f=await ul.verifyToken();s(f),f||(a(null),localStorage.removeItem(Ce.auth.tokenStorageKey),localStorage.removeItem(Ce.auth.userStorageKey))}catch{s(!1),a(null),localStorage.removeItem(Ce.auth.tokenStorageKey),localStorage.removeItem(Ce.auth.userStorageKey)}o(!1)})()},[e,l]);const c=async(p,f)=>{if(l){s(!0),a({id:0,username:"API User",role:"admin"});return}o(!0);try{const h=await ul.login(p,f);Ex(h),s(!0),a(h.user)}catch(h){throw console.error("Login failed:",h),h}finally{o(!1)}},d=()=>{Cx(),s(!1),a(null)};return r.jsx(cd.Provider,{value:{isAuthenticated:e,user:n,loading:i,login:c,logout:d},children:t})},dd=u.createContext({}),ud=()=>u.useContext(dd),Tx=({children:t})=>{const[e,s]=u.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});u.useEffect(()=>{const a=window.document.documentElement;a.classList.remove("light","dark"),a.classList.add(e),localStorage.setItem("theme",e)},[e]);const n=()=>{s(a=>a==="light"?"dark":"light")};return r.jsx(dd.Provider,{value:{theme:e,toggleTheme:n},children:t})};function pd(t){var e,s,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(s=pd(t[e]))&&(n&&(n+=" "),n+=s)}else for(s in t)t[s]&&(n&&(n+=" "),n+=s);return n}function fd(){for(var t,e,s=0,n="",a=arguments.length;s<a;s++)(t=arguments[s])&&(e=pd(t))&&(n&&(n+=" "),n+=e);return n}const mo="-",Rx=t=>{const e=Dx(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(mo);return l[0]===""&&l.length!==1&&l.shift(),md(l,e)||Px(o)},getConflictingClassGroupIds:(o,l)=>{const c=s[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},md=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const s=t[0],n=e.nextPart.get(s),a=n?md(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(mo);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pl=/^\[(.+)\]$/,Px=t=>{if(pl.test(t)){const e=pl.exec(t)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},Dx=t=>{const{theme:e,prefix:s}=t,n={nextPart:new Map,validators:[]};return Fx(Object.entries(t.classGroups),s).forEach(([i,o])=>{Pi(o,n,i,e)}),n},Pi=(t,e,s,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:fl(e,a);i.classGroupId=s;return}if(typeof a=="function"){if(Ox(a)){Pi(a(n),e,s,n);return}e.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(([i,o])=>{Pi(o,fl(e,i),s,n)})})},fl=(t,e)=>{let s=t;return e.split(mo).forEach(n=>{s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s},Ox=t=>t.isThemeGetter,Fx=(t,e)=>e?t.map(([s,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[s,a]}):t,Ix=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,n=new Map;const a=(i,o)=>{s.set(i,o),e++,e>t&&(e=0,n=s,s=new Map)};return{get(i){let o=s.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){s.has(i)?s.set(i,o):a(i,o)}}},hd="!",Mx=t=>{const{separator:e,experimentalParseClassName:s}=t,n=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let d=0,p=0,f;for(let x=0;x<l.length;x++){let w=l[x];if(d===0){if(w===a&&(n||l.slice(x,x+i)===e)){c.push(l.slice(p,x)),p=x+i;continue}if(w==="/"){f=x;continue}}w==="["?d++:w==="]"&&d--}const h=c.length===0?l:l.substring(p),b=h.startsWith(hd),g=b?h.substring(1):h,m=f&&f>p?f-p:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:m}};return s?l=>s({className:l,parseClassName:o}):o},Lx=t=>{if(t.length<=1)return t;const e=[];let s=[];return t.forEach(n=>{n[0]==="["?(e.push(...s.sort(),n),s=[]):s.push(n)}),e.push(...s.sort()),e},Vx=t=>({cache:Ix(t.cacheSize),parseClassName:Mx(t),...Rx(t)}),zx=/\s+/,$x=(t,e)=>{const{parseClassName:s,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(zx);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:p,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:b}=s(d);let g=!!b,m=n(g?h.substring(0,b):h);if(!m){if(!g){l=d+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=d+(l.length>0?" "+l:l);continue}g=!1}const x=Lx(p).join(":"),w=f?x+hd:x,y=w+m;if(i.includes(y))continue;i.push(y);const j=a(m,g);for(let R=0;R<j.length;++R){const S=j[R];i.push(w+S)}l=d+(l.length>0?" "+l:l)}return l};function Ux(){let t=0,e,s,n="";for(;t<arguments.length;)(e=arguments[t++])&&(s=xd(e))&&(n&&(n+=" "),n+=s);return n}const xd=t=>{if(typeof t=="string")return t;let e,s="";for(let n=0;n<t.length;n++)t[n]&&(e=xd(t[n]))&&(s&&(s+=" "),s+=e);return s};function Bx(t,...e){let s,n,a,i=o;function o(c){const d=e.reduce((p,f)=>f(p),t());return s=Vx(d),n=s.cache.get,a=s.cache.set,i=l,l(c)}function l(c){const d=n(c);if(d)return d;const p=$x(c,s);return a(c,p),p}return function(){return i(Ux.apply(null,arguments))}}const Pe=t=>{const e=s=>s[t]||[];return e.isThemeGetter=!0,e},gd=/^\[(?:([a-z-]+):)?(.+)\]$/i,qx=/^\d+\/\d+$/,Hx=new Set(["px","full","screen"]),Wx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Qx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=t=>Cr(t)||Hx.has(t)||qx.test(t),Ss=t=>Kr(t,"length",ng),Cr=t=>!!t&&!Number.isNaN(Number(t)),li=t=>Kr(t,"number",Cr),en=t=>!!t&&Number.isInteger(Number(t)),Yx=t=>t.endsWith("%")&&Cr(t.slice(0,-1)),de=t=>gd.test(t),Ns=t=>Wx.test(t),Jx=new Set(["length","size","percentage"]),Xx=t=>Kr(t,Jx,vd),eg=t=>Kr(t,"position",vd),tg=new Set(["image","url"]),sg=t=>Kr(t,tg,ig),rg=t=>Kr(t,"",ag),tn=()=>!0,Kr=(t,e,s)=>{const n=gd.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):s(n[2]):!1},ng=t=>Zx.test(t)&&!Gx.test(t),vd=()=>!1,ag=t=>Kx.test(t),ig=t=>Qx.test(t),og=()=>{const t=Pe("colors"),e=Pe("spacing"),s=Pe("blur"),n=Pe("brightness"),a=Pe("borderColor"),i=Pe("borderRadius"),o=Pe("borderSpacing"),l=Pe("borderWidth"),c=Pe("contrast"),d=Pe("grayscale"),p=Pe("hueRotate"),f=Pe("invert"),h=Pe("gap"),b=Pe("gradientColorStops"),g=Pe("gradientColorStopPositions"),m=Pe("inset"),x=Pe("margin"),w=Pe("opacity"),y=Pe("padding"),j=Pe("saturate"),R=Pe("scale"),S=Pe("sepia"),P=Pe("skew"),D=Pe("space"),V=Pe("translate"),H=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",de,e],N=()=>[de,e],Z=()=>["",us,Ss],C=()=>["auto",Cr,de],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],xe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",de],at=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Me=()=>[Cr,de];return{cacheSize:500,separator:":",theme:{colors:[tn],spacing:[us,Ss],blur:["none","",Ns,de],brightness:Me(),borderColor:[t],borderRadius:["none","","full",Ns,de],borderSpacing:N(),borderWidth:Z(),contrast:Me(),grayscale:ge(),hueRotate:Me(),invert:ge(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[Yx,Ss],inset:M(),margin:M(),opacity:Me(),padding:N(),saturate:Me(),scale:Me(),sepia:ge(),skew:Me(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",de]}],container:["container"],columns:[{columns:[Ns]}],"break-after":[{"break-after":at()}],"break-before":[{"break-before":at()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),de]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",en,de]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",de]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",en,de]}],"grid-cols":[{"grid-cols":[tn]}],"col-start-end":[{col:["auto",{span:["full",en,de]},de]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[tn]}],"row-start-end":[{row:["auto",{span:[en,de]},de]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",de]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",de]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...Re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",de,e]}],"min-w":[{"min-w":[de,e,"min","max","fit"]}],"max-w":[{"max-w":[de,e,"none","full","min","max","fit","prose",{screen:[Ns]},Ns]}],h:[{h:[de,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[de,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[de,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ns,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",li]}],"font-family":[{font:[tn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",de]}],"line-clamp":[{"line-clamp":["none",Cr,li]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,de]}],"list-image":[{"list-image":["none",de]}],"list-style-type":[{list:["none","disc","decimal",de]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,Ss]}],"underline-offset":[{"underline-offset":["auto",us,de]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",de]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",de]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),eg]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Xx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sg]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:oe()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[us,de]}],"outline-w":[{outline:[us,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[us,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ns,rg]}],"shadow-color":[{shadow:[tn]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...xe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":xe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ns,de]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",de]}],duration:[{duration:Me()}],ease:[{ease:["linear","in","out","in-out",de]}],delay:[{delay:Me()}],animate:[{animate:["none","spin","ping","pulse","bounce",de]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[en,de]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",de]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",de]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",de]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,Ss,li]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lg=Bx(og);function q(...t){return lg(fd(t))}function ci(t){if(isNaN(t)||t<0)return"0 B";const e=["B","KB","MB","GB","TB"],s=Math.floor(Math.log10(t)/3);return`${(t/Math.pow(1024,s)).toFixed(2)} ${e[s]}`}const ml=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hl=fd,$a=(t,e)=>s=>{var n;if((e==null?void 0:e.variants)==null)return hl(t,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(d=>{const p=s==null?void 0:s[d],f=i==null?void 0:i[d];if(p===null)return null;const h=ml(p)||ml(f);return a[d][h]}),l=s&&Object.entries(s).reduce((d,p)=>{let[f,h]=p;return h===void 0||(d[f]=h),d},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((d,p)=>{let{class:f,className:h,...b}=p;return Object.entries(b).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...d,f,h]:d},[]);return hl(t,o,c,s==null?void 0:s.class,s==null?void 0:s.className)},ho=$a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),L=u.forwardRef(({className:t,variant:e,size:s,asChild:n=!1,...a},i)=>{const o=n?Yi:"button";return r.jsx(o,{className:q(ho({variant:e,size:s,className:t})),ref:i,...a})});L.displayName="Button";const xo=zf,go=$f,cg=u.forwardRef(({className:t,inset:e,children:s,...n},a)=>r.jsxs(rc,{ref:a,className:q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[s,r.jsx(Lf,{className:"ml-auto h-4 w-4"})]}));cg.displayName=rc.displayName;const dg=u.forwardRef(({className:t,...e},s)=>r.jsx(nc,{ref:s,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));dg.displayName=nc.displayName;const Ua=u.forwardRef(({className:t,sideOffset:e=4,...s},n)=>r.jsx(Vf,{children:r.jsx(ac,{ref:n,sideOffset:e,className:q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Ua.displayName=ac.displayName;const Is=u.forwardRef(({className:t,inset:e,...s},n)=>r.jsx(ic,{ref:n,className:q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...s}));Is.displayName=ic.displayName;const ug=u.forwardRef(({className:t,children:e,checked:s,...n},a)=>r.jsxs(oc,{ref:a,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lc,{children:r.jsx(Us,{className:"h-4 w-4"})})}),e]}));ug.displayName=oc.displayName;const pg=u.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(cc,{ref:n,className:q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(lc,{children:r.jsx(dc,{className:"h-2 w-2 fill-current"})})}),e]}));pg.displayName=cc.displayName;const vo=u.forwardRef(({className:t,inset:e,...s},n)=>r.jsx(uc,{ref:n,className:q("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...s}));vo.displayName=uc.displayName;const gn=u.forwardRef(({className:t,...e},s)=>r.jsx(pc,{ref:s,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));gn.displayName=pc.displayName;var yo="Avatar",[fg,Ej]=cs(yo),[mg,yd]=fg(yo),bd=u.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[a,i]=u.useState("idle");return r.jsx(mg,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:r.jsx(ye.span,{...n,ref:e})})});bd.displayName=yo;var wd="AvatarImage",jd=u.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=yd(wd,s),l=hg(n,i.referrerPolicy),c=vs(d=>{a(d),o.onImageLoadingStatusChange(d)});return Wt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?r.jsx(ye.img,{...i,ref:e,src:n}):null});jd.displayName=wd;var _d="AvatarFallback",Sd=u.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...a}=t,i=yd(_d,s),[o,l]=u.useState(n===void 0);return u.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?r.jsx(ye.span,{...a,ref:e}):null});Sd.displayName=_d;function hg(t,e){const[s,n]=u.useState("idle");return Wt(()=>{if(!t){n("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&n(l)};return n("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{a=!1}},[t,e]),s}var Nd=bd,kd=jd,Cd=Sd;const Ed=u.forwardRef(({className:t,...e},s)=>r.jsx(Nd,{ref:s,className:q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ed.displayName=Nd.displayName;const xg=u.forwardRef(({className:t,...e},s)=>r.jsx(kd,{ref:s,className:q("aspect-square h-full w-full",t),...e}));xg.displayName=kd.displayName;const Ad=u.forwardRef(({className:t,...e},s)=>r.jsx(Cd,{ref:s,className:q("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Ad.displayName=Cd.displayName;const gg=({toggleSidebar:t})=>{const{user:e,logout:s}=br(),{theme:n,toggleTheme:a}=ud(),i=_t();return r.jsxs("header",{className:"sticky top-0 z-30 flex h-14 items-center gap-4 border-b bg-background px-4 sm:px-6 lg:px-8",children:[r.jsxs(L,{variant:"ghost",size:"icon",className:"md:hidden",onClick:t,children:[r.jsx(Uf,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Toggle sidebar"})]}),r.jsxs("div",{className:"ml-auto flex items-center gap-4",children:[r.jsxs(L,{variant:"ghost",size:"icon",onClick:a,className:"text-muted-foreground hover:text-foreground",children:[n==="light"?r.jsx(fc,{className:"h-5 w-5"}):r.jsx(mc,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),r.jsxs(xo,{children:[r.jsx(go,{asChild:!0,children:r.jsx(L,{variant:"ghost",size:"icon",className:"rounded-full",children:r.jsx(Ed,{className:"h-8 w-8",children:r.jsx(Ad,{className:"bg-primary text-primary-foreground",children:(e==null?void 0:e.username.substring(0,2).toUpperCase())||"U"})})})}),r.jsxs(Ua,{align:"end",className:"w-56",children:[r.jsxs("div",{className:"flex flex-col space-y-1 p-2",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:e==null?void 0:e.username}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:((e==null?void 0:e.username)||"").substring(0,2).toUpperCase()||"U"})]}),r.jsx(gn,{}),r.jsxs(Is,{onClick:()=>i("/settings"),className:"cursor-pointer",children:[r.jsx(Bf,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Profile"})]}),r.jsx(gn,{}),r.jsxs(Is,{onClick:s,className:"cursor-pointer text-destructive focus:text-destructive",children:[r.jsx(qf,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Logout"})]})]})]})]})]})};function Di(t,[e,s]){return Math.min(s,Math.max(e,t))}function vg(t,e){return u.useReducer((s,n)=>e[s][n]??s,t)}var bo="ScrollArea",[Td,Aj]=cs(bo),[yg,It]=Td(bo),Rd=u.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=u.useState(null),[d,p]=u.useState(null),[f,h]=u.useState(null),[b,g]=u.useState(null),[m,x]=u.useState(null),[w,y]=u.useState(0),[j,R]=u.useState(0),[S,P]=u.useState(!1),[D,V]=u.useState(!1),H=Ue(e,M=>c(M)),ee=Ra(a);return r.jsx(yg,{scope:s,type:n,dir:ee,scrollHideDelay:i,scrollArea:l,viewport:d,onViewportChange:p,content:f,onContentChange:h,scrollbarX:b,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:P,scrollbarY:m,onScrollbarYChange:x,scrollbarYEnabled:D,onScrollbarYEnabledChange:V,onCornerWidthChange:y,onCornerHeightChange:R,children:r.jsx(ye.div,{dir:ee,...o,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});Rd.displayName=bo;var Pd="ScrollAreaViewport",Dd=u.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:n,nonce:a,...i}=t,o=It(Pd,s),l=u.useRef(null),c=Ue(e,l,o.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),r.jsx(ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:r.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Dd.displayName=Pd;var ds="ScrollAreaScrollbar",wo=u.forwardRef((t,e)=>{const{forceMount:s,...n}=t,a=It(ds,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return u.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?r.jsx(bg,{...n,ref:e,forceMount:s}):a.type==="scroll"?r.jsx(wg,{...n,ref:e,forceMount:s}):a.type==="auto"?r.jsx(Od,{...n,ref:e,forceMount:s}):a.type==="always"?r.jsx(jo,{...n,ref:e}):null});wo.displayName=ds;var bg=u.forwardRef((t,e)=>{const{forceMount:s,...n}=t,a=It(ds,t.__scopeScrollArea),[i,o]=u.useState(!1);return u.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const d=()=>{window.clearTimeout(c),o(!0)},p=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",p)}}},[a.scrollArea,a.scrollHideDelay]),r.jsx(vr,{present:s||i,children:r.jsx(Od,{"data-state":i?"visible":"hidden",...n,ref:e})})}),wg=u.forwardRef((t,e)=>{const{forceMount:s,...n}=t,a=It(ds,t.__scopeScrollArea),i=t.orientation==="horizontal",o=qa(()=>c("SCROLL_END"),100),[l,c]=vg("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return u.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,a.scrollHideDelay,c]),u.useEffect(()=>{const d=a.viewport,p=i?"scrollLeft":"scrollTop";if(d){let f=d[p];const h=()=>{const b=d[p];f!==b&&(c("SCROLL"),o()),f=b};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),r.jsx(vr,{present:s||l!=="hidden",children:r.jsx(jo,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:we(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:we(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Od=u.forwardRef((t,e)=>{const s=It(ds,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=u.useState(!1),l=t.orientation==="horizontal",c=qa(()=>{if(s.viewport){const d=s.viewport.offsetWidth<s.viewport.scrollWidth,p=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?d:p)}},10);return zr(s.viewport,c),zr(s.content,c),r.jsx(vr,{present:n||i,children:r.jsx(jo,{"data-state":i?"visible":"hidden",...a,ref:e})})}),jo=u.forwardRef((t,e)=>{const{orientation:s="vertical",...n}=t,a=It(ds,t.__scopeScrollArea),i=u.useRef(null),o=u.useRef(0),[l,c]=u.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Vd(l.viewport,l.content),p={...n,sizes:l,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,b){return Cg(h,o.current,l,b)}return s==="horizontal"?r.jsx(jg,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,b=xl(h,l,a.dir);i.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):s==="vertical"?r.jsx(_g,{...p,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,b=xl(h,l);i.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),jg=u.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...a}=t,i=It(ds,t.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ue(e,c,i.onScrollbarXChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Id,{"data-orientation":"horizontal",...a,ref:d,sizes:s,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ba(s)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+p.deltaX;t.onWheelScroll(h),$d(h,f)&&p.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:ua(o.paddingLeft),paddingEnd:ua(o.paddingRight)}})}})}),_g=u.forwardRef((t,e)=>{const{sizes:s,onSizesChange:n,...a}=t,i=It(ds,t.__scopeScrollArea),[o,l]=u.useState(),c=u.useRef(null),d=Ue(e,c,i.onScrollbarYChange);return u.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),r.jsx(Id,{"data-orientation":"vertical",...a,ref:d,sizes:s,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ba(s)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,f)=>{if(i.viewport){const h=i.viewport.scrollTop+p.deltaY;t.onWheelScroll(h),$d(h,f)&&p.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:ua(o.paddingTop),paddingEnd:ua(o.paddingBottom)}})}})}),[Sg,Fd]=Td(ds),Id=u.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:p,onResize:f,...h}=t,b=It(ds,s),[g,m]=u.useState(null),x=Ue(e,H=>m(H)),w=u.useRef(null),y=u.useRef(""),j=b.viewport,R=n.content-n.viewport,S=vs(p),P=vs(c),D=qa(f,10);function V(H){if(w.current){const ee=H.clientX-w.current.left,M=H.clientY-w.current.top;d({x:ee,y:M})}}return u.useEffect(()=>{const H=ee=>{const M=ee.target;(g==null?void 0:g.contains(M))&&S(ee,R)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[j,g,R,S]),u.useEffect(P,[n,P]),zr(g,D),zr(b.content,D),r.jsx(Sg,{scope:s,scrollbar:g,hasThumb:a,onThumbChange:vs(i),onThumbPointerUp:vs(o),onThumbPositionChange:P,onThumbPointerDown:vs(l),children:r.jsx(ye.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:we(t.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),w.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),V(H))}),onPointerMove:we(t.onPointerMove,V),onPointerUp:we(t.onPointerUp,H=>{const ee=H.target;ee.hasPointerCapture(H.pointerId)&&ee.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=y.current,b.viewport&&(b.viewport.style.scrollBehavior=""),w.current=null})})})}),da="ScrollAreaThumb",Md=u.forwardRef((t,e)=>{const{forceMount:s,...n}=t,a=Fd(da,t.__scopeScrollArea);return r.jsx(vr,{present:s||a.hasThumb,children:r.jsx(Ng,{ref:e,...n})})}),Ng=u.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:n,...a}=t,i=It(da,s),o=Fd(da,s),{onThumbPositionChange:l}=o,c=Ue(e,f=>o.onThumbChange(f)),d=u.useRef(void 0),p=qa(()=>{d.current&&(d.current(),d.current=void 0)},100);return u.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(p(),!d.current){const b=Eg(f,l);d.current=b,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,p,l]),r.jsx(ye.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:we(t.onPointerDownCapture,f=>{const b=f.target.getBoundingClientRect(),g=f.clientX-b.left,m=f.clientY-b.top;o.onThumbPointerDown({x:g,y:m})}),onPointerUp:we(t.onPointerUp,o.onThumbPointerUp)})});Md.displayName=da;var _o="ScrollAreaCorner",Ld=u.forwardRef((t,e)=>{const s=It(_o,t.__scopeScrollArea),n=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&n?r.jsx(kg,{...t,ref:e}):null});Ld.displayName=_o;var kg=u.forwardRef((t,e)=>{const{__scopeScrollArea:s,...n}=t,a=It(_o,s),[i,o]=u.useState(0),[l,c]=u.useState(0),d=!!(i&&l);return zr(a.scrollbarX,()=>{var f;const p=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(p),c(p)}),zr(a.scrollbarY,()=>{var f;const p=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(p),o(p)}),d?r.jsx(ye.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ua(t){return t?parseInt(t,10):0}function Vd(t,e){const s=t/e;return isNaN(s)?0:s}function Ba(t){const e=Vd(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-s)*e;return Math.max(n,18)}function Cg(t,e,s,n="ltr"){const a=Ba(s),i=a/2,o=e||i,l=a-o,c=s.scrollbar.paddingStart+o,d=s.scrollbar.size-s.scrollbar.paddingEnd-l,p=s.content-s.viewport,f=n==="ltr"?[0,p]:[p*-1,0];return zd([c,d],f)(t)}function xl(t,e,s="ltr"){const n=Ba(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-n,c=s==="ltr"?[0,o]:[o*-1,0],d=Di(t,c);return zd([0,o],[0,l])(d)}function zd(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(s-t[0])}}function $d(t,e){return t>0&&t<e}var Eg=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=s.left!==i.left,l=s.top!==i.top;(o||l)&&e(),s=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function qa(t,e){const s=vs(t),n=u.useRef(0);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),u.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(s,e)},[s,e])}function zr(t,e){const s=vs(e);Wt(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,s])}var Ud=Rd,Ag=Dd,Tg=Ld;const Bd=u.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(Ud,{ref:n,className:q("relative overflow-hidden",t),...s,children:[r.jsx(Ag,{className:"h-full w-full rounded-[inherit]",children:e}),r.jsx(qd,{}),r.jsx(Tg,{})]}));Bd.displayName=Ud.displayName;const qd=u.forwardRef(({className:t,orientation:e="vertical",...s},n)=>r.jsx(wo,{ref:n,orientation:e,className:q("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:r.jsx(Md,{className:"relative flex-1 rounded-full bg-border"})}));qd.displayName=wo.displayName;const Rg=({isMobile:t,isSidebarOpen:e,toggleSidebar:s})=>{const{user:n}=br(),a=(n==null?void 0:n.role)==="admin",[i,o]=u.useState(null),[l,c]=u.useState(!0);u.useEffect(()=>{let h=!0;return(async()=>{c(!0);try{console.log("Sidebar: Fetching session status...");const g=await Ke.getStatus();h&&(console.log("Sidebar: Fetched status:",g),o(g))}catch(g){console.error("Sidebar: Failed to fetch session status",g),h&&o(null)}finally{h&&c(!1)}})(),()=>{h=!1}},[n]);const p=[{name:"Dashboard",path:"/app/dashboard",icon:Hf},{name:"Sessions",path:"/app/sessions",icon:xc},{name:"Workflow",getPath:()=>l?"#":i!=null&&i.active_session&&(i!=null&&i.session_hash)?`/app/workflow?session=${i.session_hash}`:"/app/workflow/upload",icon:gc},{name:"Logs",path:"/app/logs",icon:Zt},...a?[{name:"Users",path:"/app/users",icon:Wf}]:[],{name:"Settings",path:"/app/settings",icon:Zf}],f=q("fixed inset-y-0 left-0 z-50 w-64 bg-background border-r transition-transform duration-300 ease-in-out print:hidden",t?e?"translate-x-0":"-translate-x-full":"translate-x-0");return r.jsxs("aside",{className:f,"aria-label":"Main Navigation Sidebar",children:[r.jsxs("div",{className:"flex h-14 items-center border-b px-4",children:[r.jsx(Uo,{to:"/app/dashboard",className:"flex items-center gap-2 font-semibold",children:r.jsx("span",{className:"text-lg",children:"DocTypeGen"})}),t&&r.jsx(L,{variant:"ghost",size:"icon",className:"ml-auto h-8 w-8",onClick:s,"aria-label":"Close sidebar",children:r.jsx(hc,{className:"h-4 w-4"})})]}),r.jsx(Bd,{className:"h-[calc(100vh-3.5rem)]",children:r.jsx("nav",{className:"grid items-start px-4 text-sm font-medium",children:p.map(h=>{const b=typeof h.getPath=="function"?h.getPath():h.path,g=h.name==="Workflow"&&l;return r.jsxs(Uo,{to:g?"#":b||"#",end:h.path==="/app/dashboard",className:({isActive:m})=>q("flex items-center gap-3 rounded-lg px-3 py-2 transition-all hover:text-primary",m&&!g?"bg-muted text-primary":"text-muted-foreground",g?"opacity-50 cursor-not-allowed":""),onClick:m=>{if(g){m.preventDefault();return}t&&e&&s()},"aria-disabled":g,style:{pointerEvents:g?"none":"auto"},title:g&&h.name==="Workflow"?"Loading session status...":void 0,children:[h.name==="Workflow"&&l?r.jsx(ys,{className:"h-4 w-4 animate-spin"}):r.jsx(h.icon,{className:"h-4 w-4"}),r.jsx("span",{children:h.name})]},h.name)})})})]})},Pg=()=>{const[t,e]=u.useState(!1),[s,n]=u.useState(window.innerWidth<768),a=()=>{e(!t)};return u.useEffect(()=>{const i=()=>{n(window.innerWidth<768),window.innerWidth>=768&&e(!1)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]),r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(gg,{toggleSidebar:a}),r.jsxs("div",{className:"flex",children:[r.jsx(Rg,{isMobile:s,isSidebarOpen:t,toggleSidebar:a}),r.jsx("main",{className:q("flex-1 p-4 sm:p-6 md:p-8",!s&&"md:ml-64"),children:r.jsx(Ac,{})})]}),s&&t&&r.jsx("div",{className:"fixed inset-0 z-40 bg-background/80 backdrop-blur-sm",onClick:a})]})};var je;(function(t){t.assertEqual=a=>a;function e(a){}t.assertIs=e;function s(a){throw new Error}t.assertNever=s,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(je||(je={}));var Oi;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Oi||(Oi={}));const Q=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hs=t=>{switch(typeof t){case"undefined":return Q.undefined;case"string":return Q.string;case"number":return isNaN(t)?Q.nan:Q.number;case"boolean":return Q.boolean;case"function":return Q.function;case"bigint":return Q.bigint;case"symbol":return Q.symbol;case"object":return Array.isArray(t)?Q.array:t===null?Q.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Q.promise:typeof Map<"u"&&t instanceof Map?Q.map:typeof Set<"u"&&t instanceof Set?Q.set:typeof Date<"u"&&t instanceof Date?Q.date:Q.object;default:return Q.unknown}},I=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Dg=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Et extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(s(o));else{let l=n,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(s(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return a(this),n}static assert(e){if(!(e instanceof Et))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},n=[];for(const a of this.issues)a.path.length>0?(s[a.path[0]]=s[a.path[0]]||[],s[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:s}}get formErrors(){return this.flatten()}}Et.create=t=>new Et(t);const $r=(t,e)=>{let s;switch(t.code){case I.invalid_type:t.received===Q.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case I.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,je.jsonStringifyReplacer)}`;break;case I.unrecognized_keys:s=`Unrecognized key(s) in object: ${je.joinValues(t.keys,", ")}`;break;case I.invalid_union:s="Invalid input";break;case I.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${je.joinValues(t.options)}`;break;case I.invalid_enum_value:s=`Invalid enum value. Expected ${je.joinValues(t.options)}, received '${t.received}'`;break;case I.invalid_arguments:s="Invalid function arguments";break;case I.invalid_return_type:s="Invalid function return type";break;case I.invalid_date:s="Invalid date";break;case I.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:je.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case I.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case I.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case I.custom:s="Invalid input";break;case I.invalid_intersection_types:s="Intersection results could not be merged";break;case I.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case I.not_finite:s="Number must be finite";break;default:s=e.defaultError,je.assertNever(t)}return{message:s}};let Hd=$r;function Og(t){Hd=t}function pa(){return Hd}const fa=t=>{const{data:e,path:s,errorMaps:n,issueData:a}=t,i=[...s,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}},Fg=[];function G(t,e){const s=pa(),n=fa({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===$r?void 0:$r].filter(a=>!!a)});t.common.issues.push(n)}class pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const n=[];for(const a of s){if(a.status==="aborted")return ne;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,s){const n=[];for(const a of s){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return pt.mergeObjectSync(e,n)}static mergeObjectSync(e,s){const n={};for(const a of s){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return ne;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const ne=Object.freeze({status:"aborted"}),kr=t=>({status:"dirty",value:t}),gt=t=>({status:"valid",value:t}),Fi=t=>t.status==="aborted",Ii=t=>t.status==="dirty",dr=t=>t.status==="valid",vn=t=>typeof Promise<"u"&&t instanceof Promise;function ma(t,e,s,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Wd(t,e,s,n,a){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,s),s}var te;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(te||(te={}));var an,on;class os{constructor(e,s,n,a){this._cachedPath=[],this.parent=e,this.data=s,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gl=(t,e)=>{if(dr(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new Et(t.common.issues);return this._error=s,this._error}}};function ce(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:n,description:a}=t;if(e&&(s||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{var c,d;const{message:p}=t;return o.code==="invalid_enum_value"?{message:p??l.defaultError}:typeof l.data>"u"?{message:(c=p??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=p??s)!==null&&d!==void 0?d:l.defaultError}},description:a}}class pe{get description(){return this._def.description}_getType(e){return hs(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pt,ctx:{common:e.parent.common,data:e.data,parsedType:hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(vn(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const n=this.safeParse(e,s);if(n.success)return n.data;throw n.error}safeParse(e,s){var n;const a={common:{issues:[],async:(n=s==null?void 0:s.async)!==null&&n!==void 0?n:!1,contextualErrorMap:s==null?void 0:s.errorMap},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hs(e)},i=this._parseSync({data:e,path:a.path,parent:a});return gl(a,i)}"~validate"(e){var s,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hs(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:a});return dr(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(s=i==null?void 0:i.message)===null||s===void 0?void 0:s.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(i=>dr(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(e,s){const n=await this.safeParseAsync(e,s);if(n.success)return n.data;throw n.error}async safeParseAsync(e,s){const n={common:{issues:[],contextualErrorMap:s==null?void 0:s.errorMap,async:!0},path:(s==null?void 0:s.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:hs(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(vn(a)?a:Promise.resolve(a));return gl(n,i)}refine(e,s){const n=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:I.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,s){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof s=="function"?s(n,a):s),!1))}_refinement(e){return new Gt({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return as.create(this,this._def)}nullable(){return $s.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ht.create(this)}promise(){return Br.create(this,this._def)}or(e){return jn.create([this,e],this._def)}and(e){return _n.create(this,e,this._def)}transform(e){return new Gt({...ce(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new En({...ce(this._def),innerType:this,defaultValue:s,typeName:re.ZodDefault})}brand(){return new So({typeName:re.ZodBranded,type:this,...ce(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new An({...ce(this._def),innerType:this,catchValue:s,typeName:re.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return Ln.create(this,e)}readonly(){return Tn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ig=/^c[^\s-]{8,}$/i,Mg=/^[0-9a-z]+$/,Lg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Vg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,zg=/^[a-z0-9_-]{21}$/i,$g=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ug=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Bg=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,qg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let di;const Hg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Wg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gg=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Kg=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qg=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zd="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Yg=new RegExp(`^${Zd}$`);function Gd(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Jg(t){return new RegExp(`^${Gd(t)}$`)}function Kd(t){let e=`${Zd}T${Gd(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Xg(t,e){return!!((e==="v4"||!e)&&Hg.test(t)||(e==="v6"||!e)&&Zg.test(t))}function ev(t,e){if(!$g.test(t))return!1;try{const[s]=t.split("."),n=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||e&&a.alg!==e)}catch{return!1}}function tv(t,e){return!!((e==="v4"||!e)&&Wg.test(t)||(e==="v6"||!e)&&Gg.test(t))}class qt extends pe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Q.string){const i=this._getOrReturnCtx(e);return G(i,{code:I.invalid_type,expected:Q.string,received:i.parsedType}),ne}const n=new pt;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),G(a,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),G(a,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?G(a,{code:I.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&G(a,{code:I.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Bg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"email",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")di||(di=new RegExp(qg,"u")),di.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"emoji",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Vg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"uuid",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")zg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"nanoid",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Ig.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"cuid",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Mg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"cuid2",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Lg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"ulid",code:I.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),G(a,{validation:"url",code:I.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"regex",code:I.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Kd(i).test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Yg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Jg(i).test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{code:I.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Ug.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"duration",code:I.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Xg(e.data,i.version)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"ip",code:I.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?ev(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"jwt",code:I.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?tv(e.data,i.version)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"cidr",code:I.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Kg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"base64",code:I.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Qg.test(e.data)||(a=this._getOrReturnCtx(e,a),G(a,{validation:"base64url",code:I.invalid_string,message:i.message}),n.dirty()):je.assertNever(i);return{status:n.value,value:e.data}}_regex(e,s,n){return this.refinement(a=>e.test(a),{validation:s,code:I.invalid_string,...te.errToObj(n)})}_addCheck(e){return new qt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...te.errToObj(e)})}url(e){return this._addCheck({kind:"url",...te.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...te.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...te.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...te.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...te.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...te.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...te.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...te.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...te.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...te.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...te.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...te.errToObj(e)})}datetime(e){var s,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(s=e==null?void 0:e.offset)!==null&&s!==void 0?s:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,...te.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...te.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...te.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...te.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s==null?void 0:s.position,...te.errToObj(s==null?void 0:s.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...te.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...te.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...te.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...te.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...te.errToObj(s)})}nonempty(e){return this.min(1,te.errToObj(e))}trim(){return new qt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}qt.create=t=>{var e;return new qt({checks:[],typeName:re.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ce(t)})};function sv(t,e){const s=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=s>n?s:n,i=parseInt(t.toFixed(a).replace(".","")),o=parseInt(e.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class Ls extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Q.number){const i=this._getOrReturnCtx(e);return G(i,{code:I.invalid_type,expected:Q.number,received:i.parsedType}),ne}let n;const a=new pt;for(const i of this._def.checks)i.kind==="int"?je.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:I.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?sv(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),G(n,{code:I.not_finite,message:i.message}),a.dirty()):je.assertNever(i);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,te.toString(s))}gt(e,s){return this.setLimit("min",e,!1,te.toString(s))}lte(e,s){return this.setLimit("max",e,!0,te.toString(s))}lt(e,s){return this.setLimit("max",e,!1,te.toString(s))}setLimit(e,s,n,a){return new Ls({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:te.toString(a)}]})}_addCheck(e){return new Ls({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:te.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:te.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:te.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:te.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:te.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&je.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(s===null||n.value>s)&&(s=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(s)&&Number.isFinite(e)}}Ls.create=t=>new Ls({checks:[],typeName:re.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ce(t)});class Vs extends pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Q.bigint)return this._getInvalidInput(e);let n;const a=new pt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),G(n,{code:I.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):je.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return G(s,{code:I.invalid_type,expected:Q.bigint,received:s.parsedType}),ne}gte(e,s){return this.setLimit("min",e,!0,te.toString(s))}gt(e,s){return this.setLimit("min",e,!1,te.toString(s))}lte(e,s){return this.setLimit("max",e,!0,te.toString(s))}lt(e,s){return this.setLimit("max",e,!1,te.toString(s))}setLimit(e,s,n,a){return new Vs({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:n,message:te.toString(a)}]})}_addCheck(e){return new Vs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:te.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:te.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:te.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:te.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:te.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}Vs.create=t=>{var e;return new Vs({checks:[],typeName:re.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ce(t)})};class yn extends pe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Q.boolean){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.boolean,received:n.parsedType}),ne}return gt(e.data)}}yn.create=t=>new yn({typeName:re.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ce(t)});class ur extends pe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Q.date){const i=this._getOrReturnCtx(e);return G(i,{code:I.invalid_type,expected:Q.date,received:i.parsedType}),ne}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return G(i,{code:I.invalid_date}),ne}const n=new pt;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),G(a,{code:I.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),G(a,{code:I.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):je.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ur({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:te.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:te.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}ur.create=t=>new ur({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:re.ZodDate,...ce(t)});class ha extends pe{_parse(e){if(this._getType(e)!==Q.symbol){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.symbol,received:n.parsedType}),ne}return gt(e.data)}}ha.create=t=>new ha({typeName:re.ZodSymbol,...ce(t)});class bn extends pe{_parse(e){if(this._getType(e)!==Q.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.undefined,received:n.parsedType}),ne}return gt(e.data)}}bn.create=t=>new bn({typeName:re.ZodUndefined,...ce(t)});class wn extends pe{_parse(e){if(this._getType(e)!==Q.null){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.null,received:n.parsedType}),ne}return gt(e.data)}}wn.create=t=>new wn({typeName:re.ZodNull,...ce(t)});class Ur extends pe{constructor(){super(...arguments),this._any=!0}_parse(e){return gt(e.data)}}Ur.create=t=>new Ur({typeName:re.ZodAny,...ce(t)});class ar extends pe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gt(e.data)}}ar.create=t=>new ar({typeName:re.ZodUnknown,...ce(t)});class js extends pe{_parse(e){const s=this._getOrReturnCtx(e);return G(s,{code:I.invalid_type,expected:Q.never,received:s.parsedType}),ne}}js.create=t=>new js({typeName:re.ZodNever,...ce(t)});class xa extends pe{_parse(e){if(this._getType(e)!==Q.undefined){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.void,received:n.parsedType}),ne}return gt(e.data)}}xa.create=t=>new xa({typeName:re.ZodVoid,...ce(t)});class Ht extends pe{_parse(e){const{ctx:s,status:n}=this._processInputParams(e),a=this._def;if(s.parsedType!==Q.array)return G(s,{code:I.invalid_type,expected:Q.array,received:s.parsedType}),ne;if(a.exactLength!==null){const o=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(o||l)&&(G(s,{code:o?I.too_big:I.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(G(s,{code:I.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(G(s,{code:I.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),s.common.async)return Promise.all([...s.data].map((o,l)=>a.type._parseAsync(new os(s,o,s.path,l)))).then(o=>pt.mergeArray(n,o));const i=[...s.data].map((o,l)=>a.type._parseSync(new os(s,o,s.path,l)));return pt.mergeArray(n,i)}get element(){return this._def.type}min(e,s){return new Ht({...this._def,minLength:{value:e,message:te.toString(s)}})}max(e,s){return new Ht({...this._def,maxLength:{value:e,message:te.toString(s)}})}length(e,s){return new Ht({...this._def,exactLength:{value:e,message:te.toString(s)}})}nonempty(e){return this.min(1,e)}}Ht.create=(t,e)=>new Ht({type:t,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...ce(e)});function Nr(t){if(t instanceof Ve){const e={};for(const s in t.shape){const n=t.shape[s];e[s]=as.create(Nr(n))}return new Ve({...t._def,shape:()=>e})}else return t instanceof Ht?new Ht({...t._def,type:Nr(t.element)}):t instanceof as?as.create(Nr(t.unwrap())):t instanceof $s?$s.create(Nr(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>Nr(e))):t}class Ve extends pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=je.objectKeys(e);return this._cached={shape:e,keys:s}}_parse(e){if(this._getType(e)!==Q.object){const d=this._getOrReturnCtx(e);return G(d,{code:I.invalid_type,expected:Q.object,received:d.parsedType}),ne}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof js&&this._def.unknownKeys==="strip"))for(const d in a.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const p=i[d],f=a.data[d];c.push({key:{status:"valid",value:d},value:p._parse(new os(a,f,a.path,d)),alwaysSet:d in a.data})}if(this._def.catchall instanceof js){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of l)c.push({key:{status:"valid",value:p},value:{status:"valid",value:a.data[p]}});else if(d==="strict")l.length>0&&(G(a,{code:I.unrecognized_keys,keys:l}),n.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of l){const f=a.data[p];c.push({key:{status:"valid",value:p},value:d._parse(new os(a,f,a.path,p)),alwaysSet:p in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of c){const f=await p.key,h=await p.value;d.push({key:f,value:h,alwaysSet:p.alwaysSet})}return d}).then(d=>pt.mergeObjectSync(n,d)):pt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return te.errToObj,new Ve({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,s,n).message)!==null&&o!==void 0?o:n.defaultError;return s.code==="unrecognized_keys"?{message:(l=te.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ve({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ve({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:re.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new Ve({...this._def,catchall:e})}pick(e){const s={};return je.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(s[n]=this.shape[n])}),new Ve({...this._def,shape:()=>s})}omit(e){const s={};return je.objectKeys(this.shape).forEach(n=>{e[n]||(s[n]=this.shape[n])}),new Ve({...this._def,shape:()=>s})}deepPartial(){return Nr(this)}partial(e){const s={};return je.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];e&&!e[n]?s[n]=a:s[n]=a.optional()}),new Ve({...this._def,shape:()=>s})}required(e){const s={};return je.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])s[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof as;)i=i._def.innerType;s[n]=i}}),new Ve({...this._def,shape:()=>s})}keyof(){return Qd(je.objectKeys(this.shape))}}Ve.create=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strip",catchall:js.create(),typeName:re.ZodObject,...ce(e)});Ve.strictCreate=(t,e)=>new Ve({shape:()=>t,unknownKeys:"strict",catchall:js.create(),typeName:re.ZodObject,...ce(e)});Ve.lazycreate=(t,e)=>new Ve({shape:t,unknownKeys:"strip",catchall:js.create(),typeName:re.ZodObject,...ce(e)});class jn extends pe{_parse(e){const{ctx:s}=this._processInputParams(e),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Et(l.ctx.common.issues));return G(s,{code:I.invalid_union,unionErrors:o}),ne}if(s.common.async)return Promise.all(n.map(async i=>{const o={...s,common:{...s.common,issues:[]},parent:null};return{result:await i._parseAsync({data:s.data,path:s.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const d={...s,common:{...s.common,issues:[]},parent:null},p=c._parseSync({data:s.data,path:s.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!i&&(i={result:p,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(i)return s.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Et(c));return G(s,{code:I.invalid_union,unionErrors:l}),ne}}get options(){return this._def.options}}jn.create=(t,e)=>new jn({options:t,typeName:re.ZodUnion,...ce(e)});const ms=t=>t instanceof Nn?ms(t.schema):t instanceof Gt?ms(t.innerType()):t instanceof kn?[t.value]:t instanceof zs?t.options:t instanceof Cn?je.objectValues(t.enum):t instanceof En?ms(t._def.innerType):t instanceof bn?[void 0]:t instanceof wn?[null]:t instanceof as?[void 0,...ms(t.unwrap())]:t instanceof $s?[null,...ms(t.unwrap())]:t instanceof So||t instanceof Tn?ms(t.unwrap()):t instanceof An?ms(t._def.innerType):[];class Ha extends pe{_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.object)return G(s,{code:I.invalid_type,expected:Q.object,received:s.parsedType}),ne;const n=this.discriminator,a=s.data[n],i=this.optionsMap.get(a);return i?s.common.async?i._parseAsync({data:s.data,path:s.path,parent:s}):i._parseSync({data:s.data,path:s.path,parent:s}):(G(s,{code:I.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,s,n){const a=new Map;for(const i of s){const o=ms(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Ha({typeName:re.ZodDiscriminatedUnion,discriminator:e,options:s,optionsMap:a,...ce(n)})}}function Mi(t,e){const s=hs(t),n=hs(e);if(t===e)return{valid:!0,data:t};if(s===Q.object&&n===Q.object){const a=je.objectKeys(e),i=je.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=Mi(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(s===Q.array&&n===Q.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=Mi(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===Q.date&&n===Q.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class _n extends pe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e),a=(i,o)=>{if(Fi(i)||Fi(o))return ne;const l=Mi(i.value,o.value);return l.valid?((Ii(i)||Ii(o))&&s.dirty(),{status:s.value,value:l.data}):(G(n,{code:I.invalid_intersection_types}),ne)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}_n.create=(t,e,s)=>new _n({left:t,right:e,typeName:re.ZodIntersection,...ce(s)});class ls extends pe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.array)return G(n,{code:I.invalid_type,expected:Q.array,received:n.parsedType}),ne;if(n.data.length<this._def.items.length)return G(n,{code:I.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&n.data.length>this._def.items.length&&(G(n,{code:I.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new os(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>pt.mergeArray(s,o)):pt.mergeArray(s,i)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:re.ZodTuple,rest:null,...ce(e)})};class Sn extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.object)return G(n,{code:I.invalid_type,expected:Q.object,received:n.parsedType}),ne;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new os(n,l,n.path,l)),value:o._parse(new os(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?pt.mergeObjectAsync(s,a):pt.mergeObjectSync(s,a)}get element(){return this._def.valueType}static create(e,s,n){return s instanceof pe?new Sn({keyType:e,valueType:s,typeName:re.ZodRecord,...ce(n)}):new Sn({keyType:qt.create(),valueType:e,typeName:re.ZodRecord,...ce(s)})}}class ga extends pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.map)return G(n,{code:I.invalid_type,expected:Q.map,received:n.parsedType}),ne;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],d)=>({key:a._parse(new os(n,l,n.path,[d,"key"])),value:i._parse(new os(n,c,n.path,[d,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,p=await c.value;if(d.status==="aborted"||p.status==="aborted")return ne;(d.status==="dirty"||p.status==="dirty")&&s.dirty(),l.set(d.value,p.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,p=c.value;if(d.status==="aborted"||p.status==="aborted")return ne;(d.status==="dirty"||p.status==="dirty")&&s.dirty(),l.set(d.value,p.value)}return{status:s.value,value:l}}}}ga.create=(t,e,s)=>new ga({valueType:e,keyType:t,typeName:re.ZodMap,...ce(s)});class pr extends pe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.parsedType!==Q.set)return G(n,{code:I.invalid_type,expected:Q.set,received:n.parsedType}),ne;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(G(n,{code:I.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(G(n,{code:I.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const i=this._def.valueType;function o(c){const d=new Set;for(const p of c){if(p.status==="aborted")return ne;p.status==="dirty"&&s.dirty(),d.add(p.value)}return{status:s.value,value:d}}const l=[...n.data.values()].map((c,d)=>i._parse(new os(n,c,n.path,d)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,s){return new pr({...this._def,minSize:{value:e,message:te.toString(s)}})}max(e,s){return new pr({...this._def,maxSize:{value:e,message:te.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}pr.create=(t,e)=>new pr({valueType:t,minSize:null,maxSize:null,typeName:re.ZodSet,...ce(e)});class Er extends pe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.function)return G(s,{code:I.invalid_type,expected:Q.function,received:s.parsedType}),ne;function n(l,c){return fa({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,pa(),$r].filter(d=>!!d),issueData:{code:I.invalid_arguments,argumentsError:c}})}function a(l,c){return fa({data:l,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,pa(),$r].filter(d=>!!d),issueData:{code:I.invalid_return_type,returnTypeError:c}})}const i={errorMap:s.common.contextualErrorMap},o=s.data;if(this._def.returns instanceof Br){const l=this;return gt(async function(...c){const d=new Et([]),p=await l._def.args.parseAsync(c,i).catch(b=>{throw d.addIssue(n(c,b)),d}),f=await Reflect.apply(o,this,p);return await l._def.returns._def.type.parseAsync(f,i).catch(b=>{throw d.addIssue(a(f,b)),d})})}else{const l=this;return gt(function(...c){const d=l._def.args.safeParse(c,i);if(!d.success)throw new Et([n(c,d.error)]);const p=Reflect.apply(o,this,d.data),f=l._def.returns.safeParse(p,i);if(!f.success)throw new Et([a(p,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Er({...this._def,args:ls.create(e).rest(ar.create())})}returns(e){return new Er({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,s,n){return new Er({args:e||ls.create([]).rest(ar.create()),returns:s||ar.create(),typeName:re.ZodFunction,...ce(n)})}}class Nn extends pe{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Nn.create=(t,e)=>new Nn({getter:t,typeName:re.ZodLazy,...ce(e)});class kn extends pe{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return G(s,{received:s.data,code:I.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}kn.create=(t,e)=>new kn({value:t,typeName:re.ZodLiteral,...ce(e)});function Qd(t,e){return new zs({values:t,typeName:re.ZodEnum,...ce(e)})}class zs extends pe{constructor(){super(...arguments),an.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),n=this._def.values;return G(s,{expected:je.joinValues(n),received:s.parsedType,code:I.invalid_type}),ne}if(ma(this,an)||Wd(this,an,new Set(this._def.values)),!ma(this,an).has(e.data)){const s=this._getOrReturnCtx(e),n=this._def.values;return G(s,{received:s.data,code:I.invalid_enum_value,options:n}),ne}return gt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return zs.create(e,{...this._def,...s})}exclude(e,s=this._def){return zs.create(this.options.filter(n=>!e.includes(n)),{...this._def,...s})}}an=new WeakMap;zs.create=Qd;class Cn extends pe{constructor(){super(...arguments),on.set(this,void 0)}_parse(e){const s=je.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Q.string&&n.parsedType!==Q.number){const a=je.objectValues(s);return G(n,{expected:je.joinValues(a),received:n.parsedType,code:I.invalid_type}),ne}if(ma(this,on)||Wd(this,on,new Set(je.getValidEnumValues(this._def.values))),!ma(this,on).has(e.data)){const a=je.objectValues(s);return G(n,{received:n.data,code:I.invalid_enum_value,options:a}),ne}return gt(e.data)}get enum(){return this._def.values}}on=new WeakMap;Cn.create=(t,e)=>new Cn({values:t,typeName:re.ZodNativeEnum,...ce(e)});class Br extends pe{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==Q.promise&&s.common.async===!1)return G(s,{code:I.invalid_type,expected:Q.promise,received:s.parsedType}),ne;const n=s.parsedType===Q.promise?s.data:Promise.resolve(s.data);return gt(n.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}Br.create=(t,e)=>new Br({type:t,typeName:re.ZodPromise,...ce(e)});class Gt extends pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{G(n,o),o.fatal?s.abort():s.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(s.value==="aborted")return ne;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?ne:c.status==="dirty"||s.value==="dirty"?kr(c.value):c});{if(s.value==="aborted")return ne;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?ne:l.status==="dirty"||s.value==="dirty"?kr(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?ne:(l.status==="dirty"&&s.dirty(),o(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?ne:(l.status==="dirty"&&s.dirty(),o(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!dr(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>dr(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:s.value,value:l})):o);je.assertNever(a)}}Gt.create=(t,e,s)=>new Gt({schema:t,typeName:re.ZodEffects,effect:e,...ce(s)});Gt.createWithPreprocess=(t,e,s)=>new Gt({schema:e,effect:{type:"preprocess",transform:t},typeName:re.ZodEffects,...ce(s)});class as extends pe{_parse(e){return this._getType(e)===Q.undefined?gt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}as.create=(t,e)=>new as({innerType:t,typeName:re.ZodOptional,...ce(e)});class $s extends pe{_parse(e){return this._getType(e)===Q.null?gt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$s.create=(t,e)=>new $s({innerType:t,typeName:re.ZodNullable,...ce(e)});class En extends pe{_parse(e){const{ctx:s}=this._processInputParams(e);let n=s.data;return s.parsedType===Q.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}En.create=(t,e)=>new En({innerType:t,typeName:re.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ce(e)});class An extends pe{_parse(e){const{ctx:s}=this._processInputParams(e),n={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return vn(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Et(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Et(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}An.create=(t,e)=>new An({innerType:t,typeName:re.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ce(e)});class va extends pe{_parse(e){if(this._getType(e)!==Q.nan){const n=this._getOrReturnCtx(e);return G(n,{code:I.invalid_type,expected:Q.nan,received:n.parsedType}),ne}return{status:"valid",value:e.data}}}va.create=t=>new va({typeName:re.ZodNaN,...ce(t)});const rv=Symbol("zod_brand");class So extends pe{_parse(e){const{ctx:s}=this._processInputParams(e),n=s.data;return this._def.type._parse({data:n,path:s.path,parent:s})}unwrap(){return this._def.type}}class Ln extends pe{_parse(e){const{status:s,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ne:i.status==="dirty"?(s.dirty(),kr(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ne:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,s){return new Ln({in:e,out:s,typeName:re.ZodPipeline})}}class Tn extends pe{_parse(e){const s=this._def.innerType._parse(e),n=a=>(dr(a)&&(a.value=Object.freeze(a.value)),a);return vn(s)?s.then(a=>n(a)):n(s)}unwrap(){return this._def.innerType}}Tn.create=(t,e)=>new Tn({innerType:t,typeName:re.ZodReadonly,...ce(e)});function vl(t,e){const s=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof s=="string"?{message:s}:s}function Yd(t,e={},s){return t?Ur.create().superRefine((n,a)=>{var i,o;const l=t(n);if(l instanceof Promise)return l.then(c=>{var d,p;if(!c){const f=vl(e,n),h=(p=(d=f.fatal)!==null&&d!==void 0?d:s)!==null&&p!==void 0?p:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=vl(e,n),d=(o=(i=c.fatal)!==null&&i!==void 0?i:s)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:d})}}):Ur.create()}const nv={object:Ve.lazycreate};var re;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(re||(re={}));const av=(t,e={message:`Input not instance of ${t.name}`})=>Yd(s=>s instanceof t,e),bs=qt.create,Jd=Ls.create,iv=va.create,ov=Vs.create,Xd=yn.create,lv=ur.create,cv=ha.create,dv=bn.create,uv=wn.create,pv=Ur.create,fv=ar.create,mv=js.create,hv=xa.create,xv=Ht.create,Wa=Ve.create,gv=Ve.strictCreate,vv=jn.create,yv=Ha.create,bv=_n.create,wv=ls.create,jv=Sn.create,_v=ga.create,Sv=pr.create,Nv=Er.create,kv=Nn.create,eu=kn.create,No=zs.create,Cv=Cn.create,Ev=Br.create,yl=Gt.create,Av=as.create,Tv=$s.create,Rv=Gt.createWithPreprocess,Pv=Ln.create,Dv=()=>bs().optional(),Ov=()=>Jd().optional(),Fv=()=>Xd().optional(),Iv={string:t=>qt.create({...t,coerce:!0}),number:t=>Ls.create({...t,coerce:!0}),boolean:t=>yn.create({...t,coerce:!0}),bigint:t=>Vs.create({...t,coerce:!0}),date:t=>ur.create({...t,coerce:!0})},Mv=ne;var ui=Object.freeze({__proto__:null,defaultErrorMap:$r,setErrorMap:Og,getErrorMap:pa,makeIssue:fa,EMPTY_PATH:Fg,addIssueToContext:G,ParseStatus:pt,INVALID:ne,DIRTY:kr,OK:gt,isAborted:Fi,isDirty:Ii,isValid:dr,isAsync:vn,get util(){return je},get objectUtil(){return Oi},ZodParsedType:Q,getParsedType:hs,ZodType:pe,datetimeRegex:Kd,ZodString:qt,ZodNumber:Ls,ZodBigInt:Vs,ZodBoolean:yn,ZodDate:ur,ZodSymbol:ha,ZodUndefined:bn,ZodNull:wn,ZodAny:Ur,ZodUnknown:ar,ZodNever:js,ZodVoid:xa,ZodArray:Ht,ZodObject:Ve,ZodUnion:jn,ZodDiscriminatedUnion:Ha,ZodIntersection:_n,ZodTuple:ls,ZodRecord:Sn,ZodMap:ga,ZodSet:pr,ZodFunction:Er,ZodLazy:Nn,ZodLiteral:kn,ZodEnum:zs,ZodNativeEnum:Cn,ZodPromise:Br,ZodEffects:Gt,ZodTransformer:Gt,ZodOptional:as,ZodNullable:$s,ZodDefault:En,ZodCatch:An,ZodNaN:va,BRAND:rv,ZodBranded:So,ZodPipeline:Ln,ZodReadonly:Tn,custom:Yd,Schema:pe,ZodSchema:pe,late:nv,get ZodFirstPartyTypeKind(){return re},coerce:Iv,any:pv,array:xv,bigint:ov,boolean:Xd,date:lv,discriminatedUnion:yv,effect:yl,enum:No,function:Nv,instanceof:av,intersection:bv,lazy:kv,literal:eu,map:_v,nan:iv,nativeEnum:Cv,never:mv,null:uv,nullable:Tv,number:Jd,object:Wa,oboolean:Fv,onumber:Ov,optional:Av,ostring:Dv,pipeline:Pv,preprocess:Rv,promise:Ev,record:jv,set:Sv,strictObject:gv,string:bs,symbol:cv,transformer:yl,tuple:wv,undefined:dv,union:vv,unknown:fv,void:hv,NEVER:Mv,ZodIssueCode:I,quotelessJson:Dg,ZodError:Et}),Vn=t=>t.type==="checkbox",Js=t=>t instanceof Date,ht=t=>t==null;const tu=t=>typeof t=="object";var Ze=t=>!ht(t)&&!Array.isArray(t)&&tu(t)&&!Js(t),su=t=>Ze(t)&&t.target?Vn(t.target)?t.target.checked:t.target.value:t,Lv=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ru=(t,e)=>t.has(Lv(e)),Vv=t=>{const e=t.constructor&&t.constructor.prototype;return Ze(e)&&e.hasOwnProperty("isPrototypeOf")},ko=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yt(t){let e;const s=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ko&&(t instanceof Blob||n))&&(s||Ze(t)))if(e=s?[]:{},!s&&!Vv(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=yt(t[a]));else return t;return e}var Za=t=>Array.isArray(t)?t.filter(Boolean):[],He=t=>t===void 0,B=(t,e,s)=>{if(!e||!Ze(t))return s;const n=Za(e.split(/[,[\].]+?/)).reduce((a,i)=>ht(a)?a:a[i],t);return He(n)||n===t?He(t[e])?s:t[e]:n},Rt=t=>typeof t=="boolean",Co=t=>/^\w*$/.test(t),nu=t=>Za(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ke=(t,e,s)=>{let n=-1;const a=Co(e)?[e]:nu(e),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=s;if(n!==o){const d=t[l];c=Ze(d)||Array.isArray(d)?d:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const ya={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ps={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},au=Se.createContext(null),Ga=()=>Se.useContext(au),zv=t=>{const{children:e,...s}=t;return Se.createElement(au.Provider,{value:s},e)};var iu=(t,e,s,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Bt.all&&(e._proxyFormState[o]=!n||Bt.all),s&&(s[o]=!0),t[o]}});return a},wt=t=>Ze(t)&&!Object.keys(t).length,ou=(t,e,s,n)=>{s(t);const{name:a,...i}=t;return wt(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Bt.all))},pn=t=>Array.isArray(t)?t:[t],lu=(t,e,s)=>!t||!e||t===e||pn(t).some(n=>n&&(s?n===e:n.startsWith(e)||e.startsWith(n)));function Eo(t){const e=Se.useRef(t);e.current=t,Se.useEffect(()=>{const s=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{s&&s.unsubscribe()}},[t.disabled])}function $v(t){const e=Ga(),{control:s=e.control,disabled:n,name:a,exact:i}=t||{},[o,l]=Se.useState(s._formState),c=Se.useRef(!0),d=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=Se.useRef(a);return p.current=a,Eo({disabled:n,next:f=>c.current&&lu(p.current,f.name,i)&&ou(f,d.current,s._updateFormState)&&l({...s._formState,...f}),subject:s._subjects.state}),Se.useEffect(()=>(c.current=!0,d.current.isValid&&s._updateValid(!0),()=>{c.current=!1}),[s]),Se.useMemo(()=>iu(o,s,d.current,!1),[o,s])}var ns=t=>typeof t=="string",cu=(t,e,s,n,a)=>ns(t)?(n&&e.watch.add(t),B(s,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),B(s,i))):(n&&(e.watchAll=!0),s);function Uv(t){const e=Ga(),{control:s=e.control,name:n,defaultValue:a,disabled:i,exact:o}=t||{},l=Se.useRef(n);l.current=n,Eo({disabled:i,subject:s._subjects.values,next:p=>{lu(l.current,p.name,o)&&d(yt(cu(l.current,s._names,p.values||s._formValues,!1,a)))}});const[c,d]=Se.useState(s._getWatch(n,a));return Se.useEffect(()=>s._removeUnmounted()),c}function Bv(t){const e=Ga(),{name:s,disabled:n,control:a=e.control,shouldUnregister:i}=t,o=ru(a._names.array,s),l=Uv({control:a,name:s,defaultValue:B(a._formValues,s,B(a._defaultValues,s,t.defaultValue)),exact:!0}),c=$v({control:a,name:s,exact:!0}),d=Se.useRef(a.register(s,{...t.rules,value:l,...Rt(t.disabled)?{disabled:t.disabled}:{}})),p=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!B(c.errors,s)},isDirty:{enumerable:!0,get:()=>!!B(c.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!B(c.touchedFields,s)},isValidating:{enumerable:!0,get:()=>!!B(c.validatingFields,s)},error:{enumerable:!0,get:()=>B(c.errors,s)}}),[c,s]),f=Se.useMemo(()=>({name:s,value:l,...Rt(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h=>d.current.onChange({target:{value:su(h),name:s},type:ya.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:B(a._formValues,s),name:s},type:ya.BLUR}),ref:h=>{const b=B(a._fields,s);b&&h&&(b._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:g=>h.setCustomValidity(g),reportValidity:()=>h.reportValidity()})}}),[s,a._formValues,n,c.disabled,l,a._fields]);return Se.useEffect(()=>{const h=a._options.shouldUnregister||i,b=(g,m)=>{const x=B(a._fields,g);x&&x._f&&(x._f.mount=m)};if(b(s,!0),h){const g=yt(B(a._options.defaultValues,s));ke(a._defaultValues,s,g),He(B(a._formValues,s))&&ke(a._formValues,s,g)}return!o&&a.register(s),()=>{(o?h&&!a._state.action:h)?a.unregister(s):b(s,!1)}},[s,a,o,i]),Se.useEffect(()=>{a._updateDisabledField({disabled:n,fields:a._fields,name:s})},[n,s,a]),Se.useMemo(()=>({field:f,formState:c,fieldState:p}),[f,c,p])}const qv=t=>t.render(Bv(t));var du=(t,e,s,n,a)=>e?{...s[t],types:{...s[t]&&s[t].types?s[t].types:{},[n]:a||!0}}:{},bl=t=>({isOnSubmit:!t||t===Bt.onSubmit,isOnBlur:t===Bt.onBlur,isOnChange:t===Bt.onChange,isOnAll:t===Bt.all,isOnTouch:t===Bt.onTouched}),wl=(t,e,s)=>!s&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const fn=(t,e,s,n)=>{for(const a of s||Object.keys(t)){const i=B(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(fn(l,e))break}else if(Ze(l)&&fn(l,e))break}}};var Hv=(t,e,s)=>{const n=pn(B(t,s));return ke(n,"root",e[s]),ke(t,s,n),t},Ao=t=>t.type==="file",rs=t=>typeof t=="function",ba=t=>{if(!ko)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Xn=t=>ns(t),To=t=>t.type==="radio",wa=t=>t instanceof RegExp;const jl={value:!1,isValid:!1},_l={value:!0,isValid:!0};var uu=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!He(t[0].attributes.value)?He(t[0].value)||t[0].value===""?_l:{value:t[0].value,isValid:!0}:_l:jl}return jl};const Sl={isValid:!1,value:null};var pu=t=>Array.isArray(t)?t.reduce((e,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:e,Sl):Sl;function Nl(t,e,s="validate"){if(Xn(t)||Array.isArray(t)&&t.every(Xn)||Rt(t)&&!t)return{type:s,message:Xn(t)?t:"",ref:e}}var Sr=t=>Ze(t)&&!wa(t)?t:{value:t,message:""},kl=async(t,e,s,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:p,min:f,max:h,pattern:b,validate:g,name:m,valueAsNumber:x,mount:w}=t._f,y=B(s,m);if(!w||e.has(m))return{};const j=l?l[0]:o,R=N=>{a&&j.reportValidity&&(j.setCustomValidity(Rt(N)?"":N||""),j.reportValidity())},S={},P=To(o),D=Vn(o),V=P||D,H=(x||Ao(o))&&He(o.value)&&He(y)||ba(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,ee=du.bind(null,m,n,S),M=(N,Z,C,se=ps.maxLength,oe=ps.minLength)=>{const xe=N?Z:C;S[m]={type:N?se:oe,message:xe,ref:o,...ee(N?se:oe,xe)}};if(i?!Array.isArray(y)||!y.length:c&&(!V&&(H||ht(y))||Rt(y)&&!y||D&&!uu(l).isValid||P&&!pu(l).isValid)){const{value:N,message:Z}=Xn(c)?{value:!!c,message:c}:Sr(c);if(N&&(S[m]={type:ps.required,message:Z,ref:j,...ee(ps.required,Z)},!n))return R(Z),S}if(!H&&(!ht(f)||!ht(h))){let N,Z;const C=Sr(h),se=Sr(f);if(!ht(y)&&!isNaN(y)){const oe=o.valueAsNumber||y&&+y;ht(C.value)||(N=oe>C.value),ht(se.value)||(Z=oe<se.value)}else{const oe=o.valueAsDate||new Date(y),xe=at=>new Date(new Date().toDateString()+" "+at),Re=o.type=="time",ge=o.type=="week";ns(C.value)&&y&&(N=Re?xe(y)>xe(C.value):ge?y>C.value:oe>new Date(C.value)),ns(se.value)&&y&&(Z=Re?xe(y)<xe(se.value):ge?y<se.value:oe<new Date(se.value))}if((N||Z)&&(M(!!N,C.message,se.message,ps.max,ps.min),!n))return R(S[m].message),S}if((d||p)&&!H&&(ns(y)||i&&Array.isArray(y))){const N=Sr(d),Z=Sr(p),C=!ht(N.value)&&y.length>+N.value,se=!ht(Z.value)&&y.length<+Z.value;if((C||se)&&(M(C,N.message,Z.message),!n))return R(S[m].message),S}if(b&&!H&&ns(y)){const{value:N,message:Z}=Sr(b);if(wa(N)&&!y.match(N)&&(S[m]={type:ps.pattern,message:Z,ref:o,...ee(ps.pattern,Z)},!n))return R(Z),S}if(g){if(rs(g)){const N=await g(y,s),Z=Nl(N,j);if(Z&&(S[m]={...Z,...ee(ps.validate,Z.message)},!n))return R(Z.message),S}else if(Ze(g)){let N={};for(const Z in g){if(!wt(N)&&!n)break;const C=Nl(await g[Z](y,s),j,Z);C&&(N={...C,...ee(Z,C.message)},R(C.message),n&&(S[m]=N))}if(!wt(N)&&(S[m]={ref:j,...N},!n))return S}}return R(!0),S};function Wv(t,e){const s=e.slice(0,-1).length;let n=0;for(;n<s;)t=He(t)?n++:t[e[n++]];return t}function Zv(t){for(const e in t)if(t.hasOwnProperty(e)&&!He(t[e]))return!1;return!0}function Qe(t,e){const s=Array.isArray(e)?e:Co(e)?[e]:nu(e),n=s.length===1?t:Wv(t,s),a=s.length-1,i=s[a];return n&&delete n[i],a!==0&&(Ze(n)&&wt(n)||Array.isArray(n)&&Zv(n))&&Qe(t,s.slice(0,-1)),t}var pi=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},Li=t=>ht(t)||!tu(t);function Cs(t,e){if(Li(t)||Li(e))return t===e;if(Js(t)&&Js(e))return t.getTime()===e.getTime();const s=Object.keys(t),n=Object.keys(e);if(s.length!==n.length)return!1;for(const a of s){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if(Js(i)&&Js(o)||Ze(i)&&Ze(o)||Array.isArray(i)&&Array.isArray(o)?!Cs(i,o):i!==o)return!1}}return!0}var fu=t=>t.type==="select-multiple",Gv=t=>To(t)||Vn(t),fi=t=>ba(t)&&t.isConnected,mu=t=>{for(const e in t)if(rs(t[e]))return!0;return!1};function ja(t,e={}){const s=Array.isArray(t);if(Ze(t)||s)for(const n in t)Array.isArray(t[n])||Ze(t[n])&&!mu(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ja(t[n],e[n])):ht(t[n])||(e[n]=!0);return e}function hu(t,e,s){const n=Array.isArray(t);if(Ze(t)||n)for(const a in t)Array.isArray(t[a])||Ze(t[a])&&!mu(t[a])?He(e)||Li(s[a])?s[a]=Array.isArray(t[a])?ja(t[a],[]):{...ja(t[a])}:hu(t[a],ht(e)?{}:e[a],s[a]):s[a]=!Cs(t[a],e[a]);return s}var sn=(t,e)=>hu(t,e,ja(e)),xu=(t,{valueAsNumber:e,valueAsDate:s,setValueAs:n})=>He(t)?t:e?t===""?NaN:t&&+t:s&&ns(t)?new Date(t):n?n(t):t;function mi(t){const e=t.ref;return Ao(e)?e.files:To(e)?pu(t.refs).value:fu(e)?[...e.selectedOptions].map(({value:s})=>s):Vn(e)?uu(t.refs).value:xu(He(e.value)?t.ref.value:e.value,t)}var Kv=(t,e,s,n)=>{const a={};for(const i of t){const o=B(e,i);o&&ke(a,i,o._f)}return{criteriaMode:s,names:[...t],fields:a,shouldUseNativeValidation:n}},rn=t=>He(t)?t:wa(t)?t.source:Ze(t)?wa(t.value)?t.value.source:t.value:t;const Cl="AsyncFunction";var Qv=t=>!!t&&!!t.validate&&!!(rs(t.validate)&&t.validate.constructor.name===Cl||Ze(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Cl)),Yv=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function El(t,e,s){const n=B(t,s);if(n||Co(s))return{error:n,name:s};const a=s.split(".");for(;a.length;){const i=a.join("."),o=B(e,i),l=B(t,i);if(o&&!Array.isArray(o)&&s!==i)return{name:s};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:s}}var Jv=(t,e,s,n,a)=>a.isOnAll?!1:!s&&a.isOnTouch?!(e||t):(s?n.isOnBlur:a.isOnBlur)?!t:(s?n.isOnChange:a.isOnChange)?t:!0,Xv=(t,e)=>!Za(B(t,e)).length&&Qe(t,e);const ey={mode:Bt.onSubmit,reValidateMode:Bt.onChange,shouldFocusError:!0};function ty(t={}){let e={...ey,...t},s={submitCount:0,isDirty:!1,isLoading:rs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},a=Ze(e.defaultValues)||Ze(e.values)?yt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:yt(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:pi(),array:pi(),state:pi()},h=bl(e.mode),b=bl(e.reValidateMode),g=e.criteriaMode===Bt.all,m=v=>_=>{clearTimeout(d),d=setTimeout(v,_)},x=async v=>{if(!e.disabled&&(p.isValid||v)){const _=e.resolver?wt((await V()).errors):await ee(n,!0);_!==s.isValid&&f.state.next({isValid:_})}},w=(v,_)=>{!e.disabled&&(p.isValidating||p.validatingFields)&&((v||Array.from(l.mount)).forEach(A=>{A&&(_?ke(s.validatingFields,A,_):Qe(s.validatingFields,A))}),f.state.next({validatingFields:s.validatingFields,isValidating:!wt(s.validatingFields)}))},y=(v,_=[],A,K,W=!0,$=!0)=>{if(K&&A&&!e.disabled){if(o.action=!0,$&&Array.isArray(B(n,v))){const T=A(B(n,v),K.argA,K.argB);W&&ke(n,v,T)}if($&&Array.isArray(B(s.errors,v))){const T=A(B(s.errors,v),K.argA,K.argB);W&&ke(s.errors,v,T),Xv(s.errors,v)}if(p.touchedFields&&$&&Array.isArray(B(s.touchedFields,v))){const T=A(B(s.touchedFields,v),K.argA,K.argB);W&&ke(s.touchedFields,v,T)}p.dirtyFields&&(s.dirtyFields=sn(a,i)),f.state.next({name:v,isDirty:N(v,_),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else ke(i,v,_)},j=(v,_)=>{ke(s.errors,v,_),f.state.next({errors:s.errors})},R=v=>{s.errors=v,f.state.next({errors:s.errors,isValid:!1})},S=(v,_,A,K)=>{const W=B(n,v);if(W){const $=B(i,v,He(A)?B(a,v):A);He($)||K&&K.defaultChecked||_?ke(i,v,_?$:mi(W._f)):se(v,$),o.mount&&x()}},P=(v,_,A,K,W)=>{let $=!1,T=!1;const z={name:v};if(!e.disabled){const fe=!!(B(n,v)&&B(n,v)._f&&B(n,v)._f.disabled);if(!A||K){p.isDirty&&(T=s.isDirty,s.isDirty=z.isDirty=N(),$=T!==z.isDirty);const me=fe||Cs(B(a,v),_);T=!!(!fe&&B(s.dirtyFields,v)),me||fe?Qe(s.dirtyFields,v):ke(s.dirtyFields,v,!0),z.dirtyFields=s.dirtyFields,$=$||p.dirtyFields&&T!==!me}if(A){const me=B(s.touchedFields,v);me||(ke(s.touchedFields,v,A),z.touchedFields=s.touchedFields,$=$||p.touchedFields&&me!==A)}$&&W&&f.state.next(z)}return $?z:{}},D=(v,_,A,K)=>{const W=B(s.errors,v),$=p.isValid&&Rt(_)&&s.isValid!==_;if(e.delayError&&A?(c=m(()=>j(v,A)),c(e.delayError)):(clearTimeout(d),c=null,A?ke(s.errors,v,A):Qe(s.errors,v)),(A?!Cs(W,A):W)||!wt(K)||$){const T={...K,...$&&Rt(_)?{isValid:_}:{},errors:s.errors,name:v};s={...s,...T},f.state.next(T)}},V=async v=>{w(v,!0);const _=await e.resolver(i,e.context,Kv(v||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return w(v),_},H=async v=>{const{errors:_}=await V(v);if(v)for(const A of v){const K=B(_,A);K?ke(s.errors,A,K):Qe(s.errors,A)}else s.errors=_;return _},ee=async(v,_,A={valid:!0})=>{for(const K in v){const W=v[K];if(W){const{_f:$,...T}=W;if($){const z=l.array.has($.name),fe=W._f&&Qv(W._f);fe&&p.validatingFields&&w([K],!0);const me=await kl(W,l.disabled,i,g,e.shouldUseNativeValidation&&!_,z);if(fe&&p.validatingFields&&w([K]),me[$.name]&&(A.valid=!1,_))break;!_&&(B(me,$.name)?z?Hv(s.errors,me,$.name):ke(s.errors,$.name,me[$.name]):Qe(s.errors,$.name))}!wt(T)&&await ee(T,_,A)}}return A.valid},M=()=>{for(const v of l.unMount){const _=B(n,v);_&&(_._f.refs?_._f.refs.every(A=>!fi(A)):!fi(_._f.ref))&&Y(v)}l.unMount=new Set},N=(v,_)=>!e.disabled&&(v&&_&&ke(i,v,_),!Cs(Me(),a)),Z=(v,_,A)=>cu(v,l,{...o.mount?i:He(_)?a:ns(v)?{[v]:_}:_},A,_),C=v=>Za(B(o.mount?i:a,v,e.shouldUnregister?B(a,v,[]):[])),se=(v,_,A={})=>{const K=B(n,v);let W=_;if(K){const $=K._f;$&&(!$.disabled&&ke(i,v,xu(_,$)),W=ba($.ref)&&ht(_)?"":_,fu($.ref)?[...$.ref.options].forEach(T=>T.selected=W.includes(T.value)):$.refs?Vn($.ref)?$.refs.length>1?$.refs.forEach(T=>(!T.defaultChecked||!T.disabled)&&(T.checked=Array.isArray(W)?!!W.find(z=>z===T.value):W===T.value)):$.refs[0]&&($.refs[0].checked=!!W):$.refs.forEach(T=>T.checked=T.value===W):Ao($.ref)?$.ref.value="":($.ref.value=W,$.ref.type||f.values.next({name:v,values:{...i}})))}(A.shouldDirty||A.shouldTouch)&&P(v,W,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&at(v)},oe=(v,_,A)=>{for(const K in _){const W=_[K],$=`${v}.${K}`,T=B(n,$);(l.array.has(v)||Ze(W)||T&&!T._f)&&!Js(W)?oe($,W,A):se($,W,A)}},xe=(v,_,A={})=>{const K=B(n,v),W=l.array.has(v),$=yt(_);ke(i,v,$),W?(f.array.next({name:v,values:{...i}}),(p.isDirty||p.dirtyFields)&&A.shouldDirty&&f.state.next({name:v,dirtyFields:sn(a,i),isDirty:N(v,$)})):K&&!K._f&&!ht($)?oe(v,$,A):se(v,$,A),wl(v,l)&&f.state.next({...s}),f.values.next({name:o.mount?v:void 0,values:{...i}})},Re=async v=>{o.mount=!0;const _=v.target;let A=_.name,K=!0;const W=B(n,A),$=()=>_.type?mi(W._f):su(v),T=z=>{K=Number.isNaN(z)||Js(z)&&isNaN(z.getTime())||Cs(z,B(i,A,z))};if(W){let z,fe;const me=$(),ze=v.type===ya.BLUR||v.type===ya.FOCUS_OUT,Zs=!Yv(W._f)&&!e.resolver&&!B(s.errors,A)&&!W._f.deps||Jv(ze,B(s.touchedFields,A),s.isSubmitted,b,h),Yt=wl(A,l,ze);ke(i,A,me),ze?(W._f.onBlur&&W._f.onBlur(v),c&&c(0)):W._f.onChange&&W._f.onChange(v);const Gs=P(A,me,ze,!1),Jr=!wt(Gs)||Yt;if(!ze&&f.values.next({name:A,type:v.type,values:{...i}}),Zs)return p.isValid&&(e.mode==="onBlur"&&ze?x():ze||x()),Jr&&f.state.next({name:A,...Yt?{}:Gs});if(!ze&&Yt&&f.state.next({...s}),e.resolver){const{errors:wr}=await V([A]);if(T(me),K){const jr=El(s.errors,n,A),_r=El(wr,n,jr.name||A);z=_r.error,A=_r.name,fe=wt(wr)}}else w([A],!0),z=(await kl(W,l.disabled,i,g,e.shouldUseNativeValidation))[A],w([A]),T(me),K&&(z?fe=!1:p.isValid&&(fe=await ee(n,!0)));K&&(W._f.deps&&at(W._f.deps),D(A,fe,z,Gs))}},ge=(v,_)=>{if(B(s.errors,_)&&v.focus)return v.focus(),1},at=async(v,_={})=>{let A,K;const W=pn(v);if(e.resolver){const $=await H(He(v)?v:W);A=wt($),K=v?!W.some(T=>B($,T)):A}else v?(K=(await Promise.all(W.map(async $=>{const T=B(n,$);return await ee(T&&T._f?{[$]:T}:T)}))).every(Boolean),!(!K&&!s.isValid)&&x()):K=A=await ee(n);return f.state.next({...!ns(v)||p.isValid&&A!==s.isValid?{}:{name:v},...e.resolver||!v?{isValid:A}:{},errors:s.errors}),_.shouldFocus&&!K&&fn(n,ge,v?W:l.mount),K},Me=v=>{const _={...o.mount?i:a};return He(v)?_:ns(v)?B(_,v):v.map(A=>B(_,A))},St=(v,_)=>({invalid:!!B((_||s).errors,v),isDirty:!!B((_||s).dirtyFields,v),error:B((_||s).errors,v),isValidating:!!B(s.validatingFields,v),isTouched:!!B((_||s).touchedFields,v)}),Qt=v=>{v&&pn(v).forEach(_=>Qe(s.errors,_)),f.state.next({errors:v?s.errors:{}})},et=(v,_,A)=>{const K=(B(n,v,{_f:{}})._f||{}).ref,W=B(s.errors,v)||{},{ref:$,message:T,type:z,...fe}=W;ke(s.errors,v,{...fe,..._,ref:K}),f.state.next({name:v,errors:s.errors,isValid:!1}),A&&A.shouldFocus&&K&&K.focus&&K.focus()},F=(v,_)=>rs(v)?f.values.subscribe({next:A=>v(Z(void 0,_),A)}):Z(v,_,!0),Y=(v,_={})=>{for(const A of v?pn(v):l.mount)l.mount.delete(A),l.array.delete(A),_.keepValue||(Qe(n,A),Qe(i,A)),!_.keepError&&Qe(s.errors,A),!_.keepDirty&&Qe(s.dirtyFields,A),!_.keepTouched&&Qe(s.touchedFields,A),!_.keepIsValidating&&Qe(s.validatingFields,A),!e.shouldUnregister&&!_.keepDefaultValue&&Qe(a,A);f.values.next({values:{...i}}),f.state.next({...s,..._.keepDirty?{isDirty:N()}:{}}),!_.keepIsValid&&x()},O=({disabled:v,name:_,field:A,fields:K})=>{(Rt(v)&&o.mount||v||l.disabled.has(_))&&(v?l.disabled.add(_):l.disabled.delete(_),P(_,mi(A?A._f:B(K,_)._f),!1,!1,!0))},U=(v,_={})=>{let A=B(n,v);const K=Rt(_.disabled)||Rt(e.disabled);return ke(n,v,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:v}},name:v,mount:!0,..._}}),l.mount.add(v),A?O({field:A,disabled:Rt(_.disabled)?_.disabled:e.disabled,name:v}):S(v,!0,_.value),{...K?{disabled:_.disabled||e.disabled}:{},...e.progressive?{required:!!_.required,min:rn(_.min),max:rn(_.max),minLength:rn(_.minLength),maxLength:rn(_.maxLength),pattern:rn(_.pattern)}:{},name:v,onChange:Re,onBlur:Re,ref:W=>{if(W){U(v,_),A=B(n,v);const $=He(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,T=Gv($),z=A._f.refs||[];if(T?z.find(fe=>fe===$):$===A._f.ref)return;ke(n,v,{_f:{...A._f,...T?{refs:[...z.filter(fi),$,...Array.isArray(B(a,v))?[{}]:[]],ref:{type:$.type,name:v}}:{ref:$}}}),S(v,!1,void 0,$)}else A=B(n,v,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||_.shouldUnregister)&&!(ru(l.array,v)&&o.action)&&l.unMount.add(v)}}},ie=()=>e.shouldFocusError&&fn(n,ge,l.mount),ue=v=>{Rt(v)&&(f.state.next({disabled:v}),fn(n,(_,A)=>{const K=B(n,A);K&&(_.disabled=K._f.disabled||v,Array.isArray(K._f.refs)&&K._f.refs.forEach(W=>{W.disabled=K._f.disabled||v}))},0,!1))},ve=(v,_)=>async A=>{let K;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let W=yt(i);if(l.disabled.size)for(const $ of l.disabled)ke(W,$,void 0);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:$,values:T}=await V();s.errors=$,W=T}else await ee(n);if(Qe(s.errors,"root"),wt(s.errors)){f.state.next({errors:{}});try{await v(W,A)}catch($){K=$}}else _&&await _({...s.errors},A),ie(),setTimeout(ie);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wt(s.errors)&&!K,submitCount:s.submitCount+1,errors:s.errors}),K)throw K},be=(v,_={})=>{B(n,v)&&(He(_.defaultValue)?xe(v,yt(B(a,v))):(xe(v,_.defaultValue),ke(a,v,yt(_.defaultValue))),_.keepTouched||Qe(s.touchedFields,v),_.keepDirty||(Qe(s.dirtyFields,v),s.isDirty=_.defaultValue?N(v,yt(B(a,v))):N()),_.keepError||(Qe(s.errors,v),p.isValid&&x()),f.state.next({...s}))},Nt=(v,_={})=>{const A=v?yt(v):a,K=yt(A),W=wt(v),$=W?a:K;if(_.keepDefaultValues||(a=A),!_.keepValues){if(_.keepDirtyValues){const T=new Set([...l.mount,...Object.keys(sn(a,i))]);for(const z of Array.from(T))B(s.dirtyFields,z)?ke($,z,B(i,z)):xe(z,B($,z))}else{if(ko&&He(v))for(const T of l.mount){const z=B(n,T);if(z&&z._f){const fe=Array.isArray(z._f.refs)?z._f.refs[0]:z._f.ref;if(ba(fe)){const me=fe.closest("form");if(me){me.reset();break}}}}n={}}i=e.shouldUnregister?_.keepDefaultValues?yt(a):{}:yt($),f.array.next({values:{...$}}),f.values.next({values:{...$}})}l={mount:_.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!_.keepIsValid||!!_.keepDirtyValues,o.watch=!!e.shouldUnregister,f.state.next({submitCount:_.keepSubmitCount?s.submitCount:0,isDirty:W?!1:_.keepDirty?s.isDirty:!!(_.keepDefaultValues&&!Cs(v,a)),isSubmitted:_.keepIsSubmitted?s.isSubmitted:!1,dirtyFields:W?{}:_.keepDirtyValues?_.keepDefaultValues&&i?sn(a,i):s.dirtyFields:_.keepDefaultValues&&v?sn(a,v):_.keepDirty?s.dirtyFields:{},touchedFields:_.keepTouched?s.touchedFields:{},errors:_.keepErrors?s.errors:{},isSubmitSuccessful:_.keepIsSubmitSuccessful?s.isSubmitSuccessful:!1,isSubmitting:!1})},kt=(v,_)=>Nt(rs(v)?v(i):v,_);return{control:{register:U,unregister:Y,getFieldState:St,handleSubmit:ve,setError:et,_executeSchema:V,_getWatch:Z,_getDirty:N,_updateValid:x,_removeUnmounted:M,_updateFieldArray:y,_updateDisabledField:O,_getFieldArray:C,_reset:Nt,_resetDefaultValues:()=>rs(e.defaultValues)&&e.defaultValues().then(v=>{kt(v,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:v=>{s={...s,...v}},_disableForm:ue,_subjects:f,_proxyFormState:p,_setErrors:R,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(v){o=v},get _defaultValues(){return a},get _names(){return l},set _names(v){l=v},get _formState(){return s},set _formState(v){s=v},get _options(){return e},set _options(v){e={...e,...v}}},trigger:at,register:U,handleSubmit:ve,watch:F,setValue:xe,getValues:Me,reset:kt,resetField:be,clearErrors:Qt,unregister:Y,setError:et,setFocus:(v,_={})=>{const A=B(n,v),K=A&&A._f;if(K){const W=K.refs?K.refs[0]:K.ref;W.focus&&(W.focus(),_.shouldSelect&&rs(W.select)&&W.select())}},getFieldState:St}}function _a(t={}){const e=Se.useRef(void 0),s=Se.useRef(void 0),[n,a]=Se.useState({isDirty:!1,isValidating:!1,isLoading:rs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:rs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...ty(t),formState:n});const i=e.current.control;return i._options=t,Eo({subject:i._subjects.state,next:o=>{ou(o,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),Se.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Se.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),Se.useEffect(()=>{t.values&&!Cs(t.values,s.current)?(i._reset(t.values,i._options.resetOptions),s.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Se.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Se.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Se.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),e.current.formState=iu(n,i),e.current}const Al=(t,e,s)=>{if(t&&"reportValidity"in t){const n=B(s,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},gu=(t,e)=>{for(const s in e.fields){const n=e.fields[s];n&&n.ref&&"reportValidity"in n.ref?Al(n.ref,s,t):n.refs&&n.refs.forEach(a=>Al(a,s,t))}},sy=(t,e)=>{e.shouldUseNativeValidation&&gu(t,e);const s={};for(const n in t){const a=B(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(ry(e.names||Object.keys(t),n)){const o=Object.assign({},B(s,n));ke(o,"root",i),ke(s,n,o)}else ke(s,n,i)}return s},ry=(t,e)=>t.some(s=>s.startsWith(e+"."));var ny=function(t,e){for(var s={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!s[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];s[o]={message:l.message,type:l.code}}else s[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(f){return t.push(f)})}),e){var c=s[o].types,d=c&&c[n.code];s[o]=du(o,e,s,a,d?[].concat(d,n.message):n.message)}t.shift()}return s},Sa=function(t,e,s){return s===void 0&&(s={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[s.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(d){return i.shouldUseNativeValidation&&gu({},i),{errors:{},values:s.raw?n:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:sy(ny(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},ay="Label",vu=u.forwardRef((t,e)=>r.jsx(ye.label,{...t,ref:e,onMouseDown:s=>{var a;s.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));vu.displayName=ay;var yu=vu;const iy=$a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=u.forwardRef(({className:t,...e},s)=>r.jsx(yu,{ref:s,className:q(iy(),t),...e}));Ye.displayName=yu.displayName;const Na=zv,bu=u.createContext({}),Ut=({...t})=>r.jsx(bu.Provider,{value:{name:t.name},children:r.jsx(qv,{...t})}),Ka=()=>{const t=u.useContext(bu),e=u.useContext(wu),{getFieldState:s,formState:n}=Ga(),a=s(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},wu=u.createContext({}),Pt=u.forwardRef(({className:t,...e},s)=>{const n=u.useId();return r.jsx(wu.Provider,{value:{id:n},children:r.jsx("div",{ref:s,className:q("space-y-2",t),...e})})});Pt.displayName="FormItem";const Dt=u.forwardRef(({className:t,...e},s)=>{const{error:n,formItemId:a}=Ka();return r.jsx(Ye,{ref:s,className:q(n&&"text-destructive",t),htmlFor:a,...e})});Dt.displayName="FormLabel";const Ot=u.forwardRef(({...t},e)=>{const{error:s,formItemId:n,formDescriptionId:a,formMessageId:i}=Ka();return r.jsx(Yi,{ref:e,id:n,"aria-describedby":s?`${a} ${i}`:`${a}`,"aria-invalid":!!s,...t})});Ot.displayName="FormControl";const mn=u.forwardRef(({className:t,...e},s)=>{const{formDescriptionId:n}=Ka();return r.jsx("p",{ref:s,id:n,className:q("text-[0.8rem] text-muted-foreground",t),...e})});mn.displayName="FormDescription";const Ft=u.forwardRef(({className:t,children:e,...s},n)=>{const{error:a,formMessageId:i}=Ka(),o=a?String((a==null?void 0:a.message)??""):e;return o?r.jsx("p",{ref:n,id:i,className:q("text-[0.8rem] font-medium text-destructive",t),...s,children:o}):null});Ft.displayName="FormMessage";const Je=u.forwardRef(({className:t,type:e,...s},n)=>r.jsx("input",{type:e,className:q("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...s}));Je.displayName="Input";const Ae=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ae.displayName="Card";const De=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("flex flex-col space-y-1.5 p-6",t),...e}));De.displayName="CardHeader";const Oe=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("font-semibold leading-none tracking-tight",t),...e}));Oe.displayName="CardTitle";const We=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("text-sm text-muted-foreground",t),...e}));We.displayName="CardDescription";const Te=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("p-6 pt-0",t),...e}));Te.displayName="CardContent";const xt=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("flex items-center p-6 pt-0",t),...e}));xt.displayName="CardFooter";const oy=$a("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 dark:text-green-500 dark:border-green-500/30 bg-green-50 dark:bg-green-950/30 [&>svg]:text-green-500",warning:"border-yellow-500/50 text-yellow-700 dark:text-yellow-500 dark:border-yellow-500/30 bg-yellow-50 dark:bg-yellow-950/30 [&>svg]:text-yellow-500"}},defaultVariants:{variant:"default"}}),Fe=u.forwardRef(({className:t,variant:e,...s},n)=>r.jsx("div",{ref:n,role:"alert",className:q(oy({variant:e}),t),...s}));Fe.displayName="Alert";const tt=u.forwardRef(({className:t,...e},s)=>r.jsx("h5",{ref:s,className:q("mb-1 font-medium leading-none tracking-tight",t),...e}));tt.displayName="AlertTitle";const Ie=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{ref:s,className:q("text-sm [&_p]:leading-relaxed",t),...e}));Ie.displayName="AlertDescription";const ly=ui.object({username:ui.string().min(1,"Username is required"),password:ui.string().min(1,"Password is required")}),cy=()=>{const{login:t}=br(),e=_t(),[s,n]=u.useState(null),[a,i]=u.useState(!1),o=_a({resolver:Sa(ly),defaultValues:{username:"",password:""}}),l=async c=>{var d,p;n(null),i(!0);try{await t(c.username,c.password),e("/")}catch(f){n(((p=(d=f.response)==null?void 0:d.data)==null?void 0:p.error)||"Login failed. Please check your credentials.")}finally{i(!1)}};return r.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:r.jsxs(Ae,{className:"w-full max-w-md",children:[r.jsxs(De,{className:"space-y-1 text-center",children:[r.jsx(Oe,{className:"text-2xl",children:"Document Processing System"}),r.jsx(We,{children:"Enter your credentials to sign in to your account"})]}),r.jsxs(Te,{children:[s&&r.jsx(Fe,{variant:"destructive",className:"mb-4",children:r.jsx(Ie,{children:s})}),r.jsx(Na,{...o,children:r.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[r.jsx(Ut,{control:o.control,name:"username",render:({field:c})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Username"}),r.jsx(Ot,{children:r.jsx(Je,{placeholder:"Enter your username",...c})}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:o.control,name:"password",render:({field:c})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"Enter your password",...c})}),r.jsx(Ft,{})]})}),r.jsx(L,{type:"submit",className:"w-full",disabled:a,children:a?"Signing in...":"Sign In"})]})})]}),r.jsx(xt,{className:"flex justify-center",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:["© ",new Date().getFullYear()," DocTypeGen | Digital Cabinet. All rights reserved."]})})]})})};var Ro="Tabs",[dy,Tj]=cs(Ro,[Pa]),ju=Pa(),[uy,Po]=dy(Ro),_u=u.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...d}=t,p=Ra(l),[f,h]=Vr({prop:n,onChange:a,defaultProp:i});return r.jsx(uy,{scope:s,baseId:Da(),value:f,onValueChange:h,orientation:o,dir:p,activationMode:c,children:r.jsx(ye.div,{dir:p,"data-orientation":o,...d,ref:e})})});_u.displayName=Ro;var Su="TabsList",Nu=u.forwardRef((t,e)=>{const{__scopeTabs:s,loop:n=!0,...a}=t,i=Po(Su,s),o=ju(s);return r.jsx(vc,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:r.jsx(ye.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});Nu.displayName=Su;var ku="TabsTrigger",Cu=u.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,disabled:a=!1,...i}=t,o=Po(ku,s),l=ju(s),c=Tu(o.baseId,n),d=Ru(o.baseId,n),p=n===o.value;return r.jsx(yc,{asChild:!0,...l,focusable:!a,active:p,children:r.jsx(ye.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:we(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:we(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:we(t.onFocus,()=>{const f=o.activationMode!=="manual";!p&&!a&&f&&o.onValueChange(n)})})})});Cu.displayName=ku;var Eu="TabsContent",Au=u.forwardRef((t,e)=>{const{__scopeTabs:s,value:n,forceMount:a,children:i,...o}=t,l=Po(Eu,s),c=Tu(l.baseId,n),d=Ru(l.baseId,n),p=n===l.value,f=u.useRef(p);return u.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),r.jsx(vr,{present:a||p,children:({present:h})=>r.jsx(ye.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});Au.displayName=Eu;function Tu(t,e){return`${t}-trigger-${e}`}function Ru(t,e){return`${t}-content-${e}`}var py=_u,Pu=Nu,Du=Cu,Ou=Au;const zn=py,Qr=u.forwardRef(({className:t,...e},s)=>r.jsx(Pu,{ref:s,className:q("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Qr.displayName=Pu.displayName;const ct=u.forwardRef(({className:t,...e},s)=>r.jsx(Du,{ref:s,className:q("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));ct.displayName=Du.displayName;const dt=u.forwardRef(({className:t,...e},s)=>r.jsx(Ou,{ref:s,className:q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));dt.displayName=Ou.displayName;const vt=({size:t="md",className:e})=>{const s={sm:"h-4 w-4 border-2",md:"h-8 w-8 border-3",lg:"h-12 w-12 border-4"};return r.jsx("div",{className:q("inline-block animate-spin rounded-full border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]",s[t],"text-primary",e),role:"status",children:r.jsx("span",{className:"absolute -m-px h-px w-px overflow-hidden whitespace-nowrap border-0 p-0 clip-[rect(0,0,0,0)]",children:"Loading..."})})},Fs={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let hi=0;function Fu(){return hi=(hi+1)%Number.MAX_SAFE_INTEGER,hi.toString()}const nn=new Map,fy=(t,e)=>{switch(e.type){case Fs.ADD_TOAST:return{...t,toasts:[...t.toasts,{...e.toast,id:Fu()}].slice(-5)};case Fs.UPDATE_TOAST:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case Fs.DISMISS_TOAST:{const{toastId:s}=e;if(s)nn.has(s)&&(clearTimeout(nn.get(s)),nn.delete(s));else for(const[n,a]of Array.from(nn.entries()))clearTimeout(a),nn.delete(n);return{...t,toasts:t.toasts.map(n=>n.id===s||s===void 0?{...n,open:!1}:n)}}case Fs.REMOVE_TOAST:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)}}},ea=[];let ta={toasts:[]};function sa(t){ta=fy(ta,t),ea.forEach(e=>{e(ta)})}function qe({...t}){const e=Fu(),s=a=>sa({type:Fs.UPDATE_TOAST,toast:{...a,id:e}}),n=()=>sa({type:Fs.DISMISS_TOAST,toastId:e});return sa({type:Fs.ADD_TOAST,toast:{...t,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:s}}function my(){const[t,e]=u.useState(ta);return u.useEffect(()=>(ea.push(e),()=>{const s=ea.indexOf(e);s>-1&&ea.splice(s,1)}),[t]),{...t,toast:qe,dismiss:s=>sa({type:Fs.DISMISS_TOAST,toastId:s})}}const hy=({message:t,helperKey:e,className:s})=>{const{toast:n}=my(),a=async()=>{if(e)try{const i=await Ne.get(`/helper/${e}`),o=i.data;i.status===200?n({title:o.title,description:r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"mb-2",children:o.description}),r.jsx("p",{className:"font-semibold mb-2",children:"Solution:"}),r.jsx("p",{className:"mb-2",children:o.solution}),o.command&&r.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-2 rounded-md mb-2",children:[r.jsx("code",{children:o.command}),o.command_location&&r.jsxs("p",{className:"text-xs mt-1",children:["Run in: ",o.command_location]})]})]}),duration:1e4}):n({title:"Error",description:"Failed to get help information",variant:"destructive"})}catch{n({title:"Error",description:"Could not connect to the helper service",variant:"destructive"})}};return r.jsx(Fe,{variant:"destructive",className:s,children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx(Ie,{children:t}),e&&r.jsx(L,{variant:"ghost",size:"sm",onClick:a,className:"p-0 h-8 w-8",title:"Get help",children:r.jsx(Gf,{className:"h-4 w-4"})})]})})},xy=$a("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-500/80",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-500/80",info:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80"}},defaultVariants:{variant:"default"}});function Xe({className:t,variant:e,...s}){return r.jsx("div",{className:q(xy({variant:e}),t),...s})}const gy=()=>{const{user:t}=br();_t();const[e,s]=u.useState([]),[n,a]=u.useState(null),[i,o]=u.useState(!0),[l,c]=u.useState(null);u.useEffect(()=>{(async()=>{o(!0),c(null);try{const b=await Ke.getStatus();a(b);const g=await cr.getLogs();s(g)}catch(b){console.error("Error fetching dashboard data:",b),c(b.message||"Failed to load dashboard data. Please try again.")}finally{o(!1)}})()},[]);const d=()=>n&&n.active_session&&n.session_hash?`/app/workflow?session=${n.session_hash}`:"/app/workflow/upload",p=[{title:"Upload Document",description:"Import a CSV or Excel file to start processing",icon:xc,route:"/app/workflow/upload",footer:"Start by uploading a file"},{title:"Processing Workflow",description:n!=null&&n.active_session?"Continue your active session":"Validate, map, and generate documents",icon:gc,getRoute:d,footer:n!=null&&n.active_session?"Continue processing":"Start a new workflow"},{title:"View Sessions",description:"Browse all processing sessions",icon:vi,route:"/app/sessions",footer:"Manage existing sessions"},{title:"Logs & Reports",description:"View logs and generated reports",icon:Zt,route:"/app/logs",footer:"Access logs and reports"}],f=e.sort((h,b)=>new Date(b.date||0).getTime()-new Date(h.date||0).getTime()).slice(0,5);return i?r.jsx("div",{className:"flex h-[calc(100vh-8rem)] items-center justify-center",children:r.jsx(vt,{size:"lg"})}):r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),r.jsx(Ks,{to:"/app/workflow/upload",children:r.jsxs(L,{children:[r.jsx(ir,{className:"mr-2 h-4 w-4"}),"New Session"]})})]}),l&&r.jsx(hy,{message:l,helperKey:"failedDashboardData"}),n&&n.active_session&&r.jsxs(Ae,{className:"border-primary",children:[" ",r.jsxs(De,{children:[r.jsx(Oe,{children:"Active Session"}),r.jsx(We,{children:"You have an active processing session."})]}),r.jsxs(Te,{children:[r.jsxs("p",{className:"text-sm",children:["Session Hash: ",r.jsx("span",{className:"font-mono",children:n.session_hash})]}),n.last_operation&&r.jsxs("p",{className:"text-sm mt-1",children:["Last Operation: ",r.jsx(Xe,{variant:"outline",children:n.last_operation})]}),n.document_type&&r.jsxs("p",{className:"text-sm mt-1",children:["Document Type: ",r.jsx(Xe,{variant:"secondary",children:n.document_type})]})]}),r.jsx(xt,{children:r.jsx(Ks,{to:`/app/workflow?session=${n.session_hash}`,children:r.jsxs(L,{className:"w-full sm:w-auto",children:["Continue Session",r.jsx(Ji,{className:"ml-2 h-4 w-4"})]})})})]}),r.jsxs(zn,{defaultValue:"overview",children:[r.jsxs(Qr,{children:[r.jsx(ct,{value:"overview",children:"Overview"}),r.jsx(ct,{value:"recent",children:"Recent Sessions"})]}),r.jsxs(dt,{value:"overview",className:"space-y-4",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:p.map(h=>{const b=typeof h.getRoute=="function"?h.getRoute():h.route;return r.jsxs(Ae,{className:"overflow-hidden transition-shadow hover:shadow-md",children:[r.jsxs(De,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(Oe,{className:"text-lg font-medium",children:h.title}),r.jsx(h.icon,{className:"h-4 w-4 text-muted-foreground"})]}),r.jsx(Te,{children:r.jsxs("p",{className:"text-sm text-muted-foreground h-10",children:[" ",h.description]})}),r.jsx(xt,{className:"pt-0",children:r.jsxs(Ks,{to:b||"#",className:"w-full",children:[" ",r.jsx(L,{variant:"outline",size:"sm",className:"w-full",disabled:h.title==="Processing Workflow"&&b==="/app/workflow/upload"&&!(n!=null&&n.active_session)&&!!n,children:h.footer})]})})]},h.title)})}),(t==null?void 0:t.role)==="admin"&&r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Admin Controls"}),r.jsx(We,{children:"Administrative functions and settings"})]}),r.jsxs(Te,{className:"grid gap-4 md:grid-cols-2",children:[r.jsx(Ks,{to:"/app/users",className:"w-full",children:r.jsx(L,{variant:"outline",className:"w-full",children:"User Management"})}),r.jsx(Ks,{to:"/app/settings",className:"w-full",children:r.jsx(L,{variant:"outline",className:"w-full",children:"System Settings"})})]})]})]}),r.jsx(dt,{value:"recent",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Recent Sessions"}),r.jsx(We,{children:"Your recent document processing sessions"})]}),r.jsx(Te,{children:f.length>0?r.jsx("div",{className:"space-y-4",children:f.map(h=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4 hover:bg-muted/50 transition-colors",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:h.name||`Session ${h.hash.substring(0,8)}`}),r.jsx("p",{className:"text-sm text-muted-foreground",children:h.date?new Date(h.date).toLocaleString():"Date unknown"}),h.last_operation&&r.jsx(Xe,{variant:"secondary",className:"mt-1",children:h.last_operation})]}),r.jsx(Ks,{to:`/app/sessions/${h.hash}`,children:r.jsx(L,{variant:"ghost",children:"View Details"})})]},h.hash))}):r.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No recent sessions found. Start by uploading a new file."})}),r.jsx(xt,{children:r.jsx(Ks,{to:"/app/sessions",className:"w-full",children:r.jsx(L,{variant:"outline",className:"w-full",children:"View All Sessions"})})})]})})]})]})},rt=u.forwardRef(({className:t,...e},s)=>r.jsx("div",{className:"relative w-full overflow-auto",children:r.jsx("table",{ref:s,className:q("w-full caption-bottom text-sm",t),...e})}));rt.displayName="Table";const ut=u.forwardRef(({className:t,...e},s)=>r.jsx("thead",{ref:s,className:q("[&_tr]:border-b",t),...e}));ut.displayName="TableHeader";const nt=u.forwardRef(({className:t,...e},s)=>r.jsx("tbody",{ref:s,className:q("[&_tr:last-child]:border-0",t),...e}));nt.displayName="TableBody";const vy=u.forwardRef(({className:t,...e},s)=>r.jsx("tfoot",{ref:s,className:q("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));vy.displayName="TableFooter";const _e=u.forwardRef(({className:t,...e},s)=>r.jsx("tr",{ref:s,className:q("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));_e.displayName="TableRow";const X=u.forwardRef(({className:t,...e},s)=>r.jsx("th",{ref:s,className:q("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));X.displayName="TableHead";const J=u.forwardRef(({className:t,...e},s)=>r.jsx("td",{ref:s,className:q("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));J.displayName="TableCell";const yy=u.forwardRef(({className:t,...e},s)=>r.jsx("caption",{ref:s,className:q("mt-4 text-sm text-muted-foreground",t),...e}));yy.displayName="TableCaption";const by=()=>{const t=_t(),[e,s]=u.useState([]),[n,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,p]=u.useState("");u.useEffect(()=>{f()},[]),u.useEffect(()=>{if(d.trim()==="")a(e);else{const m=d.toLowerCase(),x=e.filter(w=>w.name&&w.name.toLowerCase().includes(m)||w.hash.toLowerCase().includes(m));a(x)}},[d,e]);const f=async()=>{o(!0),c(null);try{const m=await cr.getLogs();s(m),a(m)}catch(m){console.error("Error fetching logs:",m),c("Failed to load logs. Please try again.")}finally{o(!1)}},h=m=>{p(m.target.value)},b=m=>{t(`/app/logs/${m.hash}`)},g=m=>{try{if(!m||isNaN(Date.parse(m)))return"Invalid date";const x=new Date(m);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(x)}catch(x){return console.error("Error formatting date:",x),"Invalid date"}};return i?r.jsx("div",{className:"flex h-[calc(100vh-8rem)] items-center justify-center",children:r.jsx(vt,{size:"lg"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Logs"})}),l&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:l})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Je,{placeholder:"Search logs...",value:d,onChange:h,className:"w-full md:w-[300px]"})]}),r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"All Logs"}),r.jsx(We,{children:"View logs for all document processing sessions"})]}),r.jsx(Te,{children:n.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Name"}),r.jsx(X,{children:"Hash"}),r.jsx(X,{children:"Date"}),r.jsx(X,{children:"Files"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:n.map(m=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:m.name||`Session ${m.hash.substring(0,8)}`}),r.jsxs(J,{className:"font-mono text-xs",children:[m.hash.substring(0,12),"..."]}),r.jsx(J,{children:g(m.date)}),r.jsx(J,{children:r.jsx(Xe,{variant:"outline",children:m.file_count})}),r.jsx(J,{className:"text-right",children:r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>b(m),children:[r.jsx(Zt,{className:"mr-2 h-4 w-4"}),"View"]})})]},m.hash))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"font-medium text-lg mb-1",children:"No logs found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:d?"No logs match your search":"No processing sessions have been completed yet"}),d?r.jsx(L,{variant:"outline",onClick:()=>p(""),children:"Clear Search"}):r.jsx(L,{onClick:()=>t("/app/workflow/upload"),children:"Start New Session"})]})})]})]})},Tl=()=>{var x,w,y,j,R,S;const{id:t}=gm(),e=_t(),[s,n]=u.useState(null),[a,i]=u.useState(!0),[o,l]=u.useState(null),[c,d]=u.useState("html");u.useEffect(()=>{t&&p(t)},[t]);const p=async P=>{i(!0),l(null);try{const D=await cr.getLogInfo(P);n(D)}catch(D){console.error("Error fetching log details:",D),l("Failed to load log details. Please try again.")}finally{i(!1)}},f=()=>{e("/app/logs")},h=(P,D)=>{const V=window.location.origin;let H;P==="log"?H=`${V}/static/${t}/www/${D}`:H=`${V}/static/${t}/${P}/${D}`,window.open(H,"_blank")},b=(P,D)=>{const V=window.location.origin;let H;P==="log"?H=`${V}/static/${t}/www/${D}`:H=`${V}/static/${t}/${P}/${D}`;const ee=document.createElement("a");ee.href=H,ee.download=D,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee)},g=async()=>{var P;try{const D=await cr.activateSession(t);D.success?(e("/app/workflow"),console.log(`Session activated with last operation: ${(P=D.result)==null?void 0:P.last_operation}`)):l(D.error||"Failed to activate session")}catch(D){console.error("Error activating session:",D),l("Failed to activate session. Please try again.")}},m=P=>{try{if(!P||isNaN(Date.parse(P)))return"Invalid date";const D=new Date(P);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(D)}catch(D){return console.error("Error formatting date:",D),"Invalid date"}};return a?r.jsx("div",{className:"flex h-[calc(100vh-8rem)] items-center justify-center",children:r.jsx(vt,{size:"lg"})}):o||!s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs(L,{variant:"outline",onClick:f,children:[r.jsx(yi,{className:"mr-2 h-4 w-4"}),"Back to Logs"]}),r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:o||"Log not found"})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(L,{variant:"outline",onClick:f,children:[r.jsx(yi,{className:"mr-2 h-4 w-4"}),"Back to Logs"]}),r.jsxs(L,{onClick:g,children:[r.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Continue Session"]})]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s.name||`Session ${s.hash.substring(0,8)}`}),r.jsxs("p",{className:"text-muted-foreground",children:[m(s.date)," • Hash: ",r.jsxs("span",{className:"font-mono",children:[s.hash.substring(0,16),"..."]})]})]}),r.jsxs(zn,{defaultValue:c,onValueChange:d,children:[r.jsxs(Qr,{children:[r.jsxs(ct,{value:"html",children:["HTML Files (",((x=s.html_files)==null?void 0:x.length)||0,")"]}),r.jsxs(ct,{value:"pdf",children:["PDF Files (",((w=s.pdf_files)==null?void 0:w.length)||0,")"]}),r.jsxs(ct,{value:"logs",children:["Log Files (",((y=s.log_files)==null?void 0:y.length)||0,")"]})]}),r.jsx(dt,{value:"html",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"HTML Files"}),r.jsx(We,{children:"Generated HTML documents from this session"})]}),r.jsx(Te,{children:(((j=s.html_files)==null?void 0:j.length)||0)>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"#"}),r.jsx(X,{children:"File Name"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:(s.html_files||[]).map((P,D)=>r.jsxs(_e,{children:[r.jsx(J,{children:D+1}),r.jsx(J,{className:"font-mono text-xs",children:P}),r.jsx(J,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("html",P),children:[r.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>b("html",P),children:[r.jsx(bi,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},D))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(vi,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"font-medium mb-1",children:"No HTML files"}),r.jsx("p",{className:"text-muted-foreground",children:"This session doesn't have any HTML files."})]})})]})}),r.jsx(dt,{value:"pdf",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"PDF Files"}),r.jsx(We,{children:"Generated PDF documents from this session"})]}),r.jsx(Te,{children:(((R=s.pdf_files)==null?void 0:R.length)||0)>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"#"}),r.jsx(X,{children:"File Name"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:(s.pdf_files||[]).map((P,D)=>r.jsxs(_e,{children:[r.jsx(J,{children:D+1}),r.jsx(J,{className:"font-mono text-xs",children:P}),r.jsx(J,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("pdf",P),children:[r.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>b("pdf",P),children:[r.jsx(bi,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},D))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(vi,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"font-medium mb-1",children:"No PDF files"}),r.jsx("p",{className:"text-muted-foreground",children:"This session doesn't have any PDF files."})]})})]})}),r.jsx(dt,{value:"logs",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Log Files"}),r.jsx(We,{children:"Processing logs and reports from this session"})]}),r.jsx(Te,{children:(((S=s.log_files)==null?void 0:S.length)||0)>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"#"}),r.jsx(X,{children:"File Name"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:(s.log_files||[]).map((P,D)=>r.jsxs(_e,{children:[r.jsx(J,{children:D+1}),r.jsx(J,{className:"font-mono text-xs",children:P}),r.jsx(J,{className:"text-right",children:r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("log",P),children:[r.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},D))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"font-medium mb-1",children:"No log files"}),r.jsx("p",{className:"text-muted-foreground",children:"This session doesn't have any log files."})]})})]})})]})]})},qr=wc,wy=bc,Iu=u.forwardRef(({className:t,...e},s)=>r.jsx(to,{ref:s,className:q("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Iu.displayName=to.displayName;const fr=u.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(wy,{children:[r.jsx(Iu,{}),r.jsxs(so,{ref:n,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[e,r.jsxs(ro,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(hc,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fr.displayName=so.displayName;const mr=({className:t,...e})=>r.jsx("div",{className:q("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mr.displayName="DialogHeader";const Hr=({className:t,...e})=>r.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Hr.displayName="DialogFooter";const hr=u.forwardRef(({className:t,...e},s)=>r.jsx(no,{ref:s,className:q("text-lg font-semibold leading-none tracking-tight",t),...e}));hr.displayName=no.displayName;const xr=u.forwardRef(({className:t,...e},s)=>r.jsx(ao,{ref:s,className:q("text-sm text-muted-foreground",t),...e}));xr.displayName=ao.displayName;function Qa(t){const e=u.useRef({value:t,previous:t});return u.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jy="VisuallyHidden",Mu=u.forwardRef((t,e)=>r.jsx(ye.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Mu.displayName=jy;var _y=[" ","Enter","ArrowUp","ArrowDown"],Sy=[" ","Enter"],$n="Select",[Ya,Ja,Ny]=Kf($n),[Yr,Rj]=cs($n,[Ny,jc]),Xa=jc(),[ky,Bs]=Yr($n),[Cy,Ey]=Yr($n),Lu=t=>{const{__scopeSelect:e,children:s,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:p,autoComplete:f,disabled:h,required:b,form:g}=t,m=Xa(e),[x,w]=u.useState(null),[y,j]=u.useState(null),[R,S]=u.useState(!1),P=Ra(d),[D=!1,V]=Vr({prop:n,defaultProp:a,onChange:i}),[H,ee]=Vr({prop:o,defaultProp:l,onChange:c}),M=u.useRef(null),N=x?g||!!x.closest("form"):!0,[Z,C]=u.useState(new Set),se=Array.from(Z).map(oe=>oe.props.value).join(";");return r.jsx(nm,{...m,children:r.jsxs(ky,{required:b,scope:e,trigger:x,onTriggerChange:w,valueNode:y,onValueNodeChange:j,valueNodeHasChildren:R,onValueNodeHasChildrenChange:S,contentId:Da(),value:H,onValueChange:ee,open:D,onOpenChange:V,dir:P,triggerPointerDownPosRef:M,disabled:h,children:[r.jsx(Ya.Provider,{scope:e,children:r.jsx(Cy,{scope:t.__scopeSelect,onNativeOptionAdd:u.useCallback(oe=>{C(xe=>new Set(xe).add(oe))},[]),onNativeOptionRemove:u.useCallback(oe=>{C(xe=>{const Re=new Set(xe);return Re.delete(oe),Re})},[]),children:s})}),N?r.jsxs(cp,{"aria-hidden":!0,required:b,tabIndex:-1,name:p,autoComplete:f,value:H,onChange:oe=>ee(oe.target.value),disabled:h,form:g,children:[H===void 0?r.jsx("option",{value:""}):null,Array.from(Z)]},se):null]})})};Lu.displayName=$n;var Vu="SelectTrigger",zu=u.forwardRef((t,e)=>{const{__scopeSelect:s,disabled:n=!1,...a}=t,i=Xa(s),o=Bs(Vu,s),l=o.disabled||n,c=Ue(e,o.onTriggerChange),d=Ja(s),p=u.useRef("touch"),[f,h,b]=dp(m=>{const x=d().filter(j=>!j.disabled),w=x.find(j=>j.value===o.value),y=up(x,m,w);y!==void 0&&o.onValueChange(y.value)}),g=m=>{l||(o.onOpenChange(!0),b()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return r.jsx(Qf,{asChild:!0,...i,children:r.jsx(ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":lp(o.value)?"":void 0,...a,ref:c,onClick:we(a.onClick,m=>{m.currentTarget.focus(),p.current!=="mouse"&&g(m)}),onPointerDown:we(a.onPointerDown,m=>{p.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:we(a.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&_y.includes(m.key)&&(g(),m.preventDefault())})})})});zu.displayName=Vu;var $u="SelectValue",Uu=u.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:a,children:i,placeholder:o="",...l}=t,c=Bs($u,s),{onValueNodeHasChildrenChange:d}=c,p=i!==void 0,f=Ue(e,c.onValueNodeChange);return Wt(()=>{d(p)},[d,p]),r.jsx(ye.span,{...l,ref:f,style:{pointerEvents:"none"},children:lp(c.value)?r.jsx(r.Fragment,{children:o}):i})});Uu.displayName=$u;var Ay="SelectIcon",Bu=u.forwardRef((t,e)=>{const{__scopeSelect:s,children:n,...a}=t;return r.jsx(ye.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});Bu.displayName=Ay;var Ty="SelectPortal",qu=t=>r.jsx(Yf,{asChild:!0,...t});qu.displayName=Ty;var gr="SelectContent",Hu=u.forwardRef((t,e)=>{const s=Bs(gr,t.__scopeSelect),[n,a]=u.useState();if(Wt(()=>{a(new DocumentFragment)},[]),!s.open){const i=n;return i?oo.createPortal(r.jsx(Wu,{scope:t.__scopeSelect,children:r.jsx(Ya.Slot,{scope:t.__scopeSelect,children:r.jsx("div",{children:t.children})})}),i):null}return r.jsx(Zu,{...t,ref:e})});Hu.displayName=gr;var Lt=10,[Wu,qs]=Yr(gr),Ry="SelectContentImpl",Zu=u.forwardRef((t,e)=>{const{__scopeSelect:s,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:f,collisionBoundary:h,collisionPadding:b,sticky:g,hideWhenDetached:m,avoidCollisions:x,...w}=t,y=Bs(gr,s),[j,R]=u.useState(null),[S,P]=u.useState(null),D=Ue(e,O=>R(O)),[V,H]=u.useState(null),[ee,M]=u.useState(null),N=Ja(s),[Z,C]=u.useState(!1),se=u.useRef(!1);u.useEffect(()=>{if(j)return Jf(j)},[j]),Xf();const oe=u.useCallback(O=>{const[U,...ie]=N().map(be=>be.ref.current),[ue]=ie.slice(-1),ve=document.activeElement;for(const be of O)if(be===ve||(be==null||be.scrollIntoView({block:"nearest"}),be===U&&S&&(S.scrollTop=0),be===ue&&S&&(S.scrollTop=S.scrollHeight),be==null||be.focus(),document.activeElement!==ve))return},[N,S]),xe=u.useCallback(()=>oe([V,j]),[oe,V,j]);u.useEffect(()=>{Z&&xe()},[Z,xe]);const{onOpenChange:Re,triggerPointerDownPosRef:ge}=y;u.useEffect(()=>{if(j){let O={x:0,y:0};const U=ue=>{var ve,be;O={x:Math.abs(Math.round(ue.pageX)-(((ve=ge.current)==null?void 0:ve.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((be=ge.current)==null?void 0:be.y)??0))}},ie=ue=>{O.x<=10&&O.y<=10?ue.preventDefault():j.contains(ue.target)||Re(!1),document.removeEventListener("pointermove",U),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",U),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",U),document.removeEventListener("pointerup",ie,{capture:!0})}}},[j,Re,ge]),u.useEffect(()=>{const O=()=>Re(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[Re]);const[at,Me]=dp(O=>{const U=N().filter(ve=>!ve.disabled),ie=U.find(ve=>ve.ref.current===document.activeElement),ue=up(U,O,ie);ue&&setTimeout(()=>ue.ref.current.focus())}),St=u.useCallback((O,U,ie)=>{const ue=!se.current&&!ie;(y.value!==void 0&&y.value===U||ue)&&(H(O),ue&&(se.current=!0))},[y.value]),Qt=u.useCallback(()=>j==null?void 0:j.focus(),[j]),et=u.useCallback((O,U,ie)=>{const ue=!se.current&&!ie;(y.value!==void 0&&y.value===U||ue)&&M(O)},[y.value]),F=n==="popper"?Vi:Gu,Y=F===Vi?{side:l,sideOffset:c,align:d,alignOffset:p,arrowPadding:f,collisionBoundary:h,collisionPadding:b,sticky:g,hideWhenDetached:m,avoidCollisions:x}:{};return r.jsx(Wu,{scope:s,content:j,viewport:S,onViewportChange:P,itemRefCallback:St,selectedItem:V,onItemLeave:Qt,itemTextRefCallback:et,focusSelectedItem:xe,selectedItemText:ee,position:n,isPositioned:Z,searchRef:at,children:r.jsx(em,{as:Yi,allowPinchZoom:!0,children:r.jsx(tm,{asChild:!0,trapped:y.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:we(a,O=>{var U;(U=y.trigger)==null||U.focus({preventScroll:!0}),O.preventDefault()}),children:r.jsx(sm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:r.jsx(F,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:O=>O.preventDefault(),...w,...Y,onPlaced:()=>C(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:we(w.onKeyDown,O=>{const U=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!U&&O.key.length===1&&Me(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let ue=N().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(O.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const ve=O.target,be=ue.indexOf(ve);ue=ue.slice(be+1)}setTimeout(()=>oe(ue)),O.preventDefault()}})})})})})})});Zu.displayName=Ry;var Py="SelectItemAlignedPosition",Gu=u.forwardRef((t,e)=>{const{__scopeSelect:s,onPlaced:n,...a}=t,i=Bs(gr,s),o=qs(gr,s),[l,c]=u.useState(null),[d,p]=u.useState(null),f=Ue(e,D=>p(D)),h=Ja(s),b=u.useRef(!1),g=u.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:w,focusSelectedItem:y}=o,j=u.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&m&&x&&w){const D=i.trigger.getBoundingClientRect(),V=d.getBoundingClientRect(),H=i.valueNode.getBoundingClientRect(),ee=w.getBoundingClientRect();if(i.dir!=="rtl"){const ve=ee.left-V.left,be=H.left-ve,Nt=D.left-be,kt=D.width+Nt,Hs=Math.max(kt,V.width),Ws=window.innerWidth-Lt,Mt=Di(be,[Lt,Math.max(Lt,Ws-Hs)]);l.style.minWidth=kt+"px",l.style.left=Mt+"px"}else{const ve=V.right-ee.right,be=window.innerWidth-H.right-ve,Nt=window.innerWidth-D.right-be,kt=D.width+Nt,Hs=Math.max(kt,V.width),Ws=window.innerWidth-Lt,Mt=Di(be,[Lt,Math.max(Lt,Ws-Hs)]);l.style.minWidth=kt+"px",l.style.right=Mt+"px"}const M=h(),N=window.innerHeight-Lt*2,Z=m.scrollHeight,C=window.getComputedStyle(d),se=parseInt(C.borderTopWidth,10),oe=parseInt(C.paddingTop,10),xe=parseInt(C.borderBottomWidth,10),Re=parseInt(C.paddingBottom,10),ge=se+oe+Z+Re+xe,at=Math.min(x.offsetHeight*5,ge),Me=window.getComputedStyle(m),St=parseInt(Me.paddingTop,10),Qt=parseInt(Me.paddingBottom,10),et=D.top+D.height/2-Lt,F=N-et,Y=x.offsetHeight/2,O=x.offsetTop+Y,U=se+oe+O,ie=ge-U;if(U<=et){const ve=M.length>0&&x===M[M.length-1].ref.current;l.style.bottom="0px";const be=d.clientHeight-m.offsetTop-m.offsetHeight,Nt=Math.max(F,Y+(ve?Qt:0)+be+xe),kt=U+Nt;l.style.height=kt+"px"}else{const ve=M.length>0&&x===M[0].ref.current;l.style.top="0px";const Nt=Math.max(et,se+m.offsetTop+(ve?St:0)+Y)+ie;l.style.height=Nt+"px",m.scrollTop=U-et+m.offsetTop}l.style.margin=`${Lt}px 0`,l.style.minHeight=at+"px",l.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[h,i.trigger,i.valueNode,l,d,m,x,w,i.dir,n]);Wt(()=>j(),[j]);const[R,S]=u.useState();Wt(()=>{d&&S(window.getComputedStyle(d).zIndex)},[d]);const P=u.useCallback(D=>{D&&g.current===!0&&(j(),y==null||y(),g.current=!1)},[j,y]);return r.jsx(Oy,{scope:s,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:r.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:r.jsx(ye.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Gu.displayName=Py;var Dy="SelectPopperPosition",Vi=u.forwardRef((t,e)=>{const{__scopeSelect:s,align:n="start",collisionPadding:a=Lt,...i}=t,o=Xa(s);return r.jsx(rm,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Vi.displayName=Dy;var[Oy,Do]=Yr(gr,{}),zi="SelectViewport",Ku=u.forwardRef((t,e)=>{const{__scopeSelect:s,nonce:n,...a}=t,i=qs(zi,s),o=Do(zi,s),l=Ue(e,i.onViewportChange),c=u.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),r.jsx(Ya.Slot,{scope:s,children:r.jsx(ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:we(a.onScroll,d=>{const p=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const b=Math.abs(c.current-p.scrollTop);if(b>0){const g=window.innerHeight-Lt*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(m,x);if(w<g){const y=w+b,j=Math.min(g,y),R=y-j;f.style.height=j+"px",f.style.bottom==="0px"&&(p.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});Ku.displayName=zi;var Qu="SelectGroup",[Fy,Iy]=Yr(Qu),My=u.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,a=Da();return r.jsx(Fy,{scope:s,id:a,children:r.jsx(ye.div,{role:"group","aria-labelledby":a,...n,ref:e})})});My.displayName=Qu;var Yu="SelectLabel",Ju=u.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,a=Iy(Yu,s);return r.jsx(ye.div,{id:a.id,...n,ref:e})});Ju.displayName=Yu;var ka="SelectItem",[Ly,Xu]=Yr(ka),ep=u.forwardRef((t,e)=>{const{__scopeSelect:s,value:n,disabled:a=!1,textValue:i,...o}=t,l=Bs(ka,s),c=qs(ka,s),d=l.value===n,[p,f]=u.useState(i??""),[h,b]=u.useState(!1),g=Ue(e,y=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,y,n,a)}),m=Da(),x=u.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(Ly,{scope:s,value:n,disabled:a,textId:m,isSelected:d,onItemTextChange:u.useCallback(y=>{f(j=>j||((y==null?void 0:y.textContent)??"").trim())},[]),children:r.jsx(Ya.ItemSlot,{scope:s,value:n,disabled:a,textValue:p,children:r.jsx(ye.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:we(o.onFocus,()=>b(!0)),onBlur:we(o.onBlur,()=>b(!1)),onClick:we(o.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:we(o.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:we(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:we(o.onPointerMove,y=>{var j;x.current=y.pointerType,a?(j=c.onItemLeave)==null||j.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:we(o.onPointerLeave,y=>{var j;y.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:we(o.onKeyDown,y=>{var R;((R=c.searchRef)==null?void 0:R.current)!==""&&y.key===" "||(Sy.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});ep.displayName=ka;var ln="SelectItemText",tp=u.forwardRef((t,e)=>{const{__scopeSelect:s,className:n,style:a,...i}=t,o=Bs(ln,s),l=qs(ln,s),c=Xu(ln,s),d=Ey(ln,s),[p,f]=u.useState(null),h=Ue(e,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),b=p==null?void 0:p.textContent,g=u.useMemo(()=>r.jsx("option",{value:c.value,disabled:c.disabled,children:b},c.value),[c.disabled,c.value,b]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=d;return Wt(()=>(m(g),()=>x(g)),[m,x,g]),r.jsxs(r.Fragment,{children:[r.jsx(ye.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?oo.createPortal(i.children,o.valueNode):null]})});tp.displayName=ln;var sp="SelectItemIndicator",rp=u.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return Xu(sp,s).isSelected?r.jsx(ye.span,{"aria-hidden":!0,...n,ref:e}):null});rp.displayName=sp;var $i="SelectScrollUpButton",np=u.forwardRef((t,e)=>{const s=qs($i,t.__scopeSelect),n=Do($i,t.__scopeSelect),[a,i]=u.useState(!1),o=Ue(e,n.onScrollButtonChange);return Wt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(ip,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});np.displayName=$i;var Ui="SelectScrollDownButton",ap=u.forwardRef((t,e)=>{const s=qs(Ui,t.__scopeSelect),n=Do(Ui,t.__scopeSelect),[a,i]=u.useState(!1),o=Ue(e,n.onScrollButtonChange);return Wt(()=>{if(s.viewport&&s.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<d;i(p)};const c=s.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[s.viewport,s.isPositioned]),a?r.jsx(ip,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=s;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ap.displayName=Ui;var ip=u.forwardRef((t,e)=>{const{__scopeSelect:s,onAutoScroll:n,...a}=t,i=qs("SelectScrollButton",s),o=u.useRef(null),l=Ja(s),c=u.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return u.useEffect(()=>()=>c(),[c]),Wt(()=>{var p;const d=l().find(f=>f.ref.current===document.activeElement);(p=d==null?void 0:d.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),r.jsx(ye.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:we(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:we(a.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:we(a.onPointerLeave,()=>{c()})})}),Vy="SelectSeparator",op=u.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t;return r.jsx(ye.div,{"aria-hidden":!0,...n,ref:e})});op.displayName=Vy;var Bi="SelectArrow",zy=u.forwardRef((t,e)=>{const{__scopeSelect:s,...n}=t,a=Xa(s),i=Bs(Bi,s),o=qs(Bi,s);return i.open&&o.position==="popper"?r.jsx(am,{...a,...n,ref:e}):null});zy.displayName=Bi;function lp(t){return t===""||t===void 0}var cp=u.forwardRef((t,e)=>{const{value:s,...n}=t,a=u.useRef(null),i=Ue(e,a),o=Qa(s);return u.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==s&&p){const f=new Event("change",{bubbles:!0});p.call(l,s),l.dispatchEvent(f)}},[o,s]),r.jsx(Mu,{asChild:!0,children:r.jsx("select",{...n,ref:i,defaultValue:s})})});cp.displayName="BubbleSelect";function dp(t){const e=vs(t),s=u.useRef(""),n=u.useRef(0),a=u.useCallback(o=>{const l=s.current+o;e(l),function c(d){s.current=d,window.clearTimeout(n.current),d!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=u.useCallback(()=>{s.current="",window.clearTimeout(n.current)},[]);return u.useEffect(()=>()=>window.clearTimeout(n.current),[]),[s,a,i]}function up(t,e,s){const a=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=s?t.indexOf(s):-1;let o=$y(t,Math.max(i,0));a.length===1&&(o=o.filter(d=>d!==s));const c=o.find(d=>d.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==s?c:void 0}function $y(t,e){return t.map((s,n)=>t[(e+n)%t.length])}var Uy=Lu,pp=zu,By=Uu,qy=Bu,Hy=qu,fp=Hu,Wy=Ku,mp=Ju,hp=ep,Zy=tp,Gy=rp,xp=np,gp=ap,vp=op;const Rl=Uy,Pl=By,qi=u.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(pp,{ref:n,className:q("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[e,r.jsx(qy,{asChild:!0,children:r.jsx(_c,{className:"h-4 w-4 opacity-50"})})]}));qi.displayName=pp.displayName;const yp=u.forwardRef(({className:t,...e},s)=>r.jsx(xp,{ref:s,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(im,{className:"h-4 w-4"})}));yp.displayName=xp.displayName;const bp=u.forwardRef(({className:t,...e},s)=>r.jsx(gp,{ref:s,className:q("flex cursor-default items-center justify-center py-1",t),...e,children:r.jsx(_c,{className:"h-4 w-4"})}));bp.displayName=gp.displayName;const Hi=u.forwardRef(({className:t,children:e,position:s="popper",...n},a)=>r.jsx(Hy,{children:r.jsxs(fp,{ref:a,className:q("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...n,children:[r.jsx(yp,{}),r.jsx(Wy,{className:q("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),r.jsx(bp,{})]})}));Hi.displayName=fp.displayName;const Ky=u.forwardRef(({className:t,...e},s)=>r.jsx(mp,{ref:s,className:q("px-2 py-1.5 text-sm font-semibold",t),...e}));Ky.displayName=mp.displayName;const cn=u.forwardRef(({className:t,children:e,...s},n)=>r.jsxs(hp,{ref:n,className:q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[r.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(Gy,{children:r.jsx(Us,{className:"h-4 w-4"})})}),r.jsx(Zy,{children:e})]}));cn.displayName=hp.displayName;const Qy=u.forwardRef(({className:t,...e},s)=>r.jsx(vp,{ref:s,className:q("-mx-1 my-1 h-px bg-muted",t),...e}));Qy.displayName=vp.displayName;var wp="AlertDialog",[Yy,Pj]=cs(wp,[Sc]),_s=Sc(),jp=t=>{const{__scopeAlertDialog:e,...s}=t,n=_s(e);return r.jsx(wc,{...n,...s,modal:!0})};jp.displayName=wp;var Jy="AlertDialogTrigger",Xy=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,a=_s(s);return r.jsx(cm,{...a,...n,ref:e})});Xy.displayName=Jy;var eb="AlertDialogPortal",_p=t=>{const{__scopeAlertDialog:e,...s}=t,n=_s(e);return r.jsx(bc,{...n,...s})};_p.displayName=eb;var tb="AlertDialogOverlay",Sp=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,a=_s(s);return r.jsx(to,{...a,...n,ref:e})});Sp.displayName=tb;var Ar="AlertDialogContent",[sb,rb]=Yy(Ar),Np=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,children:n,...a}=t,i=_s(s),o=u.useRef(null),l=Ue(e,o),c=u.useRef(null);return r.jsx(om,{contentName:Ar,titleName:kp,docsSlug:"alert-dialog",children:r.jsx(sb,{scope:s,cancelRef:c,children:r.jsxs(so,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:we(a.onOpenAutoFocus,d=>{var p;d.preventDefault(),(p=c.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(lm,{children:n}),r.jsx(ab,{contentRef:o})]})})})});Np.displayName=Ar;var kp="AlertDialogTitle",Cp=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,a=_s(s);return r.jsx(no,{...a,...n,ref:e})});Cp.displayName=kp;var Ep="AlertDialogDescription",Ap=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,a=_s(s);return r.jsx(ao,{...a,...n,ref:e})});Ap.displayName=Ep;var nb="AlertDialogAction",Tp=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,a=_s(s);return r.jsx(ro,{...a,...n,ref:e})});Tp.displayName=nb;var Rp="AlertDialogCancel",Pp=u.forwardRef((t,e)=>{const{__scopeAlertDialog:s,...n}=t,{cancelRef:a}=rb(Rp,s),i=_s(s),o=Ue(e,a);return r.jsx(ro,{...i,...n,ref:o})});Pp.displayName=Rp;var ab=({contentRef:t})=>{const e=`\`${Ar}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ar}\` by passing a \`${Ep}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ar}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return u.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},ib=jp,ob=_p,Dp=Sp,Op=Np,Fp=Tp,Ip=Pp,Mp=Cp,Lp=Ap;const lb=ib,cb=ob,Vp=u.forwardRef(({className:t,...e},s)=>r.jsx(Dp,{className:q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:s}));Vp.displayName=Dp.displayName;const zp=u.forwardRef(({className:t,...e},s)=>r.jsxs(cb,{children:[r.jsx(Vp,{}),r.jsx(Op,{ref:s,className:q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));zp.displayName=Op.displayName;const $p=({className:t,...e})=>r.jsx("div",{className:q("flex flex-col space-y-2 text-center sm:text-left",t),...e});$p.displayName="AlertDialogHeader";const Up=({className:t,...e})=>r.jsx("div",{className:q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Up.displayName="AlertDialogFooter";const Bp=u.forwardRef(({className:t,...e},s)=>r.jsx(Mp,{ref:s,className:q("text-lg font-semibold",t),...e}));Bp.displayName=Mp.displayName;const qp=u.forwardRef(({className:t,...e},s)=>r.jsx(Lp,{ref:s,className:q("text-sm text-muted-foreground",t),...e}));qp.displayName=Lp.displayName;const Hp=u.forwardRef(({className:t,...e},s)=>r.jsx(Fp,{ref:s,className:q(ho(),t),...e}));Hp.displayName=Fp.displayName;const Wp=u.forwardRef(({className:t,...e},s)=>r.jsx(Ip,{ref:s,className:q(ho({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Wp.displayName=Ip.displayName;const db=Wa({username:bs().min(3,"Username must be at least 3 characters"),password:bs().min(6,"Password must be at least 6 characters"),role:No(["admin","user"])}),ub=Wa({username:bs().min(3,"Username must be at least 3 characters"),password:bs().min(6,"Password must be at least 6 characters").optional().or(eu("")),role:No(["admin","user"])}),pb=()=>{const{user:t}=br(),e=_t(),[s,n]=u.useState([]),[a,i]=u.useState([]),[o,l]=u.useState(!0),[c,d]=u.useState(null),[p,f]=u.useState(""),[h,b]=u.useState(!1),[g,m]=u.useState(!1),[x,w]=u.useState(!1),[y,j]=u.useState(null),R=_a({resolver:Sa(db),defaultValues:{username:"",password:"",role:"user"}}),S=_a({resolver:Sa(ub),defaultValues:{username:"",password:"",role:"user"}});u.useEffect(()=>{t&&t.role!=="admin"&&e("/")},[t,e]),u.useEffect(()=>{P()},[]),u.useEffect(()=>{if(p.trim()==="")i(s);else{const C=p.toLowerCase(),se=s.filter(oe=>oe.username.toLowerCase().includes(C)||oe.role.toLowerCase().includes(C));i(se)}},[p,s]);const P=async()=>{l(!0),d(null);try{const C=await Wn.getUsers();n(C),i(C)}catch(C){console.error("Error fetching users:",C),d("Failed to load users. Please try again.")}finally{l(!1)}},D=C=>{f(C.target.value)},V=()=>{R.reset(),b(!0)},H=C=>{j(C),S.reset({username:C.username,password:"",role:C.role}),m(!0)},ee=C=>{j(C),w(!0)},M=async C=>{try{await Wn.createUser(C.username,C.password,C.role),b(!1),await P()}catch(se){console.error("Error creating user:",se),d("Failed to create user. Please try again.")}},N=async C=>{if(y)try{await Wn.updateUser(y.id,{username:C.username,role:C.role,...C.password?{password:C.password}:{}}),m(!1),await P()}catch(se){console.error("Error updating user:",se),d("Failed to update user. Please try again.")}},Z=async()=>{if(y)try{await Wn.deleteUser(y.id),w(!1),await P()}catch(C){console.error("Error deleting user:",C),d("Failed to delete user. Please try again.")}};return o?r.jsx("div",{className:"flex h-[calc(100vh-8rem)] items-center justify-center",children:r.jsx(vt,{size:"lg"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"User Management"}),r.jsxs(L,{onClick:V,children:[r.jsx(ir,{className:"mr-2 h-4 w-4"}),"Add User"]})]}),c&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:c})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Je,{placeholder:"Search users...",value:p,onChange:D,className:"w-full md:w-[300px]"})]}),r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"All Users"}),r.jsx(We,{children:"Manage user accounts and permissions"})]}),r.jsx(Te,{children:a.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Username"}),r.jsx(X,{children:"Role"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:a.map(C=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:C.username}),r.jsx(J,{children:r.jsx(Xe,{variant:C.role==="admin"?"default":"secondary",children:C.role})}),r.jsx(J,{className:"text-right",children:r.jsxs(xo,{children:[r.jsx(go,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"sm",children:[r.jsx(Nc,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Open menu"})]})}),r.jsxs(Ua,{align:"end",children:[r.jsx(vo,{children:"Actions"}),r.jsx(gn,{}),r.jsxs(Is,{onClick:()=>H(C),children:[r.jsx(aa,{className:"mr-2 h-4 w-4"}),"Edit"]}),C.id!==(t==null?void 0:t.id)&&r.jsxs(Is,{className:"text-destructive focus:text-destructive",onClick:()=>ee(C),children:[r.jsx(wi,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},C.id))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx("h3",{className:"font-medium mb-1",children:"No users found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:p?"No users match your search":"You have not created any users yet"}),p?r.jsx(L,{variant:"outline",onClick:()=>f(""),children:"Clear Search"}):r.jsx(L,{onClick:V,children:"Add New User"})]})})]}),r.jsx(qr,{open:h,onOpenChange:b,children:r.jsxs(fr,{children:[r.jsxs(mr,{children:[r.jsx(hr,{children:"Create New User"}),r.jsx(xr,{children:"Add a new user to the system. Users can be either administrators or regular users."})]}),r.jsx(Na,{...R,children:r.jsxs("form",{onSubmit:R.handleSubmit(M),className:"space-y-4",children:[r.jsx(Ut,{control:R.control,name:"username",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Username"}),r.jsx(Ot,{children:r.jsx(Je,{placeholder:"Enter username",...C})}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:R.control,name:"password",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"Enter password",...C})}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:R.control,name:"role",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Role"}),r.jsxs(Rl,{onValueChange:C.onChange,defaultValue:C.value,children:[r.jsx(Ot,{children:r.jsx(qi,{children:r.jsx(Pl,{placeholder:"Select a role"})})}),r.jsxs(Hi,{children:[r.jsx(cn,{value:"admin",children:"Admin"}),r.jsx(cn,{value:"user",children:"User"})]})]}),r.jsx(mn,{children:"Admins can manage users and access all features"}),r.jsx(Ft,{})]})}),r.jsx(Hr,{children:r.jsx(L,{type:"submit",children:"Create User"})})]})})]})}),r.jsx(qr,{open:g,onOpenChange:m,children:r.jsxs(fr,{children:[r.jsxs(mr,{children:[r.jsx(hr,{children:"Edit User"}),r.jsx(xr,{children:"Update user details and permissions."})]}),r.jsx(Na,{...S,children:r.jsxs("form",{onSubmit:S.handleSubmit(N),className:"space-y-4",children:[r.jsx(Ut,{control:S.control,name:"username",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Username"}),r.jsx(Ot,{children:r.jsx(Je,{placeholder:"Enter username",...C})}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:S.control,name:"password",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"Enter new password (optional)",...C})}),r.jsx(mn,{children:"Leave blank to keep the current password"}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:S.control,name:"role",render:({field:C})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Role"}),r.jsxs(Rl,{onValueChange:C.onChange,defaultValue:C.value,children:[r.jsx(Ot,{children:r.jsx(qi,{children:r.jsx(Pl,{placeholder:"Select a role"})})}),r.jsxs(Hi,{children:[r.jsx(cn,{value:"admin",children:"Admin"}),r.jsx(cn,{value:"user",children:"User"})]})]}),r.jsx(mn,{children:"Admins can manage users and access all features"}),r.jsx(Ft,{})]})}),r.jsx(Hr,{children:r.jsx(L,{type:"submit",children:"Save Changes"})})]})})]})}),r.jsx(lb,{open:x,onOpenChange:w,children:r.jsxs(zp,{children:[r.jsxs($p,{children:[r.jsx(Bp,{children:"Are you sure?"}),r.jsxs(qp,{children:["This will permanently delete the user"," ",r.jsx("span",{className:"font-medium",children:y==null?void 0:y.username}),". This action cannot be undone."]})]}),r.jsxs(Up,{children:[r.jsx(Wp,{children:"Cancel"}),r.jsx(Hp,{onClick:Z,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};var Oo="Switch",[fb,Dj]=cs(Oo),[mb,hb]=fb(Oo),Zp=u.forwardRef((t,e)=>{const{__scopeSwitch:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:p,...f}=t,[h,b]=u.useState(null),g=Ue(e,j=>b(j)),m=u.useRef(!1),x=h?p||!!h.closest("form"):!0,[w=!1,y]=Vr({prop:a,defaultProp:i,onChange:d});return r.jsxs(mb,{scope:s,checked:w,disabled:l,children:[r.jsx(ye.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":Qp(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:we(t.onClick,j=>{y(R=>!R),x&&(m.current=j.isPropagationStopped(),m.current||j.stopPropagation())})}),x&&r.jsx(xb,{control:h,bubbles:!m.current,name:n,value:c,checked:w,required:o,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});Zp.displayName=Oo;var Gp="SwitchThumb",Kp=u.forwardRef((t,e)=>{const{__scopeSwitch:s,...n}=t,a=hb(Gp,s);return r.jsx(ye.span,{"data-state":Qp(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});Kp.displayName=Gp;var xb=t=>{const{control:e,checked:s,bubbles:n=!0,...a}=t,i=u.useRef(null),o=Qa(s),l=io(e);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&f){const h=new Event("click",{bubbles:n});f.call(c,s),c.dispatchEvent(h)}},[o,s,n]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qp(t){return t?"checked":"unchecked"}var Yp=Zp,gb=Kp;const ra=u.forwardRef(({className:t,...e},s)=>r.jsx(Yp,{className:q("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:s,children:r.jsx(gb,{className:q("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));ra.displayName=Yp.displayName;const vb=Wa({currentPassword:bs().min(1,"Current password is required"),newPassword:bs().min(6,"New password must be at least 6 characters"),confirmPassword:bs().min(6,"Please confirm your password")}).refine(t=>t.newPassword===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),yb=()=>{const{user:t}=br(),{theme:e,toggleTheme:s}=ud(),[n,a]=u.useState(null),[i,o]=u.useState(null),[l,c]=u.useState({email:"user@example.com",displayName:(t==null?void 0:t.username)||""}),d=_a({resolver:Sa(vb),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),[p,f]=u.useState({emailNotifications:!0,smsNotifications:!1,pushNotifications:!0}),h=()=>{a("Profile updated successfully"),setTimeout(()=>a(null),3e3)},b=m=>{console.log("Password change data:",m),a("Password changed successfully"),d.reset(),setTimeout(()=>a(null),3e3)},g=(m,x)=>{f({...p,[m]:x}),a("Notification settings updated"),setTimeout(()=>a(null),3e3)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),n&&r.jsxs(Fe,{variant:"success",children:[r.jsx(Us,{className:"h-4 w-4"}),r.jsx(tt,{children:"Success"}),r.jsx(Ie,{children:n})]}),i&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:i})]}),r.jsxs(zn,{defaultValue:"profile",className:"space-y-4",children:[r.jsxs(Qr,{children:[r.jsx(ct,{value:"profile",children:"Profile"}),r.jsx(ct,{value:"appearance",children:"Appearance"}),r.jsx(ct,{value:"password",children:"Password"}),r.jsx(ct,{value:"notifications",children:"Notifications"})]}),r.jsx(dt,{value:"profile",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Profile"}),r.jsx(We,{children:"Manage your profile information"})]}),r.jsxs(Te,{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ye,{htmlFor:"display-name",children:"Display Name"}),r.jsx(Je,{id:"display-name",value:l.displayName,onChange:m=>c({...l,displayName:m.target.value})})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(Ye,{htmlFor:"email",children:"Email"}),r.jsx(Je,{id:"email",type:"email",value:l.email,onChange:m=>c({...l,email:m.target.value})})]})]}),r.jsx(xt,{children:r.jsxs(L,{onClick:h,children:[r.jsx(kc,{className:"mr-2 h-4 w-4"}),"Save Changes"]})})]})}),r.jsx(dt,{value:"appearance",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Appearance"}),r.jsx(We,{children:"Customize the appearance of the application"})]}),r.jsx(Te,{className:"space-y-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ye,{children:"Theme"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Switch between light and dark theme"})]}),r.jsx(L,{variant:"outline",size:"icon",onClick:s,"aria-label":`Switch to ${e==="light"?"dark":"light"} theme`,children:e==="light"?r.jsx(fc,{className:"h-[1.2rem] w-[1.2rem]"}):r.jsx(mc,{className:"h-[1.2rem] w-[1.2rem]"})})]})})]})}),r.jsx(dt,{value:"password",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Change Password"}),r.jsx(We,{children:"Update your password to keep your account secure"})]}),r.jsx(Te,{children:r.jsx(Na,{...d,children:r.jsxs("form",{onSubmit:d.handleSubmit(b),className:"space-y-4",children:[r.jsx(Ut,{control:d.control,name:"currentPassword",render:({field:m})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Current Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"••••••••",...m})}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:d.control,name:"newPassword",render:({field:m})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"New Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"••••••••",...m})}),r.jsx(mn,{children:"Password must be at least 6 characters"}),r.jsx(Ft,{})]})}),r.jsx(Ut,{control:d.control,name:"confirmPassword",render:({field:m})=>r.jsxs(Pt,{children:[r.jsx(Dt,{children:"Confirm Password"}),r.jsx(Ot,{children:r.jsx(Je,{type:"password",placeholder:"••••••••",...m})}),r.jsx(Ft,{})]})}),r.jsxs(L,{type:"submit",className:"mt-2",children:[r.jsx(dm,{className:"mr-2 h-4 w-4"}),"Change Password"]})]})})})]})}),r.jsx(dt,{value:"notifications",className:"space-y-4",children:r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Notifications"}),r.jsx(We,{children:"Configure how you receive notifications"})]}),r.jsxs(Te,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ye,{htmlFor:"email-notifications",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),r.jsx(ra,{id:"email-notifications",checked:p.emailNotifications,onCheckedChange:m=>g("emailNotifications",m)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ye,{htmlFor:"sms-notifications",children:"SMS Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),r.jsx(ra,{id:"sms-notifications",checked:p.smsNotifications,onCheckedChange:m=>g("smsNotifications",m)})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(Ye,{htmlFor:"push-notifications",children:"Push Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications in the browser"})]}),r.jsx(ra,{id:"push-notifications",checked:p.pushNotifications,onCheckedChange:m=>g("pushNotifications",m)})]})]})]})})]})]})},bb=()=>{const t=_t(),[e,s]=u.useState([]),[n,a]=u.useState([]),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,p]=u.useState(""),[f,h]=u.useState(null),[b,g]=u.useState(!1),[m,x]=u.useState(null),[w,y]=u.useState("");u.useEffect(()=>{j()},[]),u.useEffect(()=>{if(d.trim()==="")a(e);else{const M=d.toLowerCase(),N=e.filter(Z=>Z.name&&Z.name.toLowerCase().includes(M)||Z.hash.toLowerCase().includes(M)||Z.document_type&&Z.document_type.toLowerCase().includes(M));a(N)}},[d,e]);const j=async()=>{o(!0),c(null);try{const M=await Ke.getStatus();h(M);const N=await cr.getLogs();s(N),a(N)}catch(M){console.error("Error fetching sessions:",M),c("Failed to load sessions. Please try again.")}finally{o(!1)}},R=M=>{p(M.target.value)},S=()=>{t("/app/workflow/upload")},P=M=>{t(`/app/workflow?session=${M.hash}`)},D=M=>{t(`/app/logs/${M.hash}`)},V=M=>{x(M),y(M.name||""),g(!0)},H=async()=>{if(m)try{await cr.renameLog(m.hash,w),s(M=>M.map(N=>N.hash===m.hash?{...N,name:w}:N)),g(!1)}catch(M){console.error("Error renaming session:",M),c("Failed to rename session. Please try again.")}},ee=M=>{try{if(!M||isNaN(Date.parse(M)))return"Invalid date";const N=new Date(M);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(N)}catch(N){return console.error("Error formatting date:",N),"Invalid date"}};return i?r.jsx("div",{className:"flex h-[calc(100vh-8rem)] items-center justify-center",children:r.jsx(vt,{size:"lg"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sessions"}),r.jsxs(L,{onClick:S,children:[r.jsx(ir,{className:"mr-2 h-4 w-4"}),"New Session"]})]}),l&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:l})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}),r.jsx(Je,{placeholder:"Search sessions...",value:d,onChange:R,className:"w-full md:w-[300px]"})]}),f&&f.active_session&&r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Active Session"}),r.jsx(We,{children:"You have an active processing session"})]}),r.jsx(Te,{children:r.jsxs("p",{className:"text-sm",children:["Session Hash: ",r.jsx("span",{className:"font-mono",children:f.session_hash})]})}),r.jsx(xt,{children:r.jsx(L,{onClick:()=>t(`/app/workflow?session=${f.session_hash}`),className:"w-full sm:w-auto",children:"Continue Processing"})})]}),r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"All Sessions"}),r.jsx(We,{children:"Manage your document processing sessions"})]}),r.jsx(Te,{children:n.length>0?r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Name"}),r.jsx(X,{children:"Type"}),r.jsx(X,{children:"Date"}),r.jsx(X,{children:"Status"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsx(nt,{children:n.map(M=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:M.name||`Session ${M.hash.substring(0,8)}`}),r.jsx(J,{children:M.document_type?r.jsx(Xe,{variant:"outline",children:M.document_type}):r.jsx("span",{className:"text-muted-foreground",children:"Unknown"})}),r.jsx(J,{children:ee(M.date)}),r.jsx(J,{children:M.hash===(f==null?void 0:f.session_hash)?r.jsx(Xe,{children:"Active"}):r.jsx(Xe,{variant:"outline",children:M.last_operation||"Completed"})}),r.jsx(J,{className:"text-right",children:r.jsxs(xo,{children:[r.jsx(go,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"sm",children:[r.jsx(Nc,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Open menu"})]})}),r.jsxs(Ua,{align:"end",children:[r.jsx(vo,{children:"Actions"}),r.jsx(gn,{}),r.jsxs(Is,{onClick:()=>P(M),children:[r.jsx(Xi,{className:"mr-2 h-4 w-4"}),"Open in Workflow"]}),r.jsxs(Is,{onClick:()=>D(M),children:[r.jsx(Zt,{className:"mr-2 h-4 w-4"}),"View Logs"]}),r.jsxs(Is,{onClick:()=>V(M),children:[r.jsx(aa,{className:"mr-2 h-4 w-4"}),"Rename"]})]})]})})]},M.hash))})]})}):r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"font-medium text-lg mb-1",children:"No sessions found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:d?"No sessions match your search":"You have not created any sessions yet"}),d?r.jsx(L,{variant:"outline",onClick:()=>p(""),children:"Clear Search"}):r.jsx(L,{onClick:S,children:"Create New Session"})]})})]}),r.jsx(qr,{open:b,onOpenChange:g,children:r.jsxs(fr,{children:[r.jsxs(mr,{children:[r.jsx(hr,{children:"Rename Session"}),r.jsx(xr,{children:"Give this session a meaningful name for easier identification."})]}),r.jsxs("div",{className:"py-4",children:[r.jsx(Ye,{htmlFor:"session-name",className:"mb-2 block",children:"Session Name"}),r.jsx(Je,{id:"session-name",value:w,onChange:M=>y(M.target.value),placeholder:"Enter session name"})]}),r.jsxs(Hr,{children:[r.jsx(L,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(L,{onClick:H,children:"Save"})]})]})})]})},wb=({activeStep:t,onStepClick:e})=>{const s=[{id:0,name:"Import",description:"Upload CSV or Excel file"},{id:1,name:"Validate & Map",description:"Validate data and map fields"},{id:2,name:"HTML",description:"Generate HTML documents"},{id:3,name:"PDF",description:"Generate PDF documents",optional:!0},{id:4,name:"Lookups",description:"Resolve lookups against external data"},{id:5,name:"Entity Creation",description:"Create missing entities",optional:!0},{id:6,name:"Data Sync",description:"Sync to tenant database",optional:!0},{id:7,name:"Storage",description:"Move to S3 storage",optional:!0},{id:8,name:"Complete",description:"Processing complete"}];return r.jsxs("div",{className:"w-full",children:[r.jsx("div",{className:"hidden md:flex",children:r.jsx("div",{className:"w-full flex items-center",children:s.map((n,a)=>r.jsxs(Se.Fragment,{children:[r.jsxs("div",{className:"relative flex flex-col items-center",children:[r.jsx("button",{type:"button",onClick:()=>e&&e(n.id),disabled:!e,className:q("w-10 h-10 flex items-center justify-center rounded-full border-2 transition-colors relative z-10","cursor-pointer hover:opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",t>n.id?"bg-primary border-primary text-primary-foreground":t===n.id?"border-primary text-primary":"border-muted-foreground text-muted-foreground"),"aria-label":`Go to ${n.name} step`,children:t>n.id?r.jsx(Us,{className:"w-5 h-5"}):r.jsx("span",{children:n.id+1})}),r.jsxs("div",{className:"mt-2 text-center",children:[r.jsx("div",{className:q("text-sm font-medium",t>=n.id?"text-foreground":"text-muted-foreground"),children:n.name}),r.jsx("div",{className:"text-xs text-muted-foreground hidden lg:block",children:n.description})]})]}),a<s.length-1&&r.jsx("div",{className:q("flex-1 border-t-2 transition-colors",t>n.id?"border-primary":"border-muted-foreground/30")})]},n.id))})}),r.jsx("div",{className:"md:hidden",children:s[t]&&r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("button",{type:"button",onClick:()=>e&&e(t),disabled:!e,className:q("w-10 h-10 flex items-center justify-center rounded-full border-2 border-primary text-primary","cursor-pointer hover:opacity-80 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"),"aria-label":`Go to ${s[t].name} step`,children:r.jsx("span",{children:t+1})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-base font-medium",children:s[t].name}),r.jsx("div",{className:"text-sm text-muted-foreground",children:s[t].description})]})]})})]})};var Fo="Progress",Io=100,[jb,Oj]=cs(Fo),[_b,Sb]=jb(Fo),Jp=u.forwardRef((t,e)=>{const{__scopeProgress:s,value:n=null,max:a,getValueLabel:i=Nb,...o}=t;(a||a===0)&&!Dl(a)&&console.error(kb(`${a}`,"Progress"));const l=Dl(a)?a:Io;n!==null&&!Ol(n,l)&&console.error(Cb(`${n}`,"Progress"));const c=Ol(n,l)?n:null,d=Ca(c)?i(c,l):void 0;return r.jsx(_b,{scope:s,value:c,max:l,children:r.jsx(ye.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ca(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":tf(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});Jp.displayName=Fo;var Xp="ProgressIndicator",ef=u.forwardRef((t,e)=>{const{__scopeProgress:s,...n}=t,a=Sb(Xp,s);return r.jsx(ye.div,{"data-state":tf(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:e})});ef.displayName=Xp;function Nb(t,e){return`${Math.round(t/e*100)}%`}function tf(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ca(t){return typeof t=="number"}function Dl(t){return Ca(t)&&!isNaN(t)&&t>0}function Ol(t,e){return Ca(t)&&!isNaN(t)&&t<=e&&t>=0}function kb(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Io}\`.`}function Cb(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Io} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var sf=Jp,Eb=ef;const Un=u.forwardRef(({className:t,value:e,indicatorClassName:s,...n},a)=>r.jsx(sf,{ref:a,className:q("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...n,children:r.jsx(Eb,{className:q("h-full w-full flex-1 bg-primary transition-all",s),style:{transform:`translateX(-${100-(e||0)}%)`}})}));Un.displayName=sf.displayName;const Ab=({onComplete:t})=>{const[e,s]=u.useState(!1),[n,a]=u.useState(null),[i,o]=u.useState([]),[l,c]=u.useState({}),[d,p]=u.useState({}),[f,h]=u.useState(!1),[b,g]=u.useState("fields"),[m,x]=u.useState([]),[w,y]=u.useState(!1),[j,R]=u.useState(null),[S,P]=u.useState(!1),[D,V]=u.useState(null),[H,ee]=u.useState(80),M=Hn({mutationFn:()=>Ke.validateData(),onSuccess:F=>{var Y;if(console.log("Validation response:",F),F){if(F.validation_results?(console.log("Found validation_results:",F.validation_results),a({document_type:F.validation_results.document_type||"Unknown",match_score:F.validation_results.match_score||0,total_rows:F.validation_results.total_rows||0,valid_rows:F.validation_results.valid_rows||0,invalid_rows:F.validation_results.invalid_rows||0,success_rate:F.validation_results.success_rate||0,valid:!0,errors:[],field_matches:{},required_missing:[],schema_id:F.validation_results.schema_name||""})):(console.log("No validation_results found in data"),a(F)),F.pass_threshold&&ee(F.pass_threshold),F.all_columns&&Array.isArray(F.all_columns)&&F.all_columns.length>0)console.log("Using all_columns from validation response:",F.all_columns),o([...F.all_columns].sort());else if(F.row_validations&&((Y=F.row_validations[0])!=null&&Y.fields)){const O=new Set;if(F.row_validations[0].fields.forEach(U=>{U.column&&O.add(U.column)}),O.size>0)console.log("Found columns from row_validations:",Array.from(O)),o(Array.from(O).sort());else if(console.warn("Could not extract columns from validation results."),F.field_matches){const U=new Set;Object.values(F.field_matches).forEach(ie=>{ie.column&&U.add(ie.column)}),U.size>0&&(console.log("Using fallback columns from field_matches:",Array.from(U)),o(Array.from(U).sort()))}}F.row_validations&&x(F.row_validations.filter(O=>!O.valid)),F.schema&&F.schema.schema&&c(F.schema.schema),qe({title:"Validation completed",description:"Data has been validated against the schema",duration:3e3})}else qe({title:"Error",description:"Validation returned unexpected result",variant:"destructive",duration:3e3});s(!1)},onError:F=>{var O,U;console.error("Validation error:",F);const Y=((U=(O=F.response)==null?void 0:O.data)==null?void 0:U.error)||F.message||"Failed to validate data";V(Y),qe({title:"Validation Error",description:Y,variant:"destructive",duration:5e3}),s(!1)}}),N=Hn({mutationFn:()=>Ke.generateMapping(),onSuccess:F=>{if(F&&F.mapped_fields){const Y={};Object.entries(F.mapped_fields).forEach(([O,U])=>{const ie=typeof U=="string"?U:U==null?void 0:U.type;ie&&l[ie]?Y[O]={...l[ie],type:ie}:(Y[O]={type:ie||"UNKNOWN",validation_type:"NONE",description:"Type not found in schema or invalid mapping",slug:[ie||"UNKNOWN"],required:!1},console.warn(`Type "${ie}" for column "${O}" not found in schemaFields during initial mapping load.`))}),p(Y),qe({title:"Mapping loaded",description:"Field mapping has been loaded or generated",duration:3e3})}else F&&F.error?(V(F.error),qe({title:"Mapping Error",description:F.error,variant:"destructive"})):qe({title:"Warning",description:"Mapping generation returned no data or unexpected result.",variant:"default"})},onError:F=>{var O,U;console.error("Mapping generation error:",F);const Y=((U=(O=F.response)==null?void 0:O.data)==null?void 0:U.error)||F.message||"Failed to generate/load mapping";V(Y),qe({title:"Mapping Error",description:Y,variant:"destructive",duration:5e3})}}),Z=Hn({mutationFn:F=>Ke.updateMapping(F),onSuccess:F=>{if(F&&F.mapped_fields){const Y={};Object.entries(F.mapped_fields).forEach(([O,U])=>{const ie=typeof U=="string"?U:U==null?void 0:U.type;ie&&l[ie]?Y[O]={...l[ie],type:ie}:(Y[O]={type:ie||"UNKNOWN",validation_type:"NONE",description:"Type not found in schema or invalid mapping",slug:[ie||"UNKNOWN"],required:!1},console.warn(`Type "${ie}" for column "${O}" not found in schemaFields after update.`))}),p(Y),qe({title:"Mapping updated",description:"Field mapping has been saved",duration:3e3})}else F&&F.error?(V(F.error),qe({title:"Mapping Update Error",description:F.error,variant:"destructive"})):qe({title:"Warning",description:"Mapping update returned unexpected result",variant:"default"});h(!1),y(!1)},onError:F=>{var O,U;console.error("Mapping update error:",F);const Y=((U=(O=F.response)==null?void 0:O.data)==null?void 0:U.error)||F.message||"Failed to update mapping";V(Y),qe({title:"Mapping Update Error",description:Y,variant:"destructive",duration:5e3}),y(!1)}}),C=Hn({mutationFn:()=>Ke.deleteMapping(),onSuccess:()=>{qe({title:"Mapping deleted",description:"Field mapping has been reset",duration:3e3}),N.mutate()},onError:F=>{var O,U;console.error("Mapping delete error:",F);const Y=((U=(O=F.response)==null?void 0:O.data)==null?void 0:U.error)||F.message||"Failed to reset mapping";V(Y),qe({title:"Error",description:"Failed to reset mapping",variant:"destructive",duration:5e3})}});u.useEffect(()=>{(async()=>{try{s(!0),V(null);try{console.log("Calling mapping API to load existing mapping..."),await N.mutateAsync(),console.log("Mapping API call successful")}catch(Y){console.error("Initial mapping generation/load failed:",Y),console.log("No existing mapping found, running validation...");try{await M.mutateAsync(),await N.mutateAsync()}catch(O){console.error("Initial validation failed:",O),V(U=>U?`${U}
Failed to validate data.`:"Failed to validate data.")}}}catch(Y){console.error("Error during initial data loading:",Y)}finally{s(!1)}})()},[]);const se=()=>{s(!0),M.mutate()},oe=()=>{y(!0),Z.mutate(d)},xe=()=>{P(!0)},Re=()=>{P(!1),C.mutate()},ge=async()=>{if(f){qe({title:"Save Changes",description:"Please save or cancel your mapping edits first.",variant:"default"});return}t({success:!0,command:"validate",result:{validation_results:n,mapped_fields:d}})},at=()=>{h(!0)},Me=(F,Y)=>{const O={...d};if(!Y)delete O[F];else if(l[Y]){const U=l[Y];O[F]={...U,type:Y}}else console.warn(`Selected type "${Y}" not found in schemaFields.`),delete O[F];p(O),R(null)},St=()=>{if(!n)return null;const{document_type:F="Unknown",match_score:Y=0,valid_rows:O=0,invalid_rows:U=0,total_rows:ie=0,success_rate:ue=0}=n;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{children:[r.jsx(is,{className:"h-4 w-4"}),r.jsx(tt,{children:"Document Type Detection"}),r.jsxs(Ie,{children:["Document type detected: ",r.jsx(Xe,{className:"ml-1",children:F})," with ",Y.toFixed(1),"% match confidence"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-card border rounded-lg p-4 text-center",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Total Rows"}),r.jsx("p",{className:"text-2xl font-bold",children:ie})]}),r.jsxs("div",{className:"bg-card border rounded-lg p-4 text-center",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Valid Rows"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:O})]}),r.jsxs("div",{className:"bg-card border rounded-lg p-4 text-center",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Invalid Rows"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:U})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between mb-2",children:[r.jsx("span",{className:"text-sm font-medium",children:"Success Rate"}),r.jsxs("span",{className:"text-sm font-medium",children:[ue.toFixed(1),"%"]})]}),r.jsx(Un,{value:ue,className:"h-3",indicatorClassName:ue>=95?"bg-green-600":ue>=H?"bg-amber-500":"bg-red-600"}),r.jsx("div",{className:"flex justify-end mt-1",children:r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Minimum threshold: ",H,"%"]})})]})]})},Qt=()=>{const F=Object.keys(d).length>0,Y=i.length>0;return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Field Mapping"}),r.jsx("div",{className:"space-x-2",children:f?r.jsxs(r.Fragment,{children:[r.jsxs(L,{variant:"outline",size:"sm",onClick:()=>{h(!1)},disabled:w,children:[r.jsx(Cc,{className:"h-4 w-4 mr-1"})," Cancel"]}),r.jsxs(L,{variant:"default",size:"sm",onClick:oe,disabled:w||Z.isPending,children:[Z.isPending?r.jsx(ys,{className:"h-4 w-4 mr-1 animate-spin"}):r.jsx(kc,{className:"h-4 w-4 mr-1"}),"Save Mapping"]})]}):F&&r.jsxs(L,{variant:"outline",size:"sm",onClick:at,children:[r.jsx(aa,{className:"h-4 w-4 mr-1"})," Edit Mapping"]})})]}),!Y&&!e&&!N.isPending?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(Zt,{className:"h-16 w-16 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Columns Found"}),r.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Could not determine columns from the validation data. Please re-validate or check the source file."}),r.jsx(L,{onClick:se,disabled:e,children:"Re-validate Data"})]}):!F&&(N.isPending||e)?r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(vt,{size:"lg"}),r.jsx("span",{className:"ml-2",children:"Loading mapping..."})]}):!F&&!N.isPending?r.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[r.jsx(Zt,{className:"h-16 w-16 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Mapping Not Generated"}),r.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Could not automatically generate mapping. Check validation results or try generating manually if supported."})]}):r.jsx("div",{className:"border rounded-lg overflow-hidden",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"text-left",children:"Column Name"}),r.jsx(X,{className:"text-left",children:"Mapped Type"}),r.jsx(X,{className:"text-left",children:"Validation Type"}),f&&r.jsx(X,{className:"text-center",children:"Action"})]})}),r.jsx(nt,{children:i.map(O=>{const U=d[O],ie=(U==null?void 0:U.type)||null,ue=(U==null?void 0:U.validate_type)||null,ve=(U==null?void 0:U.required)===!0;return r.jsxs(_e,{className:"hover:bg-muted/50",children:[r.jsx(J,{className:"font-medium",children:O}),r.jsx(J,{children:ie?r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{children:ie}),ve&&r.jsx(Xe,{variant:"destructive",className:"ml-2",children:"Required"})]}):r.jsx("span",{className:"text-muted-foreground italic",children:"Unmapped"})}),r.jsx(J,{children:ue?r.jsx(Xe,{variant:"outline",children:ue}):r.jsx("span",{className:"text-muted-foreground italic",children:"-"})}),f&&r.jsx(J,{className:"text-center",children:r.jsxs(L,{variant:"outline",size:"sm",onClick:()=>R(O),children:[r.jsx(aa,{className:"h-4 w-4 mr-1"}),"Map"]})})]},O)})})]})})]})},et=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-medium",children:"Validation Errors"}),m.length>0?r.jsx("div",{className:"border rounded-lg overflow-auto max-h-[400px]",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Row #"}),r.jsx(X,{children:"Field"}),r.jsx(X,{children:"Value"}),r.jsx(X,{children:"Error"})]})}),r.jsx(nt,{children:m.map((F,Y)=>(F.fields||[]).filter(O=>!O.valid).map((O,U)=>r.jsxs(_e,{children:[r.jsx(J,{children:F.row_id}),r.jsx(J,{children:O.field}),r.jsx(J,{className:"max-w-[200px] truncate",title:String(O.value||""),children:String(O.value||"N/A")}),r.jsx(J,{children:(O.errors||[]).map((ie,ue)=>r.jsx("div",{className:"text-red-500 text-xs",children:ie},ue))})]},`${Y}-${U}`)))})]})}):r.jsxs(Fe,{variant:"success",children:[r.jsx(is,{className:"h-4 w-4"}),r.jsx(tt,{children:"All rows valid"}),r.jsx(Ie,{children:"All rows in your data have passed validation based on the current mapping."})]})]});return e&&!n?r.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[r.jsx(ys,{className:"h-12 w-12 animate-spin text-primary"}),r.jsx("h3",{className:"text-lg font-medium",children:"Validating data..."}),r.jsx("p",{className:"text-center text-muted-foreground max-w-md",children:"The system is analyzing your data, detecting document type, and validating fields."})]}):r.jsxs(Ae,{className:"w-full",children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Data Validation & Field Mapping"}),r.jsx(We,{children:"Validate data against schema requirements and map columns to field types. After completing this step, you'll proceed directly to HTML generation."})]}),r.jsxs(Te,{className:"space-y-6",children:[D&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:D})]}),St(),r.jsxs(zn,{value:b,onValueChange:g,className:"w-full",children:[r.jsxs(Qr,{className:"grid grid-cols-2 mb-4",children:[r.jsx(ct,{value:"fields",children:"Field Mapping"}),r.jsxs(ct,{value:"errors",children:["Validation Errors (",m.length,")"]})]}),r.jsx(dt,{value:"fields",children:Qt()}),r.jsx(dt,{value:"errors",children:et()})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(L,{variant:"outline",onClick:se,disabled:e||M.isPending,children:[M.isPending?r.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(um,{className:"mr-2 h-4 w-4"}),"Re-validate"]}),r.jsxs(L,{variant:"outline",onClick:xe,disabled:e||C.isPending,className:"text-destructive hover:text-destructive",children:[C.isPending?r.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}):r.jsx(wi,{className:"mr-2 h-4 w-4"}),"Reset Mapping"]})]}),r.jsxs(L,{onClick:ge,disabled:e||M.isPending||!n||f||Object.keys(d).length===0||n.success_rate<H,children:["Continue to HTML Generation ",r.jsx(Ji,{className:"h-4 w-4 ml-2"})]})]}),r.jsx(qr,{open:j!==null,onOpenChange:F=>!F&&R(null),children:r.jsxs(fr,{className:"max-h-[80vh] overflow-y-auto",children:[r.jsxs(mr,{children:[r.jsx(hr,{children:"Select Type for Column"}),r.jsxs(xr,{children:['Choose a field type to map to column "',j,'"']})]}),j&&r.jsx("div",{className:"space-y-4 py-2",children:r.jsx("div",{className:"grid gap-2",children:r.jsxs("div",{className:"border rounded-md overflow-auto max-h-[400px]",children:[r.jsx("div",{className:"p-3 cursor-pointer hover:bg-muted border-b",onClick:()=>Me(j,""),children:r.jsx("span",{className:"text-muted-foreground",children:"None (unmapped)"})}),Object.entries(l).sort(([F],[Y])=>F.localeCompare(Y)).map(([F,Y])=>{var O;return r.jsxs("div",{className:`p-3 cursor-pointer border-b hover:bg-muted ${((O=d[j])==null?void 0:O.type)===F?"bg-muted font-semibold":""}`,onClick:()=>Me(j,F),children:[r.jsx("div",{className:"font-bold",children:F}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[r.jsx("span",{className:"font-medium",children:"Type:"})," ",Y.validate_type,Y.required&&r.jsx(Xe,{className:"ml-2",variant:"destructive",children:"Required"})]}),r.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:Y.description}),Y.regex&&r.jsxs("div",{className:"text-xs font-mono bg-muted p-1 mt-1 rounded",children:["Pattern: ",Y.regex]}),Y.list&&r.jsxs("div",{className:"text-xs font-mono bg-muted p-1 mt-1 rounded",children:["List: ",Y.list," (Dist: ",Y.distance||"N/A","%)"]}),Y.enum&&r.jsxs("div",{className:"text-xs font-mono bg-muted p-1 mt-1 rounded",children:["Enum: ",Y.enum]})]},F)})]})})})]})}),r.jsx(qr,{open:S,onOpenChange:P,children:r.jsxs(fr,{children:[r.jsxs(mr,{children:[r.jsx(hr,{children:"Reset Field Mappings"}),r.jsx(xr,{children:"This will delete your current field mappings and generate new ones based on the initial validation. This action cannot be undone."})]}),r.jsxs(Hr,{className:"gap-2 mt-4",children:[r.jsx(L,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),r.jsxs(L,{variant:"destructive",onClick:Re,disabled:C.isPending,children:[C.isPending?r.jsx(ys,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(wi,{className:"h-4 w-4 mr-2"}),"Reset Mappings"]})]})]})})]})},Tb=({sessionHash:t,onComplete:e})=>{const[s,n]=u.useState(!1),[a,i]=u.useState(null),[o,l]=u.useState(null),[c,d]=u.useState(0);u.useEffect(()=>{p()},[]);const p=async()=>{var m,x;n(!0),l(null),d(0);const g=setInterval(()=>{d(w=>{const y=w+Math.random()*10;return y>=90?90:y})},300);try{const w=await Ke.generateHtml();return clearInterval(g),d(100),i(w),n(!1),{success:!0,command:"html",result:w}}catch(w){throw clearInterval(g),l(((x=(m=w.response)==null?void 0:m.data)==null?void 0:x.error)||"An error occurred during HTML generation. Please try again."),n(!1),w}},f=async()=>{if(a)try{e({success:!0,command:"html",result:a})}catch(g){console.error("Error completing HTML generation step:",g),l("Failed to continue to the next step. Please try again.")}},h=()=>{p()},b=g=>{const m=`/api/files/${t}/html/${g}`;window.open(m,"_blank")};return r.jsxs(Ae,{className:"w-full",children:[r.jsx(De,{children:r.jsx(Oe,{children:"HTML Generation"})}),r.jsxs(Te,{className:"space-y-4",children:[o&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:o})]}),s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{children:"Generating HTML files..."}),r.jsxs("span",{children:[Math.round(c),"%"]})]}),r.jsx(Un,{value:c})]}),r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(ys,{className:"mr-2 h-6 w-6 animate-spin text-primary"}),r.jsx("span",{children:"Generating HTML files from template..."})]})]}),!s&&a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{variant:a.errors.length===0?"success":"warning",children:[r.jsx(Us,{className:"h-4 w-4"}),r.jsx(tt,{children:"HTML Generation Complete"}),r.jsxs(Ie,{children:["Generated ",a.num_files,' HTML files using template "',a.template_name,'"',a.errors.length>0&&r.jsxs(r.Fragment,{children:[". ",r.jsxs("span",{className:"font-semibold text-warning",children:["Warning: ",a.errors.length," files had errors"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generation Summary"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsx("div",{className:"border rounded-md p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Files Generated:"}),r.jsx("span",{className:"font-medium",children:a.num_files})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Template:"}),r.jsx("span",{className:"font-medium",children:a.template_name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Output Directory:"}),r.jsx("span",{className:"font-medium truncate max-w-[200px]",title:a.output_dir,children:a.output_dir})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Errors:"}),r.jsx("span",{className:"font-medium",children:a.errors.length})]})]})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generated HTML Files"}),r.jsx("div",{className:"rounded-md border overflow-hidden",children:r.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"#"}),r.jsx(X,{children:"File Name"}),r.jsx(X,{className:"text-right",children:"Action"})]})}),r.jsxs(nt,{children:[a.html_files.slice(0,10).map((g,m)=>r.jsxs(_e,{children:[r.jsx(J,{children:m+1}),r.jsx(J,{className:"font-mono text-xs",children:g}),r.jsx(J,{className:"text-right",children:r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>b(g),children:[r.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]})})]},m)),a.html_files.length>10&&r.jsx(_e,{children:r.jsxs(J,{colSpan:3,className:"text-center text-muted-foreground",children:["+",a.html_files.length-10," more files"]})})]})]})})})]}),a.errors.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generation Errors"}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Row"}),r.jsx(X,{children:"Error"})]})}),r.jsx(nt,{children:a.errors.map((g,m)=>r.jsxs(_e,{children:[r.jsxs(J,{children:["Row ",g.row]}),r.jsx(J,{children:g.error})]},m))})]})})]})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:h,disabled:s,children:"Regenerate HTML"}),r.jsx(L,{onClick:f,disabled:s||!a,children:"Continue to PDF Generation"})]})]})},Rb=({onComplete:t})=>{const e=_t(),[s,n]=u.useState(!1),[a,i]=u.useState(null),[o,l]=u.useState(null),[c,d]=u.useState(0);u.useEffect(()=>{p()},[]);const p=async()=>{var x,w;n(!0),l(null),d(0);const m=setInterval(()=>{d(y=>{const j=y+Math.random()*5;return j>=90?90:j})},500);try{const y=await Ke.generatePdf();return clearInterval(m),d(100),i(y),n(!1),{success:!0,command:"pdf",result:y}}catch(y){throw clearInterval(m),l(((w=(x=y.response)==null?void 0:x.data)==null?void 0:w.error)||"An error occurred during PDF generation. Please try again."),n(!1),y}},f=async()=>{if(a)try{const m=await Ke.generatePdf();t({success:!0,command:"pdf",result:m});const x=await Ke.getStatus();x.session_hash?e(`/logs/${x.session_hash}`):e("/logs")}catch(m){console.error("Error completing PDF generation step:",m),l("Failed to complete the process. Please try again.")}},h=()=>{p()},b=m=>{var y;const x=((y=a==null?void 0:a.log_file.split("/").pop())==null?void 0:y.split("_")[0])||"";if(m.includes(":")){const j=m.split("/");m=j[j.length-1]}else m.includes("/")?m=m.split("/").pop()||m:m.includes("\\")&&(m=m.split("\\").pop()||m);const w=`/api/files/${x}/pdf/${m}`;console.log(`Opening PDF: ${w}`),window.open(w,"_blank")},g=m=>{var j;const x=((j=a==null?void 0:a.log_file.split("/").pop())==null?void 0:j.split("_")[0])||"";if(m.includes(":")){const R=m.split("/");m=R[R.length-1]}else m.includes("/")?m=m.split("/").pop()||m:m.includes("\\")&&(m=m.split("\\").pop()||m);console.log(`Extracted filename: ${m}`);const w=`/api/files/${x}/pdf/${m}`;console.log(`Downloading PDF: ${w}`);const y=document.createElement("a");y.href=w,y.download=m,document.body.appendChild(y),y.click(),document.body.removeChild(y)};return r.jsxs(Ae,{className:"w-full",children:[r.jsx(De,{children:r.jsx(Oe,{children:"PDF Generation"})}),r.jsxs(Te,{className:"space-y-4",children:[o&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:o})]}),s&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{children:"Generating PDF files..."}),r.jsxs("span",{children:[Math.round(c),"%"]})]}),r.jsx(Un,{value:c})]}),r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(ys,{className:"mr-2 h-6 w-6 animate-spin text-primary"}),r.jsx("span",{children:"Converting HTML to PDF documents..."})]})]}),!s&&a&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(Fe,{variant:a.errors.length===0?"success":"warning",children:[r.jsx(Us,{className:"h-4 w-4"}),r.jsx(tt,{children:"PDF Generation Complete"}),r.jsxs(Ie,{children:["Generated ",a.num_files," PDF files in ",a.total_time.toFixed(2)," seconds",a.errors.length>0&&r.jsxs(r.Fragment,{children:[". ",r.jsxs("span",{className:"font-semibold text-warning",children:["Warning: ",a.errors.length," files had errors"]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generation Summary"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsx("div",{className:"border rounded-md p-4",children:r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Files Generated:"}),r.jsx("span",{className:"font-medium",children:a.num_files})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Time:"}),r.jsxs("span",{className:"font-medium",children:[a.total_time.toFixed(2)," seconds"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Time:"}),r.jsxs("span",{className:"font-medium",children:[(a.total_time/a.num_files).toFixed(2)," seconds per file"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Errors:"}),r.jsx("span",{className:"font-medium",children:a.errors.length})]})]})})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generated PDF Files"}),r.jsx("div",{className:"rounded-md border overflow-hidden",children:r.jsx("div",{className:"max-h-64 overflow-y-auto",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"#"}),r.jsx(X,{children:"File Name"}),r.jsx(X,{className:"text-right",children:"Actions"})]})}),r.jsxs(nt,{children:[a.pdf_files.slice(0,10).map((m,x)=>(console.log(`PDF file ${x}: ${m}`),r.jsxs(_e,{children:[r.jsx(J,{children:x+1}),r.jsx(J,{className:"font-mono text-xs",children:m}),r.jsx(J,{className:"text-right",children:r.jsxs("div",{className:"flex justify-end space-x-2",children:[r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>b(m),children:[r.jsx(un,{className:"h-4 w-4 mr-1"}),"View"]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>g(m),children:[r.jsx(bi,{className:"h-4 w-4 mr-1"}),"Download"]})]})})]},x))),a.pdf_files.length>10&&r.jsx(_e,{children:r.jsxs(J,{colSpan:3,className:"text-center text-muted-foreground",children:["+",a.pdf_files.length-10," more files"]})})]})]})})})]}),a.errors.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Generation Errors"}),r.jsx("div",{className:"rounded-md border",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"File"}),r.jsx(X,{children:"Error"})]})}),r.jsx(nt,{children:a.errors.map((m,x)=>r.jsxs(_e,{children:[r.jsx(J,{children:m.file}),r.jsx(J,{children:m.error})]},x))})]})})]})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:h,disabled:s,children:"Regenerate PDFs"}),r.jsx(L,{onClick:f,disabled:s||!a,children:"Complete & View All"})]})]})},Pb=({status:t})=>{const e={pending:{label:"Pending",variant:"outline"},matched:{label:"Matched",variant:"default"},exception:{label:"Exception",variant:"destructive"},accepted:{label:"Accepted",variant:"default"},rejected:{label:"Rejected",variant:"destructive"},for_creation:{label:"For Creation",variant:"secondary"}},{label:s,variant:n}=e[t]||{label:t,variant:"outline"};return r.jsx(Xe,{variant:n,children:s})},Fl=({documents:t})=>!t||t.length===0?r.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No documents found."}):r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"ID"}),r.jsx(X,{children:"Input File"}),r.jsx(X,{children:"Row"}),r.jsx(X,{children:"Lookup Type"}),r.jsx(X,{children:"Lookup Value"}),r.jsx(X,{children:"Match"}),r.jsx(X,{children:"Status"}),r.jsx(X,{className:"w-12",children:"Actions"})]})}),r.jsx(nt,{children:t.map(e=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:e.document_id||e.id}),r.jsx(J,{className:"max-w-[180px] truncate",title:e.input_file,children:e.input_file?e.input_file.split("/").pop():"-"}),r.jsx(J,{children:e.row}),r.jsx(J,{children:e.lookup_type}),r.jsx(J,{className:"max-w-[180px] truncate",title:e.lookup_value,children:e.lookup_value}),r.jsx(J,{className:"max-w-[180px] truncate",title:e.lookup_match||"",children:e.lookup_match||"-"}),r.jsx(J,{children:r.jsx(Pb,{status:e.status})}),r.jsx(J,{children:r.jsx(L,{variant:"ghost",size:"icon",title:"View Document",children:r.jsx(pm,{className:"h-4 w-4"})})})]},e.id))})]})}),Db=({status:t})=>{const e={pending:{label:"Pending",variant:"outline"},accepted:{label:"Accepted",variant:"default"},rejected:{label:"Rejected",variant:"destructive"},for_creation:{label:"For Creation",variant:"secondary"}},{label:s,variant:n}=e[t]||{label:t,variant:"outline"};return r.jsx(Xe,{variant:n,children:s})},Ob=({exceptions:t,onResolve:e})=>!t||t.length===0?r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(On,{className:"inline-block mb-2 h-8 w-8 text-amber-500"}),r.jsx("p",{children:"No exceptions to resolve."})]}):r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{className:"w-12",children:"ID"}),r.jsx(X,{children:"Input File"}),r.jsx(X,{children:"Row"}),r.jsx(X,{children:"Lookup Type"}),r.jsx(X,{children:"Lookup Value"}),r.jsx(X,{children:"Exception"}),r.jsx(X,{children:"Status"}),r.jsx(X,{className:"w-[100px]",children:"Actions"})]})}),r.jsx(nt,{children:t.map(s=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:s.id}),r.jsx(J,{className:"max-w-[180px] truncate",title:s.input_file,children:s.input_file?s.input_file.split("/").pop():"-"}),r.jsx(J,{children:s.row}),r.jsx(J,{children:s.lookup_type}),r.jsx(J,{className:"max-w-[180px] truncate",title:s.lookup_value,children:s.lookup_value}),r.jsx(J,{className:"max-w-[200px] truncate",title:s.exception_message,children:s.exception_message}),r.jsx(J,{children:r.jsx(Db,{status:s.status})}),r.jsx(J,{children:r.jsxs(L,{onClick:()=>e(s.id),variant:"outline",size:"sm",className:"h-8 px-2 flex items-center",children:[r.jsx(Ec,{className:"mr-1 h-3 w-3"}),"Resolve"]})})]},s.id))})]})}),Fb=({documents:t})=>{if(!t||t.length===0)return r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(ir,{className:"inline-block mb-2 h-8 w-8 text-blue-500"}),r.jsx("p",{children:"No documents marked for entity creation."})]});const e=t.reduce((s,n)=>{const a=`${n.lookup_type}:${n.lookup_value}`;return s[a]||(s[a]={lookup_type:n.lookup_type,lookup_value:n.lookup_value,count:0,documents:[]}),s[a].count+=1,s[a].documents.push(n),s},{});return r.jsx("div",{className:"border rounded-md overflow-hidden",children:r.jsxs(rt,{children:[r.jsx(ut,{children:r.jsxs(_e,{children:[r.jsx(X,{children:"Entity Type"}),r.jsx(X,{children:"Value"}),r.jsx(X,{className:"w-24",children:"Count"}),r.jsx(X,{className:"w-[180px]",children:"Sample Data"}),r.jsx(X,{className:"w-[100px]",children:"Actions"})]})}),r.jsx(nt,{children:Object.values(e).map((s,n)=>r.jsxs(_e,{children:[r.jsx(J,{className:"font-medium",children:s.lookup_type}),r.jsx(J,{className:"max-w-[180px] truncate",title:s.lookup_value,children:s.lookup_value}),r.jsx(J,{children:r.jsx(Xe,{variant:"secondary",children:s.count})}),r.jsx(J,{children:s.documents[0]&&r.jsx("div",{className:"max-w-[180px] max-h-[100px] overflow-auto text-xs",children:r.jsxs("pre",{className:"whitespace-pre-wrap",children:[JSON.stringify(Object.fromEntries(Object.entries(s.documents[0].data).slice(0,3)),null,1),Object.keys(s.documents[0].data).length>3&&"..."]})})}),r.jsx(J,{children:r.jsxs(L,{variant:"outline",size:"sm",className:"h-8 px-2 flex items-center",children:[r.jsx(ir,{className:"mr-1 h-3 w-3"}),"Create"]})})]},n))})]})})};var Mo="Radio",[Ib,rf]=cs(Mo),[Mb,Lb]=Ib(Mo),nf=u.forwardRef((t,e)=>{const{__scopeRadio:s,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:d,...p}=t,[f,h]=u.useState(null),b=Ue(e,x=>h(x)),g=u.useRef(!1),m=f?d||!!f.closest("form"):!0;return r.jsxs(Mb,{scope:s,checked:a,disabled:o,children:[r.jsx(ye.button,{type:"button",role:"radio","aria-checked":a,"data-state":lf(a),"data-disabled":o?"":void 0,disabled:o,value:l,...p,ref:b,onClick:we(t.onClick,x=>{a||c==null||c(),m&&(g.current=x.isPropagationStopped(),g.current||x.stopPropagation())})}),m&&r.jsx(Vb,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});nf.displayName=Mo;var af="RadioIndicator",of=u.forwardRef((t,e)=>{const{__scopeRadio:s,forceMount:n,...a}=t,i=Lb(af,s);return r.jsx(vr,{present:n||i.checked,children:r.jsx(ye.span,{"data-state":lf(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});of.displayName=af;var Vb=t=>{const{control:e,checked:s,bubbles:n=!0,...a}=t,i=u.useRef(null),o=Qa(s),l=io(e);return u.useEffect(()=>{const c=i.current,d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(o!==s&&f){const h=new Event("click",{bubbles:n});f.call(c,s),c.dispatchEvent(h)}},[o,s,n]),r.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function lf(t){return t?"checked":"unchecked"}var zb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Lo="RadioGroup",[$b,Fj]=cs(Lo,[Pa,rf]),cf=Pa(),df=rf(),[Ub,Bb]=$b(Lo),uf=u.forwardRef((t,e)=>{const{__scopeRadioGroup:s,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:d,loop:p=!0,onValueChange:f,...h}=t,b=cf(s),g=Ra(d),[m,x]=Vr({prop:i,defaultProp:a,onChange:f});return r.jsx(Ub,{scope:s,name:n,required:o,disabled:l,value:m,onValueChange:x,children:r.jsx(vc,{asChild:!0,...b,orientation:c,dir:g,loop:p,children:r.jsx(ye.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:e})})})});uf.displayName=Lo;var pf="RadioGroupItem",ff=u.forwardRef((t,e)=>{const{__scopeRadioGroup:s,disabled:n,...a}=t,i=Bb(pf,s),o=i.disabled||n,l=cf(s),c=df(s),d=u.useRef(null),p=Ue(e,d),f=i.value===a.value,h=u.useRef(!1);return u.useEffect(()=>{const b=m=>{zb.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",g)}},[]),r.jsx(yc,{asChild:!0,...l,focusable:!o,active:f,children:r.jsx(nf,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:p,onCheck:()=>i.onValueChange(a.value),onKeyDown:we(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:we(a.onFocus,()=>{var b;h.current&&((b=d.current)==null||b.click())})})})});ff.displayName=pf;var qb="RadioGroupIndicator",mf=u.forwardRef((t,e)=>{const{__scopeRadioGroup:s,...n}=t,a=df(s);return r.jsx(of,{...a,...n,ref:e})});mf.displayName=qb;var hf=uf,xf=ff,Hb=mf;const gf=u.forwardRef(({className:t,...e},s)=>r.jsx(hf,{className:q("grid gap-2",t),...e,ref:s}));gf.displayName=hf.displayName;const na=u.forwardRef(({className:t,...e},s)=>r.jsx(xf,{ref:s,className:q("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:r.jsx(Hb,{className:"flex items-center justify-center",children:r.jsx(dc,{className:"h-3.5 w-3.5 fill-primary"})})}));na.displayName=xf.displayName;var Vo="Checkbox",[Wb,Ij]=cs(Vo),[Zb,Gb]=Wb(Vo),vf=u.forwardRef((t,e)=>{const{__scopeCheckbox:s,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:d,form:p,...f}=t,[h,b]=u.useState(null),g=Ue(e,R=>b(R)),m=u.useRef(!1),x=h?p||!!h.closest("form"):!0,[w=!1,y]=Vr({prop:a,defaultProp:i,onChange:d}),j=u.useRef(w);return u.useEffect(()=>{const R=h==null?void 0:h.form;if(R){const S=()=>y(j.current);return R.addEventListener("reset",S),()=>R.removeEventListener("reset",S)}},[h,y]),r.jsxs(Zb,{scope:s,state:w,disabled:l,children:[r.jsx(ye.button,{type:"button",role:"checkbox","aria-checked":Ms(w)?"mixed":w,"aria-required":o,"data-state":wf(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onKeyDown:we(t.onKeyDown,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:we(t.onClick,R=>{y(S=>Ms(S)?!0:!S),x&&(m.current=R.isPropagationStopped(),m.current||R.stopPropagation())})}),x&&r.jsx(Kb,{control:h,bubbles:!m.current,name:n,value:c,checked:w,required:o,disabled:l,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Ms(i)?!1:i})]})});vf.displayName=Vo;var yf="CheckboxIndicator",bf=u.forwardRef((t,e)=>{const{__scopeCheckbox:s,forceMount:n,...a}=t,i=Gb(yf,s);return r.jsx(vr,{present:n||Ms(i.state)||i.state===!0,children:r.jsx(ye.span,{"data-state":wf(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});bf.displayName=yf;var Kb=t=>{const{control:e,checked:s,bubbles:n=!0,defaultChecked:a,...i}=t,o=u.useRef(null),l=Qa(s),c=io(e);u.useEffect(()=>{const p=o.current,f=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==s&&b){const g=new Event("click",{bubbles:n});p.indeterminate=Ms(s),b.call(p,Ms(s)?!1:s),p.dispatchEvent(g)}},[l,s,n]);const d=u.useRef(Ms(s)?!1:s);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??d.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ms(t){return t==="indeterminate"}function wf(t){return Ms(t)?"indeterminate":t?"checked":"unchecked"}var jf=vf,Qb=bf;const dn=u.forwardRef(({className:t,...e},s)=>r.jsx(jf,{ref:s,className:q("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:r.jsx(Qb,{className:q("flex items-center justify-center text-current"),children:r.jsx(Us,{className:"h-4 w-4"})})}));dn.displayName=jf.displayName;const Yb=()=>r.jsxs("div",{className:"text-xs text-muted-foreground mt-4 border-t pt-2",children:[r.jsx("h4",{className:"font-medium mb-1",children:"Keyboard Shortcuts:"}),r.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"a"}),r.jsx("span",{className:"ml-1",children:"Accept with value"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"r"}),r.jsx("span",{className:"ml-1",children:"Reject exception"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"c"}),r.jsx("span",{className:"ml-1",children:"Mark for creation"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"←"}),r.jsx("span",{className:"ml-1",children:"Previous exception"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"→"}),r.jsx("span",{className:"ml-1",children:"Next exception"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("kbd",{className:"px-1 bg-muted rounded text-xs",children:"b"}),r.jsx("span",{className:"ml-1",children:"Apply to similar"})]})]})]}),Jb=({isOpen:t,onClose:e,exceptionId:s,onResolved:n})=>{const[a,i]=u.useState([]),[o,l]=u.useState(0),[c,d]=u.useState(!1),[p,f]=u.useState(!1),[h,b]=u.useState(null),[g,m]=u.useState("accept"),[x,w]=u.useState(""),[y,j]=u.useState(!1),[R,S]=u.useState({lookup_type:!0,lookup_field:!0,exception_message:!1});u.useEffect(()=>{t&&P()},[t]),u.useEffect(()=>{if(s&&a.length>0){const N=a.findIndex(Z=>Z.id===s);N!==-1&&l(N)}},[s,a]),u.useEffect(()=>{var N;if(a.length>0){const Z=a[o];w(Z.lookup_value||""),m("accept"),j(!1),(N=Z.potential_matches)!=null&&N.length&&w(String(Z.potential_matches[0].display))}},[o,a]);const P=async()=>{d(!0),b(null);try{const N=await Ke.getLookupExceptions("pending");i(N.exceptions||[]),N.exceptions.length===0&&b("No pending exceptions to resolve")}catch(N){console.error("Error loading exceptions:",N),b(N.message||"Failed to load exceptions")}finally{d(!1)}},D=()=>{o<a.length-1&&l(o+1)},V=()=>{o>0&&l(o-1)},H=async()=>{if(a.length===0)return;const N=a[o];f(!0),b(null);const Z={accept:g==="accept",mark_for_creation:g==="for_creation",lookup_value:g==="accept"?x:void 0,apply_to_similar:y,similarity_criteria:y?R:void 0};try{const C=await Ke.resolveLookupException(N.id,Z);C.status==="success"?(i(se=>se.filter(oe=>oe.id!==N.id)),C.affected_count>1?qe({title:"Exceptions Resolved",description:`Successfully resolved ${C.affected_count} similar exceptions`,duration:3e3}):qe({title:"Exception Resolved",description:"Successfully resolved the exception",duration:2e3}),n(),o>=a.length-1&&(a.length<=1?e():l(a.length-2))):b(C.message)}catch(C){console.error("Error resolving exception:",C),b(C.message||"Failed to resolve exception")}finally{f(!1)}},ee=u.useCallback(N=>{var Z;if(t&&!(N.target instanceof HTMLInputElement||N.target instanceof HTMLTextAreaElement))switch(N.key){case"ArrowRight":D();break;case"ArrowLeft":V();break;case"a":m("accept"),(Z=document.getElementById("lookup-value"))==null||Z.focus();break;case"r":m("reject"),H();break;case"c":m("for_creation"),H();break;case"b":j(!y);break}},[t,D,V,g,y,H]);u.useEffect(()=>(window.addEventListener("keydown",ee),()=>{window.removeEventListener("keydown",ee)}),[ee]);const M=a[o];return r.jsx(qr,{open:t,onOpenChange:N=>!N&&e(),children:r.jsxs(fr,{className:"max-w-4xl h-[80vh] flex flex-col",children:[r.jsxs(mr,{children:[r.jsxs(hr,{children:["Exception Resolution ",a.length>0&&`(${o+1}/${a.length})`]}),r.jsx(xr,{children:"Resolve lookup exceptions quickly with the tools below"})]}),c?r.jsxs("div",{className:"flex-1 flex items-center justify-center",children:[r.jsx(vt,{size:"lg"}),r.jsx("span",{className:"ml-2",children:"Loading exceptions..."})]}):h&&a.length===0?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[r.jsx(On,{className:"h-12 w-12 text-amber-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Exceptions to Resolve"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:h}),r.jsx(L,{onClick:e,children:"Close"})]}):a.length===0?r.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[r.jsx(is,{className:"h-12 w-12 text-green-500 mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"All Exceptions Resolved"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Great job! There are no more exceptions to resolve."}),r.jsx(L,{onClick:e,children:"Close"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-4 overflow-hidden",children:[r.jsxs("div",{className:"w-full md:w-1/2 bg-muted/30 rounded-md p-4 overflow-y-auto",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Document Data"}),r.jsx("div",{className:"space-y-2",children:M&&Object.entries(M.data||{}).map(([N,Z])=>r.jsxs("div",{className:"grid grid-cols-2 text-sm",children:[r.jsx("span",{className:"font-medium",children:N}),r.jsx("span",{children:String(Z)})]},N))})]}),r.jsxs("div",{className:"w-full md:w-1/2 flex flex-col overflow-hidden",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Exception Details"}),M&&r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-2",children:[r.jsx("span",{className:"font-medium",children:"Exception ID"}),r.jsx("span",{children:M.id})]}),r.jsxs("div",{className:"grid grid-cols-2",children:[r.jsx("span",{className:"font-medium",children:"Lookup Type"}),r.jsx("span",{children:M.lookup_type})]}),r.jsxs("div",{className:"grid grid-cols-2",children:[r.jsx("span",{className:"font-medium",children:"Lookup Field"}),r.jsx("span",{children:M.lookup_field})]}),r.jsxs("div",{className:"grid grid-cols-2",children:[r.jsx("span",{className:"font-medium",children:"Lookup Value"}),r.jsx("span",{children:M.lookup_value})]}),r.jsxs("div",{className:"grid grid-cols-2",children:[r.jsx("span",{className:"font-medium",children:"Error"}),r.jsx("span",{className:"text-red-500",children:M.exception_message})]})]})]}),M&&M.potential_matches&&M.potential_matches.length>0&&r.jsxs("div",{className:"mb-4",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Potential Matches"}),r.jsx("div",{className:"space-y-2",children:M.potential_matches.map((N,Z)=>r.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-md cursor-pointer hover:bg-muted/50",onClick:()=>{m("accept"),w(String(N.display))},children:[r.jsx("span",{children:N.display}),N.score&&r.jsxs(Xe,{variant:"outline",children:[Math.round(N.score*100),"%"]})]},Z))})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto",children:[r.jsx("h3",{className:"text-sm font-medium mb-2",children:"Resolve Exception"}),r.jsxs(gf,{value:g,onValueChange:N=>m(N),className:"mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(na,{value:"accept",id:"accept"}),r.jsx(Ye,{htmlFor:"accept",className:"cursor-pointer",children:"Accept with value"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(na,{value:"reject",id:"reject"}),r.jsx(Ye,{htmlFor:"reject",className:"cursor-pointer",children:"Reject"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(na,{value:"for_creation",id:"for_creation"}),r.jsx(Ye,{htmlFor:"for_creation",className:"cursor-pointer",children:"Mark for entity creation"})]})]}),g==="accept"&&r.jsxs("div",{className:"mb-4",children:[r.jsx(Ye,{htmlFor:"lookup-value",children:"Lookup Value"}),r.jsx(Je,{id:"lookup-value",value:x,onChange:N=>w(N.target.value),placeholder:"Enter lookup value",className:"mt-1",autoFocus:!0})]}),r.jsxs("div",{className:"space-y-2 border-t pt-3 mt-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{id:"apply-to-similar",checked:y,onCheckedChange:N=>j(!!N)}),r.jsx(Ye,{htmlFor:"apply-to-similar",className:"cursor-pointer",children:"Apply to similar exceptions"})]}),y&&r.jsxs("div",{className:"pl-6 space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{id:"similarity-type",checked:R.lookup_type,onCheckedChange:N=>S({...R,lookup_type:!!N})}),r.jsx(Ye,{htmlFor:"similarity-type",className:"cursor-pointer",children:"Same lookup type"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{id:"similarity-field",checked:R.lookup_field,onCheckedChange:N=>S({...R,lookup_field:!!N})}),r.jsx(Ye,{htmlFor:"similarity-field",className:"cursor-pointer",children:"Same lookup field"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(dn,{id:"similarity-message",checked:R.exception_message,onCheckedChange:N=>S({...R,exception_message:!!N})}),r.jsx(Ye,{htmlFor:"similarity-message",className:"cursor-pointer",children:"Same exception message"})]})]})]}),r.jsx(Yb,{})]})]})]}),h&&r.jsx("div",{className:"text-sm text-red-500 mt-2 mb-2",children:h}),r.jsxs(Hr,{className:"flex items-center justify-between space-x-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L,{variant:"outline",size:"icon",onClick:V,disabled:o<=0,children:r.jsx(yi,{className:"h-4 w-4"})}),r.jsxs("span",{className:"text-sm text-muted-foreground",children:[o+1," of ",a.length]}),r.jsx(L,{variant:"outline",size:"icon",onClick:D,disabled:o>=a.length-1,children:r.jsx(Ji,{className:"h-4 w-4"})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(L,{variant:"outline",onClick:e,children:"Cancel"}),r.jsx(L,{onClick:H,disabled:p||g==="accept"&&!x.trim(),children:p?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4"}),"Resolving..."]}):r.jsxs(r.Fragment,{children:[g==="accept"&&r.jsx(is,{className:"mr-2 h-4 w-4"}),g==="reject"&&r.jsx(Cc,{className:"mr-2 h-4 w-4"}),g==="for_creation"&&r.jsx(ir,{className:"mr-2 h-4 w-4"}),g==="accept"?"Accept":g==="reject"?"Reject":"Mark for Creation"]})})]})]})]})]})})},Zn=({title:t,value:e,icon:s,color:n="default"})=>{const a={default:"bg-card",green:"bg-green-50 border-green-200 text-green-800",amber:"bg-amber-50 border-amber-200 text-amber-800",blue:"bg-blue-50 border-blue-200 text-blue-800",red:"bg-red-50 border-red-200 text-red-800"};return r.jsxs("div",{className:`flex items-center p-4 border rounded-lg ${a[n]}`,children:[r.jsx("div",{className:"mr-4",children:s}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium",children:t}),r.jsx("div",{className:"text-2xl font-bold",children:e})]})]})},Xb=({onComplete:t})=>{const e=_t(),[s,n]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState(null),[p,f]=u.useState(null),[h,b]=u.useState({total:0,resolved:0,exceptions:0,forCreation:0}),[g,m]=u.useState([]),[x,w]=u.useState([]),[y,j]=u.useState([]),[R,S]=u.useState([]);u.useEffect(()=>{P()},[]);const P=async()=>{try{const C=await Ke.getLookupExceptions();j(C.exceptions),b({total:C.total,resolved:C.resolved,exceptions:C.pending,forCreation:C.for_creation}),m(C.exceptions);const se=C.exceptions.filter(xe=>xe.status==="accepted"||xe.status==="rejected");w(se);const oe=C.exceptions.filter(xe=>xe.status==="for_creation");S(oe)}catch(C){console.error("Error fetching lookup status:",C),d("Failed to load lookup status. Please try again.")}},D=async()=>{n(!0),d(null);try{const C=await Ke.resolveLookups();f(C),C.status==="success"?(b({total:C.records_processed,resolved:C.successful_lookups,exceptions:C.exceptions,forCreation:C.for_creation}),await P()):d(C.message)}catch(C){console.error("Error resolving lookups:",C),d(C.message||"Failed to resolve lookups. Please try again.")}finally{n(!1)}},V=()=>{l(null),i(!0)},H=C=>{l(C),i(!0)},ee=async()=>{await P()},M=()=>{e("/workflow/pdf")},N=()=>{h.forCreation>0?e("/workflow/entity-creation"):e("/workflow/sync"),t({success:!0,command:"resolve_lookups",result:{status:"success",message:"Lookup resolution completed"}})},Z=h.exceptions===0;return r.jsxs(r.Fragment,{children:[r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Lookup Resolution"}),r.jsx(We,{children:"Match documents to external data sources"})]}),r.jsxs(Te,{children:[c&&r.jsxs(Fe,{variant:"destructive",className:"mb-6",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(Ie,{children:c})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r.jsx(Zn,{title:"Total Documents",value:h.total,icon:r.jsx(Zt,{className:"h-5 w-5"})}),r.jsx(Zn,{title:"Resolved",value:h.resolved,icon:r.jsx(is,{className:"h-5 w-5 text-green-600"}),color:"green"}),r.jsx(Zn,{title:"Exceptions",value:h.exceptions,icon:r.jsx(On,{className:"h-5 w-5 text-amber-600"}),color:"amber"}),r.jsx(Zn,{title:"For Creation",value:h.forCreation,icon:r.jsx(ir,{className:"h-5 w-5 text-blue-600"}),color:"blue"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[r.jsx(L,{onClick:D,disabled:s||h.total===0,children:s?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4"}),"Resolving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(fm,{className:"mr-2 h-4 w-4"}),"Resolve Lookups"]})}),r.jsxs(L,{variant:"outline",onClick:P,disabled:s,children:[r.jsx(mm,{className:"mr-2 h-4 w-4"}),"Refresh Status"]}),h.exceptions>0&&r.jsxs(L,{variant:"outline",onClick:V,children:[r.jsx(Ec,{className:"mr-2 h-4 w-4"}),"Resolve Exceptions"]})]}),r.jsxs(zn,{defaultValue:"all",children:[r.jsxs(Qr,{children:[r.jsxs(ct,{value:"all",children:["All Documents (",h.total,")"]}),r.jsxs(ct,{value:"resolved",children:["Resolved (",h.resolved,")"]}),r.jsxs(ct,{value:"exceptions",children:["Exceptions (",h.exceptions,")"]}),r.jsxs(ct,{value:"creation",children:["For Creation (",h.forCreation,")"]})]}),r.jsx(dt,{value:"all",children:r.jsx(Fl,{documents:g})}),r.jsx(dt,{value:"resolved",children:r.jsx(Fl,{documents:x})}),r.jsx(dt,{value:"exceptions",children:r.jsx(Ob,{exceptions:y,onResolve:H})}),r.jsx(dt,{value:"creation",children:r.jsx(Fb,{documents:R})})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:M,children:"Back"}),r.jsx(L,{onClick:N,disabled:!Z,children:h.forCreation>0?"Next: Entity Creation":"Next: Data Sync"})]})]}),r.jsx(Jb,{isOpen:a,onClose:()=>i(!1),exceptionId:o,onResolved:ee})]})},ew=({onComplete:t})=>{const e=_t(),[s,n]=u.useState(!0),[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState({entities:[],total:0}),[p,f]=u.useState(null),[h,b]=u.useState({entity_type:"",name:"",properties:{}});u.useEffect(()=>{g()},[]);const g=async()=>{n(!0),l(null);try{const S=await Ke.getEntitiesForCreation();d(S),S.entities.length>0&&m(0)}catch(S){console.error("Error loading entities for creation:",S),l(S.message||"Failed to load entities for creation")}finally{n(!1)}},m=S=>{if(S>=0&&S<c.entities.length){f(S);const P=c.entities[S];b({entity_type:P.entity_type,name:P.lookup_value,properties:{...P.sample_data}})}},x=(S,P)=>{b(S==="name"?{...h,name:P}:{...h,properties:{...h.properties,[S]:P}})},w=async()=>{if(p!==null){i(!0),l(null);try{const S=await Ke.createEntity(h);if(S.status==="success"){qe({title:"Entity Created",description:`Successfully created ${h.entity_type} entity: ${h.name}`,duration:3e3});const P=[...c.entities];P.splice(p,1),d({entities:P,total:P.length}),P.length>0?m(p<P.length?p:0):f(null)}else l(S.message)}catch(S){console.error("Error creating entity:",S),l(S.message||"Failed to create entity")}finally{i(!1)}}},y=async()=>{qe({title:"Batch Creation",description:"Batch entity creation feature is coming soon",duration:3e3})},j=()=>{e("/workflow/lookups")},R=()=>{e("/workflow/sync"),t({success:!0,command:"entity_creation",result:{status:"success",message:"Entity creation completed"}})};return s?r.jsx(Ae,{children:r.jsx(Te,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-center py-8",children:[r.jsx(vt,{size:"lg"}),r.jsx("span",{className:"ml-2",children:"Loading entities for creation..."})]})})}):r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Entity Creation"}),r.jsx(We,{children:"Create missing entities from lookup exceptions"})]}),r.jsxs(Te,{children:[o&&r.jsxs(Fe,{variant:"destructive",className:"mb-6",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(Ie,{children:o})]}),c.entities.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(is,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Entities to Create"}),r.jsx("p",{className:"text-muted-foreground",children:"There are no entities marked for creation. You can proceed to the next step."})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"md:col-span-1 border rounded-md overflow-hidden",children:[r.jsx("div",{className:"bg-muted p-3 border-b",children:r.jsxs("h3",{className:"font-medium",children:["Entities for Creation (",c.total,")"]})}),r.jsx("div",{className:"overflow-auto max-h-[400px]",children:r.jsx(rt,{children:r.jsx(nt,{children:c.entities.map((S,P)=>r.jsxs(_e,{className:p===P?"bg-muted":"",onClick:()=>m(P),children:[r.jsxs(J,{children:[r.jsx("div",{className:"font-medium",children:S.lookup_value}),r.jsx("div",{className:"text-xs text-muted-foreground",children:S.entity_type})]}),r.jsx(J,{className:"text-right",children:r.jsx(Xe,{children:S.exception_count})})]},P))})})}),r.jsx("div",{className:"p-3 border-t",children:r.jsxs(L,{variant:"outline",className:"w-full",onClick:y,children:[r.jsx(ji,{className:"mr-2 h-4 w-4"}),"Create All"]})})]}),r.jsx("div",{className:"md:col-span-2 border rounded-md overflow-hidden",children:p!==null?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-muted p-3 border-b",children:r.jsxs("h3",{className:"font-medium",children:["Create ",h.entity_type,": ",h.name]})}),r.jsxs("div",{className:"p-4 space-y-4 overflow-auto max-h-[400px]",children:[r.jsxs("div",{children:[r.jsx(Ye,{htmlFor:"entity-name",children:"Entity Name"}),r.jsx(Je,{id:"entity-name",value:h.name,onChange:S=>x("name",S.target.value),className:"mt-1"})]}),r.jsxs("div",{className:"border-t pt-3",children:[r.jsx("h4",{className:"text-sm font-medium mb-2",children:"Properties"}),r.jsx("div",{className:"space-y-3",children:Object.entries(h.properties).map(([S,P])=>r.jsxs("div",{children:[r.jsx(Ye,{htmlFor:`property-${S}`,children:S}),r.jsx(Je,{id:`property-${S}`,value:P,onChange:D=>x(S,D.target.value),className:"mt-1"})]},S))})]})]}),r.jsx("div",{className:"p-3 border-t flex justify-end",children:r.jsx(L,{onClick:w,disabled:a||!h.name.trim(),children:a?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(is,{className:"mr-2 h-4 w-4"}),"Create Entity"]})})})]}):r.jsx("div",{className:"flex items-center justify-center py-12 px-4 text-center",children:r.jsxs("div",{children:[r.jsx(Zt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Entity Selected"}),r.jsx("p",{className:"text-muted-foreground",children:"Select an entity from the list to create it."})]})})})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:j,children:"Back"}),r.jsx(L,{onClick:R,children:"Next: Data Sync"})]})]})},tw=({onComplete:t})=>{const e=_t(),[s,n]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState(null),p=async()=>{n(!0),l(null);try{const b=await Ke.syncToTenantDb();d(b),b.success?(i(!0),qe({title:"Sync Complete",description:"Successfully synced to tenant database",duration:3e3})):l(b.error||"Failed to sync to tenant database")}catch(b){console.error("Error syncing to tenant database:",b),l(b.message||"Failed to sync to tenant database")}finally{n(!1)}},f=()=>{e("/workflow/entity-creation")},h=()=>{e("/workflow/storage"),t({success:!0,command:"sync_tenant_db",result:c||{status:"success",message:"Sync to tenant database completed"}})};return r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Data Sync"}),r.jsx(We,{children:"Sync processed documents to tenant database"})]}),r.jsxs(Te,{children:[o&&r.jsxs(Fe,{variant:"destructive",className:"mb-6",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(Ie,{children:o})]}),r.jsx("div",{className:"text-center py-12",children:a?r.jsxs(r.Fragment,{children:[r.jsx(is,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sync Complete"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All documents have been successfully synced to the tenant database."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ji,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sync to Tenant Database"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"This step will synchronize all processed documents to the tenant database. This includes all generated documents, lookups, and entity relationships."}),r.jsx(L,{onClick:p,disabled:s,size:"lg",className:"mx-auto",children:s?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4"}),"Syncing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ji,{className:"mr-2 h-4 w-4"}),"Sync to Database"]})})]})})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:f,children:"Back"}),r.jsx(L,{onClick:h,disabled:!a,children:"Next: Storage"})]})]})},sw=({onComplete:t})=>{const e=_t(),[s,n]=u.useState(!1),[a,i]=u.useState(!1),[o,l]=u.useState(null),[c,d]=u.useState(null),[p,f]=u.useState(0),h=()=>{f(0);const x=setInterval(()=>{f(w=>{const y=w+Math.random()*10;return y>=100?(clearInterval(x),100):y})},300);return x},b=async()=>{n(!0),l(null);const x=h();try{const w=await Ke.transferToS3();d(w),f(100),w.success?(i(!0),qe({title:"Transfer Complete",description:"Successfully transferred to S3 storage",duration:3e3})):l(w.error||"Failed to transfer to S3 storage")}catch(w){console.error("Error transferring to S3 storage:",w),l(w.message||"Failed to transfer to S3 storage")}finally{n(!1),clearInterval(x)}},g=()=>{e("/workflow/sync")},m=()=>{e("/workflow/complete"),t({success:!0,command:"transfer_to_s3",result:c||{status:"success",message:"Transfer to S3 storage completed"}})};return r.jsxs(Ae,{children:[r.jsxs(De,{children:[r.jsx(Oe,{children:"Storage"}),r.jsx(We,{children:"Transfer documents and logs to S3 storage"})]}),r.jsxs(Te,{children:[o&&r.jsxs(Fe,{variant:"destructive",className:"mb-6",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(Ie,{children:o})]}),r.jsx("div",{className:"text-center py-12",children:a?r.jsxs(r.Fragment,{children:[r.jsx(is,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Transfer Complete"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"All documents and logs have been successfully transferred to S3 storage."})]}):r.jsxs(r.Fragment,{children:[r.jsx(hm,{className:"h-16 w-16 text-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium mb-2",children:"Transfer to S3 Storage"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"This step will transfer all generated documents, logs, and session data to S3 storage for long-term archival and access."}),s&&r.jsx("div",{className:"w-full max-w-md mx-auto mb-4",children:r.jsxs("div",{className:"relative pt-1",children:[r.jsxs("div",{className:"text-right mb-1 text-xs text-muted-foreground",children:[Math.round(p),"%"]}),r.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-muted",children:r.jsx("div",{style:{width:`${p}%`},className:"shadow-none flex flex-col text-center whitespace-nowrap justify-center bg-blue-500"})})]})}),r.jsx(L,{onClick:b,disabled:s,size:"lg",className:"mx-auto",children:s?r.jsxs(r.Fragment,{children:[r.jsx(vt,{className:"mr-2 h-4 w-4"}),"Transferring..."]}):r.jsxs(r.Fragment,{children:[r.jsx(xm,{className:"mr-2 h-4 w-4"}),"Transfer to S3"]})})]})})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:g,children:"Back"}),r.jsx(L,{onClick:m,disabled:!a,children:"Next: Complete"})]})]})},rw=()=>{const t=_t(),[e]=vm(),s=e.get("session"),[n,a]=u.useState(1),[i,o]=u.useState(!0),[l,c]=u.useState(null),[d,p]=u.useState(null),[f,h]=u.useState({});u.useEffect(()=>{let x=!0;if(!s){console.error("WorkflowPage: No session hash provided in URL."),x&&(c("No processing session specified. Please start by uploading a file or select a session."),o(!1));return}return(async()=>{var y;if(x){o(!0),c(null);try{console.log(`WorkflowPage: Activating session: ${s}`);const j=await cr.activateSession(s);if(!x)return;if(!j.success||!((y=j.result)!=null&&y.status))throw new Error(j.error||`Failed to activate session ${s}. Status missing.`);console.log("WorkflowPage: Session activated:",j.result);const R=j.result.status;if(console.log("WorkflowPage: Fetched status:",R),p(R),console.log("active session",R.active_session),console.log("Session hash",R.session_hash),console.log("This session hash",s),!R.active_session||R.session_hash!==s)throw new Error(`Session ${s} is not the active session after activation attempt.`);const S=R.last_operation;console.log(`WorkflowPage: Determining step from last_operation: "${S}"`);const P={IMPORT_DATA:1,VALIDATE_DATA:2,GENERATE_MAPPING:2,UPDATE_MAPPING:2,DELETE_MAPPING:1,GENERATE_HTML:3,GENERATE_PDF:4,REPORT_GENERATED:4,RESOLVE_LOOKUPS:5,ENTITY_CREATION:6,SYNC_TENANT_DB:7,TRANSFER_TO_S3:8};let D=1;if(S&&S!=="ACTIVATE_SESSION")P[S]!==void 0?(D=P[S],console.log(`WorkflowPage: Mapped "${S}" to next step: ${D}`)):(console.warn(`WorkflowPage: Unknown last_operation: "${S}". Defaulting to step 1 (Validate).`),D=1);else if(S==="ACTIVATE_SESSION"){const V=j.result.last_operation;console.log(`WorkflowPage: Activation detected. Prior operation was: "${V}"`),V&&P[V]!==void 0?(D=P[V],console.log(`WorkflowPage: Based on prior op, mapped to next step: ${D}`)):(console.warn("WorkflowPage: No valid prior operation found after activation. Defaulting to step 1."),D=1)}else console.log("WorkflowPage: No last_operation found. Starting at step 1 (Validate)."),D=1;S==="TRANSFER_TO_S3"&&(D=8),x&&a(D)}catch(j){console.error("WorkflowPage: Error activating or fetching status:",j),x&&c(j.message||"Failed to load workflow status. Please ensure the session exists and try again.")}finally{x&&o(!1)}}})(),()=>{x=!1,console.log("WorkflowPage: Unmounting...")}},[s]);const b=(x,w)=>{console.log(`WorkflowPage: Step ${x} completed:`,w),h(j=>({...j,[x]:w})),p(j=>({...j,last_operation:w.command.toUpperCase()}));const y=x+1;a(j=>Math.min(y,8))},g=x=>{const w=x+1;console.log(`WorkflowPage: Navigating to step ${w}`),a(w)},m=()=>{var x;switch((x=f[1])==null||x.result,n){case 1:return r.jsx(Ab,{onComplete:w=>b(1,w)});case 2:return r.jsx(Tb,{sessionHash:s,onComplete:w=>b(2,w)});case 3:return r.jsx(Rb,{onComplete:w=>b(3,w)});case 4:return r.jsx(Xb,{onComplete:w=>b(4,w)});case 5:return r.jsx(ew,{onComplete:w=>b(5,w)});case 6:return r.jsx(tw,{onComplete:w=>b(6,w)});case 7:return r.jsx(sw,{onComplete:w=>b(7,w)});case 8:return r.jsxs("div",{className:"text-center py-12",children:[r.jsx(is,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold",children:"Processing Complete!"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"All workflow steps for this session have been successfully completed."}),r.jsx(L,{onClick:()=>t(`/app/sessions/${s}`),className:"mt-6",children:"View Session Details & Logs"})]});default:return console.error(`WorkflowPage: Invalid activeStep reached: ${n}`),r.jsxs(Fe,{variant:"warning",children:[r.jsx(On,{className:"h-4 w-4"}),r.jsx(tt,{children:"Invalid Workflow State"}),r.jsxs(Ie,{children:["Cannot determine the current workflow step (",n,"). An unexpected state was reached.",r.jsx(L,{variant:"link",onClick:()=>t("/app/dashboard"),className:"p-0 h-auto",children:"Go to Dashboard"}),s&&r.jsx(L,{variant:"link",onClick:()=>t(`/app/sessions/${s}`),className:"p-0 h-auto ml-2",children:"View Session"})]})]})}};return i?r.jsxs("div",{className:"flex h-[calc(100vh-12rem)] items-center justify-center",children:[r.jsx(vt,{size:"lg"}),r.jsx("span",{className:"ml-3 text-muted-foreground",children:"Loading session workflow..."})]}):l?r.jsxs(Fe,{variant:"destructive",className:"max-w-3xl mx-auto mt-8",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error Loading Workflow"}),r.jsx(Ie,{children:l}),r.jsxs("div",{className:"mt-4 flex gap-2",children:[r.jsx(L,{variant:"outline",size:"sm",onClick:()=>t("/app/workflow/upload"),children:"Start New Session"}),r.jsx(L,{variant:"outline",size:"sm",onClick:()=>t("/app/dashboard"),children:"Go to Dashboard"})]})]}):r.jsxs("div",{className:"space-y-8",children:[r.jsx("a",{href:"app/",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Document Processing Workflow"}),r.jsxs("p",{className:"text-muted-foreground mt-2",children:["Session: ",r.jsxs("span",{className:"font-mono text-xs",children:[s==null?void 0:s.substring(0,16),"..."]}),(d==null?void 0:d.document_type)&&r.jsx(Xe,{variant:"secondary",className:"ml-2",children:d.document_type}),(d==null?void 0:d.last_operation)&&r.jsxs(Xe,{variant:"outline",className:"ml-2",children:["Last Op: ",d.last_operation]})]})]})}),r.jsx(wb,{activeStep:n-1,onStepClick:g}),r.jsx("div",{className:"mt-8",children:m()})]})},Il=({requireAdmin:t=!1})=>{const{isAuthenticated:e,user:s,loading:n}=br();return n?r.jsx("div",{className:"flex h-screen items-center justify-center",children:r.jsx(vt,{size:"lg"})}):e?t&&(s==null?void 0:s.role)!=="admin"?r.jsx(ia,{to:"/",replace:!0}):r.jsx(Ac,{}):r.jsx(ia,{to:"/login",replace:!0})};var _f={exports:{}},nw="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aw=nw,iw=aw;function Sf(){}function Nf(){}Nf.resetWarningCache=Sf;var ow=function(){function t(n,a,i,o,l,c){if(c!==iw){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Nf,resetWarningCache:Sf};return s.PropTypes=s,s};_f.exports=ow();var lw=_f.exports;const Ee=ym(lw),cw=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Wr(t,e,s){const n=dw(t),{webkitRelativePath:a}=t,i=typeof e=="string"?e:typeof a=="string"&&a.length>0?a:`./${t.name}`;return typeof n.path!="string"&&Ml(n,"path",i),Ml(n,"relativePath",i),n}function dw(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const n=e.split(".").pop().toLowerCase(),a=cw.get(n);a&&Object.defineProperty(t,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return t}function Ml(t,e,s){Object.defineProperty(t,e,{value:s,writable:!1,configurable:!1,enumerable:!0})}const uw=[".DS_Store","Thumbs.db"];function pw(t){return yr(this,void 0,void 0,function*(){return Ea(t)&&fw(t.dataTransfer)?gw(t.dataTransfer,t.type):mw(t)?hw(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?xw(t):[]})}function fw(t){return Ea(t)}function mw(t){return Ea(t)&&Ea(t.target)}function Ea(t){return typeof t=="object"&&t!==null}function hw(t){return Wi(t.target.files).map(e=>Wr(e))}function xw(t){return yr(this,void 0,void 0,function*(){return(yield Promise.all(t.map(s=>s.getFile()))).map(s=>Wr(s))})}function gw(t,e){return yr(this,void 0,void 0,function*(){if(t.items){const s=Wi(t.items).filter(a=>a.kind==="file");if(e!=="drop")return s;const n=yield Promise.all(s.map(vw));return Ll(kf(n))}return Ll(Wi(t.files).map(s=>Wr(s)))})}function Ll(t){return t.filter(e=>uw.indexOf(e.name)===-1)}function Wi(t){if(t===null)return[];const e=[];for(let s=0;s<t.length;s++){const n=t[s];e.push(n)}return e}function vw(t){if(typeof t.webkitGetAsEntry!="function")return Vl(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?Cf(e):Vl(t,e)}function kf(t){return t.reduce((e,s)=>[...e,...Array.isArray(s)?kf(s):[s]],[])}function Vl(t,e){return yr(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const i=yield t.getAsFileSystemHandle();if(i===null)throw new Error(`${t} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Wr(o)}}const n=t.getAsFile();if(!n)throw new Error(`${t} is not a File`);return Wr(n,(s=e==null?void 0:e.fullPath)!==null&&s!==void 0?s:void 0)})}function yw(t){return yr(this,void 0,void 0,function*(){return t.isDirectory?Cf(t):bw(t)})}function Cf(t){const e=t.createReader();return new Promise((s,n)=>{const a=[];function i(){e.readEntries(o=>yr(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(yw));a.push(l),i()}else try{const l=yield Promise.all(a);s(l)}catch(l){n(l)}}),o=>{n(o)})}i()})}function bw(t){return yr(this,void 0,void 0,function*(){return new Promise((e,s)=>{t.file(n=>{const a=Wr(n,t.fullPath);e(a)},n=>{s(n)})})})}var xi=function(t,e){if(t&&e){var s=Array.isArray(e)?e:e.split(",");if(s.length===0)return!0;var n=t.name||"",a=(t.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return s.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?n.toLowerCase().endsWith(l):l.endsWith("/*")?i===l.replace(/\/.*$/,""):a===l})}return!0};function zl(t){return _w(t)||jw(t)||Af(t)||ww()}function ww(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _w(t){if(Array.isArray(t))return Zi(t)}function $l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Ul(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?$l(Object(s),!0).forEach(function(n){Ef(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):$l(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ef(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Rn(t,e){return kw(t)||Nw(t,e)||Af(t,e)||Sw()}function Sw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Af(t,e){if(t){if(typeof t=="string")return Zi(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Zi(t,e)}}function Zi(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function Nw(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n=[],a=!0,i=!1,o,l;try{for(s=s.call(t);!(a=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function kw(t){if(Array.isArray(t))return t}var Cw=typeof xi=="function"?xi:xi.default,Ew="file-invalid-type",Aw="file-too-large",Tw="file-too-small",Rw="too-many-files",Pw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=e.split(","),n=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:Ew,message:"File type must be ".concat(n)}},Bl=function(e){return{code:Aw,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},ql=function(e){return{code:Tw,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Dw={code:Rw,message:"Too many files"};function Tf(t,e){var s=t.type==="application/x-moz-file"||Cw(t,e);return[s,s?null:Pw(e)]}function Rf(t,e,s){if(Qs(t.size))if(Qs(e)&&Qs(s)){if(t.size>s)return[!1,Bl(s)];if(t.size<e)return[!1,ql(e)]}else{if(Qs(e)&&t.size<e)return[!1,ql(e)];if(Qs(s)&&t.size>s)return[!1,Bl(s)]}return[!0,null]}function Qs(t){return t!=null}function Ow(t){var e=t.files,s=t.accept,n=t.minSize,a=t.maxSize,i=t.multiple,o=t.maxFiles,l=t.validator;return!i&&e.length>1||i&&o>=1&&e.length>o?!1:e.every(function(c){var d=Tf(c,s),p=Rn(d,1),f=p[0],h=Rf(c,n,a),b=Rn(h,1),g=b[0],m=l?l(c):null;return f&&g&&!m})}function Aa(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Gn(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Hl(t){t.preventDefault()}function Fw(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Iw(t){return t.indexOf("Edge/")!==-1}function Mw(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Fw(t)||Iw(t)}function Xt(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return e.some(function(l){return!Aa(n)&&l&&l.apply(void 0,[n].concat(i)),Aa(n)})}}function Lw(){return"showOpenFilePicker"in window}function Vw(t){if(Qs(t)){var e=Object.entries(t).filter(function(s){var n=Rn(s,2),a=n[0],i=n[1],o=!0;return Pf(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(Df))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(s,n){var a=Rn(n,2),i=a[0],o=a[1];return Ul(Ul({},s),{},Ef({},i,o))},{});return[{description:"Files",accept:e}]}return t}function zw(t){if(Qs(t))return Object.entries(t).reduce(function(e,s){var n=Rn(s,2),a=n[0],i=n[1];return[].concat(zl(e),[a],zl(i))},[]).filter(function(e){return Pf(e)||Df(e)}).join(",")}function $w(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Uw(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Pf(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function Df(t){return/^.*\.[\w]+$/.test(t)}var Bw=["children"],qw=["open"],Hw=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ww=["refKey","onChange","onClick"];function Zw(t){return Qw(t)||Kw(t)||Of(t)||Gw()}function Gw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kw(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qw(t){if(Array.isArray(t))return Gi(t)}function gi(t,e){return Xw(t)||Jw(t,e)||Of(t,e)||Yw()}function Yw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Of(t,e){if(t){if(typeof t=="string")return Gi(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);if(s==="Object"&&t.constructor&&(s=t.constructor.name),s==="Map"||s==="Set")return Array.from(t);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Gi(t,e)}}function Gi(t,e){(e==null||e>t.length)&&(e=t.length);for(var s=0,n=new Array(e);s<e;s++)n[s]=t[s];return n}function Jw(t,e){var s=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(s!=null){var n=[],a=!0,i=!1,o,l;try{for(s=s.call(t);!(a=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(c){i=!0,l=c}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw l}}return n}}function Xw(t){if(Array.isArray(t))return t}function Wl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),s.push.apply(s,n)}return s}function Le(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Wl(Object(s),!0).forEach(function(n){Ki(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Wl(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ki(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Ta(t,e){if(t==null)return{};var s=ej(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ej(t,e){if(t==null)return{};var s={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(s[a]=t[a]);return s}var zo=u.forwardRef(function(t,e){var s=t.children,n=Ta(t,Bw),a=If(n),i=a.open,o=Ta(a,qw);return u.useImperativeHandle(e,function(){return{open:i}},[i]),Se.createElement(u.Fragment,null,s(Le(Le({},o),{},{open:i})))});zo.displayName="Dropzone";var Ff={disabled:!1,getFilesFromEvent:pw,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};zo.defaultProps=Ff;zo.propTypes={children:Ee.func,accept:Ee.objectOf(Ee.arrayOf(Ee.string)),multiple:Ee.bool,preventDropOnDocument:Ee.bool,noClick:Ee.bool,noKeyboard:Ee.bool,noDrag:Ee.bool,noDragEventsBubbling:Ee.bool,minSize:Ee.number,maxSize:Ee.number,maxFiles:Ee.number,disabled:Ee.bool,getFilesFromEvent:Ee.func,onFileDialogCancel:Ee.func,onFileDialogOpen:Ee.func,useFsAccessApi:Ee.bool,autoFocus:Ee.bool,onDragEnter:Ee.func,onDragLeave:Ee.func,onDragOver:Ee.func,onDrop:Ee.func,onDropAccepted:Ee.func,onDropRejected:Ee.func,onError:Ee.func,validator:Ee.func};var Qi={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function If(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Le(Le({},Ff),t),s=e.accept,n=e.disabled,a=e.getFilesFromEvent,i=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,p=e.onDragLeave,f=e.onDragOver,h=e.onDrop,b=e.onDropAccepted,g=e.onDropRejected,m=e.onFileDialogCancel,x=e.onFileDialogOpen,w=e.useFsAccessApi,y=e.autoFocus,j=e.preventDropOnDocument,R=e.noClick,S=e.noKeyboard,P=e.noDrag,D=e.noDragEventsBubbling,V=e.onError,H=e.validator,ee=u.useMemo(function(){return zw(s)},[s]),M=u.useMemo(function(){return Vw(s)},[s]),N=u.useMemo(function(){return typeof x=="function"?x:Zl},[x]),Z=u.useMemo(function(){return typeof m=="function"?m:Zl},[m]),C=u.useRef(null),se=u.useRef(null),oe=u.useReducer(tj,Qi),xe=gi(oe,2),Re=xe[0],ge=xe[1],at=Re.isFocused,Me=Re.isFileDialogActive,St=u.useRef(typeof window<"u"&&window.isSecureContext&&w&&Lw()),Qt=function(){!St.current&&Me&&setTimeout(function(){if(se.current){var z=se.current.files;z.length||(ge({type:"closeDialog"}),Z())}},300)};u.useEffect(function(){return window.addEventListener("focus",Qt,!1),function(){window.removeEventListener("focus",Qt,!1)}},[se,Me,Z,St]);var et=u.useRef([]),F=function(z){C.current&&C.current.contains(z.target)||(z.preventDefault(),et.current=[])};u.useEffect(function(){return j&&(document.addEventListener("dragover",Hl,!1),document.addEventListener("drop",F,!1)),function(){j&&(document.removeEventListener("dragover",Hl),document.removeEventListener("drop",F))}},[C,j]),u.useEffect(function(){return!n&&y&&C.current&&C.current.focus(),function(){}},[C,y,n]);var Y=u.useCallback(function(T){V?V(T):console.error(T)},[V]),O=u.useCallback(function(T){T.preventDefault(),T.persist(),A(T),et.current=[].concat(Zw(et.current),[T.target]),Gn(T)&&Promise.resolve(a(T)).then(function(z){if(!(Aa(T)&&!D)){var fe=z.length,me=fe>0&&Ow({files:z,accept:ee,minSize:o,maxSize:i,multiple:l,maxFiles:c,validator:H}),ze=fe>0&&!me;ge({isDragAccept:me,isDragReject:ze,isDragActive:!0,type:"setDraggedFiles"}),d&&d(T)}}).catch(function(z){return Y(z)})},[a,d,Y,D,ee,o,i,l,c,H]),U=u.useCallback(function(T){T.preventDefault(),T.persist(),A(T);var z=Gn(T);if(z&&T.dataTransfer)try{T.dataTransfer.dropEffect="copy"}catch{}return z&&f&&f(T),!1},[f,D]),ie=u.useCallback(function(T){T.preventDefault(),T.persist(),A(T);var z=et.current.filter(function(me){return C.current&&C.current.contains(me)}),fe=z.indexOf(T.target);fe!==-1&&z.splice(fe,1),et.current=z,!(z.length>0)&&(ge({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Gn(T)&&p&&p(T))},[C,p,D]),ue=u.useCallback(function(T,z){var fe=[],me=[];T.forEach(function(ze){var Zs=Tf(ze,ee),Yt=gi(Zs,2),Gs=Yt[0],Jr=Yt[1],wr=Rf(ze,o,i),jr=gi(wr,2),_r=jr[0],ei=jr[1],ti=H?H(ze):null;if(Gs&&_r&&!ti)fe.push(ze);else{var si=[Jr,ei];ti&&(si=si.concat(ti)),me.push({file:ze,errors:si.filter(function(Mf){return Mf})})}}),(!l&&fe.length>1||l&&c>=1&&fe.length>c)&&(fe.forEach(function(ze){me.push({file:ze,errors:[Dw]})}),fe.splice(0)),ge({acceptedFiles:fe,fileRejections:me,isDragReject:me.length>0,type:"setFiles"}),h&&h(fe,me,z),me.length>0&&g&&g(me,z),fe.length>0&&b&&b(fe,z)},[ge,l,ee,o,i,c,h,b,g,H]),ve=u.useCallback(function(T){T.preventDefault(),T.persist(),A(T),et.current=[],Gn(T)&&Promise.resolve(a(T)).then(function(z){Aa(T)&&!D||ue(z,T)}).catch(function(z){return Y(z)}),ge({type:"reset"})},[a,ue,Y,D]),be=u.useCallback(function(){if(St.current){ge({type:"openDialog"}),N();var T={multiple:l,types:M};window.showOpenFilePicker(T).then(function(z){return a(z)}).then(function(z){ue(z,null),ge({type:"closeDialog"})}).catch(function(z){$w(z)?(Z(z),ge({type:"closeDialog"})):Uw(z)?(St.current=!1,se.current?(se.current.value=null,se.current.click()):Y(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Y(z)});return}se.current&&(ge({type:"openDialog"}),N(),se.current.value=null,se.current.click())},[ge,N,Z,w,ue,Y,M,l]),Nt=u.useCallback(function(T){!C.current||!C.current.isEqualNode(T.target)||(T.key===" "||T.key==="Enter"||T.keyCode===32||T.keyCode===13)&&(T.preventDefault(),be())},[C,be]),kt=u.useCallback(function(){ge({type:"focus"})},[]),Hs=u.useCallback(function(){ge({type:"blur"})},[]),Ws=u.useCallback(function(){R||(Mw()?setTimeout(be,0):be())},[R,be]),Mt=function(z){return n?null:z},v=function(z){return S?null:Mt(z)},_=function(z){return P?null:Mt(z)},A=function(z){D&&z.stopPropagation()},K=u.useMemo(function(){return function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=T.refKey,fe=z===void 0?"ref":z,me=T.role,ze=T.onKeyDown,Zs=T.onFocus,Yt=T.onBlur,Gs=T.onClick,Jr=T.onDragEnter,wr=T.onDragOver,jr=T.onDragLeave,_r=T.onDrop,ei=Ta(T,Hw);return Le(Le(Ki({onKeyDown:v(Xt(ze,Nt)),onFocus:v(Xt(Zs,kt)),onBlur:v(Xt(Yt,Hs)),onClick:Mt(Xt(Gs,Ws)),onDragEnter:_(Xt(Jr,O)),onDragOver:_(Xt(wr,U)),onDragLeave:_(Xt(jr,ie)),onDrop:_(Xt(_r,ve)),role:typeof me=="string"&&me!==""?me:"presentation"},fe,C),!n&&!S?{tabIndex:0}:{}),ei)}},[C,Nt,kt,Hs,Ws,O,U,ie,ve,S,P,n]),W=u.useCallback(function(T){T.stopPropagation()},[]),$=u.useMemo(function(){return function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=T.refKey,fe=z===void 0?"ref":z,me=T.onChange,ze=T.onClick,Zs=Ta(T,Ww),Yt=Ki({accept:ee,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Mt(Xt(me,ve)),onClick:Mt(Xt(ze,W)),tabIndex:-1},fe,se);return Le(Le({},Yt),Zs)}},[se,s,l,ve,n]);return Le(Le({},Re),{},{isFocused:at&&!n,getRootProps:K,getInputProps:$,rootRef:C,inputRef:se,open:Mt(be)})}function tj(t,e){switch(e.type){case"focus":return Le(Le({},t),{},{isFocused:!0});case"blur":return Le(Le({},t),{},{isFocused:!1});case"openDialog":return Le(Le({},Qi),{},{isFileDialogActive:!0});case"closeDialog":return Le(Le({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Le(Le({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Le(Le({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Le({},Qi);default:return t}}function Zl(){}const sj=t=>{const e={};return t.split(",").forEach(s=>{const n=s.trim();if(n.startsWith(".")){const a=n.substring(1);switch(a){case"csv":e["text/csv"]=[`.${a}`];break;case"xls":e["application/vnd.ms-excel"]=[`.${a}`];break;case"xlsx":e["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"]=[`.${a}`];break;default:e[`application/${a}`]=[`.${a}`]}}else e[n]=[]}),e},rj=()=>{const t=_t(),[e,s]=u.useState(null),[n,a]=u.useState(!1),[i,o]=u.useState(0),[l,c]=u.useState(null),[d,p]=u.useState(!1),f=Ce.upload.maxFileSize,h=Ce.upload.acceptedFileTypes,b=u.useCallback(j=>{c(null);const R=j[0];if(R.size>f){c(`File size too large. Maximum allowed size is ${ci(f)}.`);return}s(R)},[f]),{getRootProps:g,getInputProps:m,isDragActive:x}=If({onDrop:b,accept:sj(h),multiple:!1,maxSize:f}),w=async()=>{var j,R;if(e){c(null),a(!0),o(0);try{const S=setInterval(()=>{o(D=>{const V=D+Math.random()*10;return V>=90?90:V})},300),P=await Ke.uploadFile(e);clearInterval(S),o(100),P.success?(p(!0),setTimeout(()=>{t(`/workflow?session=${P.result.hash}`)},1e3)):c(P.error||"File upload failed. Please try again.")}catch(S){c(((R=(j=S.response)==null?void 0:j.data)==null?void 0:R.error)||"An error occurred during upload. Please try again.")}finally{a(!1)}}},y=()=>{s(null),c(null),p(!1),o(0)};return r.jsxs(Ae,{className:"w-full max-w-3xl mx-auto",children:[r.jsx(De,{children:r.jsx(Oe,{children:"Import Data File"})}),r.jsxs(Te,{className:"space-y-4",children:[l&&r.jsxs(Fe,{variant:"destructive",children:[r.jsx(At,{className:"h-4 w-4"}),r.jsx(tt,{children:"Error"}),r.jsx(Ie,{children:l})]}),d&&r.jsxs(Fe,{variant:"success",children:[r.jsx(Us,{className:"h-4 w-4"}),r.jsx(tt,{children:"Success"}),r.jsx(Ie,{children:"File uploaded successfully! Redirecting to workflow..."})]}),r.jsxs("div",{...g(),className:`
            border-2 border-dashed rounded-lg p-8 text-center
            transition-colors cursor-pointer
            ${x?"border-primary bg-primary/5":"border-muted-foreground/25"}
            ${e?"bg-muted/50":""}
          `,children:[r.jsx("input",{...m()}),r.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[r.jsx(Xi,{className:"h-8 w-8 text-muted-foreground"}),e?r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-medium",children:e.name}),r.jsx("p",{className:"text-xs text-muted-foreground",children:ci(e.size)})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm font-medium",children:x?"Drop the file here":"Drag and drop your file here"}),r.jsxs("p",{className:"text-xs text-muted-foreground",children:["Supported formats: ",h," (max ",ci(f),")"]})]})]})]}),n&&r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{children:"Uploading..."}),r.jsxs("span",{children:[Math.round(i),"%"]})]}),r.jsx(Un,{value:i})]})]}),r.jsxs(xt,{className:"flex justify-between",children:[r.jsx(L,{variant:"outline",onClick:y,disabled:n||!e,children:"Reset"}),r.jsx(L,{onClick:w,disabled:n||!e||d,children:n?r.jsxs(r.Fragment,{children:[r.jsx(ys,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):"Upload & Process"})]})]})},nj=new Bm({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function aj(){return r.jsx(Wm,{client:nj,children:r.jsx(Tx,{children:r.jsx(Ax,{children:r.jsx(bm,{children:r.jsxs(wm,{children:[r.jsx(ft,{path:"/login",element:r.jsx(cy,{})}),r.jsx(ft,{element:r.jsx(Il,{}),children:r.jsxs(ft,{element:r.jsx(Pg,{}),children:[r.jsx(ft,{path:"/",element:r.jsx(ia,{to:"/app/dashboard",replace:!0})}),r.jsx(ft,{path:"/app/dashboard",element:r.jsx(gy,{})}),r.jsx(ft,{path:"/app/workflow/upload",element:r.jsx(rj,{})}),r.jsx(ft,{path:"/app/workflow",element:r.jsx(rw,{})}),r.jsx(ft,{path:"/app/sessions",element:r.jsx(bb,{})}),r.jsx(ft,{path:"/app/sessions/:id",element:r.jsx(Tl,{})}),r.jsx(ft,{path:"/app/logs",element:r.jsx(by,{})}),r.jsx(ft,{path:"/app/logs/:id",element:r.jsx(Tl,{})}),r.jsx(ft,{path:"/app/settings",element:r.jsx(yb,{})}),r.jsx(ft,{element:r.jsx(Il,{requireAdmin:!0}),children:r.jsx(ft,{path:"/app/users",element:r.jsx(pb,{})})})]})}),r.jsx(ft,{path:"*",element:r.jsx(ia,{to:"/app/dashboard",replace:!0})})]})})})})})}_i.createRoot(document.getElementById("root")).render(r.jsx(Se.StrictMode,{children:r.jsx(aj,{})}));
